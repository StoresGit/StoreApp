/*! For license information please see main.c866b8e4.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,a)=>{e.exports=a(202)},153:(e,t,a)=>{var n=a(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var n,s={},c=null,d=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function f(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||p}function b(){}function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=f.prototype;var v=y.prototype=new b;v.constructor=y,x(v,f.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,s={},l=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:a,type:e,key:l,ref:i,props:s,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,r,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case a:case n:o=!0}}if(o)return l=l(o=e),e=""===s?"."+A(o,0):s,j(l)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),P(l,t,r,"",(function(e){return e}))):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+A(i=e[c],c);o+=P(i,t,r,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,r,d=s+A(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _(e,t,a){if(null==e)return e;var n=[],r=0;return P(e,n,"","",(function(e){return t.call(a,e,r++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},B={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:B,ReactCurrentOwner:w};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,a){_(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=r,t.Profiler=l,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:a,type:e.type,key:s,ref:l,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,a){return O.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,a){return O.current.useReducer(e,t,a)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return O.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,l=r>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,a))c<r&&0>s(d,o)?(e[n]=d,e[c]=a,n=c):(e[n]=o,e[i]=a,n=i);else{if(!(c<r&&0>s(d,a)))break e;e[n]=d,e[c]=a,n=c}}}return t}function s(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,x=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,a(c,t)}t=n(d)}}function j(e){if(g=!1,v(e),!x)if(null!==n(c))x=!0,B(N);else{var t=n(d);null!==t&&R(j,t.startTime-e)}}function N(e,a){x=!1,g&&(g=!1,b(C),C=-1),p=!0;var s=h;try{for(v(a),m=n(c);null!==m&&(!(m.expirationTime>a)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=a);a=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&r(c),v(a)}else r(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&R(j,u.startTime-a),o=!1}return o}finally{m=null,h=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,E=5,A=-1;function P(){return!(t.unstable_now()-A<E)}function _(){if(null!==S){var e=t.unstable_now();A=e;var a=!0;try{a=S(!0,e)}finally{a?w():(k=!1,S=null)}}else k=!1}if("function"===typeof y)w=function(){y(_)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=_,w=function(){O.postMessage(null)}}else w=function(){f(_,0)};function B(e){S=e,k||(k=!0,w())}function R(e,a){C=f((function(){e(t.unstable_now())}),a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,B(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,r,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,a(d,e),null===n(c)&&e===n(d)&&(g?(b(C),C=-1):g=!0,R(j,s-l))):(e.sortIndex=i,a(c,e),x||p||(x=!0,B(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},391:(e,t,a)=>{var n=a(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,a)=>{e.exports=a(153)},730:(e,t,a)=>{var n=a(43),r=a(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function x(e,t,a,n,r,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new x(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new x(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new x(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new x(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new x(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new x(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,a,n){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,n){if(null===t||"undefined"===typeof t||function(e,t,a,n){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,n))return!0;if(n)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,r,n)&&(a=null),n||null===r?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):r.mustUseProperty?e[r.propertyName]=null===a?3!==r.type&&"":a:(t=r.attributeName,n=r.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(r=r.type)||4===r&&!0===a?"":""+a,n?e.setAttributeNS(n,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,b);g[t]=new x(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,b);g[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,b);g[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,L=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function M(e,t){if(!e||z)return"";z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=n.stack.split("\n"),l=r.length-1,i=s.length-1;1<=l&&0<=i&&r[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(r[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||r[l]!==s[i]){var o="\n"+r[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?U(e):""}function F(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(a){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Q(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var a=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function J(e,t){var a=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;a=H(null!=t.value?t.value:a),e._wrapperState={initialChecked:n,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Z(e,t);var a=H(t.value),n=t.type;if(null!=a)"number"===n?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,a):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ee(e,t,a){"number"===t&&G(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var te=Array.isArray;function ae(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+H(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(s(92));if(te(a)){if(1<a.length)throw Error(s(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:H(a)}}function se(e,t){var a=H(t.value),n=H(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function xe(e,t,a){return null==t||"boolean"===typeof t||""===t?"":a||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var n=0===a.indexOf("--"),r=xe(a,t[a],n);"float"===a&&(a="cssFloat"),n?e.setProperty(a,r):e[a]=r}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var fe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=yr(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=jr(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Ee(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var _e=!1;function Te(e,t,a){if(_e)return e(t,a);_e=!0;try{return Ae(e,t,a)}finally{_e=!1,(null!==we||null!==ke)&&(Pe(),Ee())}}function Oe(e,t){var a=e.stateNode;if(null===a)return null;var n=jr(a);if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(s(231,t,typeof a));return a}var Be=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Be=!1}function Ie(e,t,a,n,r,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(d){this.onError(d)}}var De=!1,Le=null,Ue=!1,ze=null,Me={onError:function(e){De=!0,Le=e}};function Fe(e,t,a,n,r,s,l,i,o){De=!1,Le=null,Ie.apply(Me,arguments)}function qe(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(n=r.return)){a=n;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return He(r),e;if(l===n)return He(r),t;l=l.sibling}throw Error(s(188))}if(a.return!==n.return)a=r,n=l;else{for(var i=!1,o=r.child;o;){if(o===a){i=!0,a=r,n=l;break}if(o===n){i=!0,n=r,a=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===a){i=!0,a=l,n=r;break}if(o===n){i=!0,n=l,a=r;break}o=o.sibling}if(!i)throw Error(s(189))}}if(a.alternate!==n)throw Error(s(190))}if(3!==a.tag)throw Error(s(188));return a.stateNode.current===a?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ze=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,at=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,l=268435455&a;if(0!==l){var i=l&~r;0!==i?n=ut(i):0!==(s&=l)&&(n=ut(s))}else 0!==(l=a&~r)?n=ut(l):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(a=31-lt(t)),n|=e[a],t&=~r;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ft(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=a}function bt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-lt(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,kt,St,Ct=!1,Et=[],At=null,Pt=null,_t=null,Tt=new Map,Ot=new Map,Bt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,a,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&Nt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=br(e.target);if(null!==t){var a=qe(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=Ve(a)))return e.blockedOn=t,void St(e.priority,(function(){wt(a)}))}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=yr(a))&&Nt(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);ve=n,a.target.dispatchEvent(n),ve=null,t.shift()}return!0}function zt(e,t,a){Ut(e)&&a.delete(t)}function Mt(){Ct=!1,null!==At&&Ut(At)&&(At=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==_t&&Ut(_t)&&(_t=null),Tt.forEach(zt),Ot.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mt)))}function qt(e){function t(t){return Ft(t,e)}if(0<Et.length){Ft(Et[0],e);for(var a=1;a<Et.length;a++){var n=Et[a];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&Ft(At,e),null!==Pt&&Ft(Pt,e),null!==_t&&Ft(_t,e),Tt.forEach(t),Ot.forEach(t),a=0;a<Bt.length;a++)(n=Bt[a]).blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&null===(a=Bt[0]).blockedOn;)Lt(a),null===a.blockedOn&&Bt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function Qt(e,t,a,n){var r=yt,s=Vt.transition;Vt.transition=null;try{yt=1,Kt(e,t,a,n)}finally{yt=r,Vt.transition=s}}function Wt(e,t,a,n){var r=yt,s=Vt.transition;Vt.transition=null;try{yt=4,Kt(e,t,a,n)}finally{yt=r,Vt.transition=s}}function Kt(e,t,a,n){if(Ht){var r=Yt(e,t,a,n);if(null===r)Hn(e,t,n,Gt,a),It(e,n);else if(function(e,t,a,n,r){switch(t){case"focusin":return At=Dt(At,e,t,a,n,r),!0;case"dragenter":return Pt=Dt(Pt,e,t,a,n,r),!0;case"mouseover":return _t=Dt(_t,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return Tt.set(s,Dt(Tt.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ot.set(s,Dt(Ot.get(s)||null,e,t,a,n,r)),!0}return!1}(r,e,t,a,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Rt.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&jt(s),null===(s=Yt(e,t,a,n))&&Hn(e,t,n,Gt,a),s===r)break;r=s}null!==r&&n.stopPropagation()}else Hn(e,t,n,null,a)}}var Gt=null;function Yt(e,t,a,n){if(Gt=null,null!==(e=br(e=je(n))))if(null===(t=qe(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case at:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,$t=null;function ea(){if($t)return $t;var e,t,a=Xt,n=a.length,r="value"in Zt?Zt.value:Zt.textContent,s=r.length;for(e=0;e<n&&a[e]===r[e];e++);var l=n-e;for(t=1;t<=l&&a[n-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function aa(){return!0}function na(){return!1}function ra(e){function t(t,a,n,r,s){for(var l in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?aa:na,this.isPropagationStopped=na,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var sa,la,ia,oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ra(oa),da=L({},oa,{view:0,detail:0}),ua=ra(da),ma=L({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&"mousemove"===e.type?(sa=e.screenX-ia.screenX,la=e.screenY-ia.screenY):la=sa=0,ia=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),ha=ra(ma),pa=ra(L({},ma,{dataTransfer:0})),xa=ra(L({},da,{relatedTarget:0})),ga=ra(L({},oa,{animationName:0,elapsedTime:0,pseudoElement:0})),fa=L({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ba=ra(fa),ya=ra(L({},oa,{data:0})),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Na[e])&&!!t[e]}function ka(){return wa}var Sa=L({},da,{key:function(e){if(e.key){var t=va[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ja[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ca=ra(Sa),Ea=ra(L({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Aa=ra(L({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka})),Pa=ra(L({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0})),_a=L({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=ra(_a),Oa=[9,13,27,32],Ba=d&&"CompositionEvent"in window,Ra=null;d&&"documentMode"in document&&(Ra=document.documentMode);var Ia=d&&"TextEvent"in window&&!Ra,Da=d&&(!Ba||Ra&&8<Ra&&11>=Ra),La=String.fromCharCode(32),Ua=!1;function za(e,t){switch(e){case"keyup":return-1!==Oa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fa=!1;var qa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qa[e.type]:"textarea"===t}function Ha(e,t,a,n){Ce(n),0<(t=Wn(t,"onChange")).length&&(a=new ca("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Qa=null,Wa=null;function Ka(e){Un(e,0)}function Ga(e){if(K(vr(e)))return e}function Ya(e,t){if("change"===e)return t}var Ja=!1;if(d){var Za;if(d){var Xa="oninput"in document;if(!Xa){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Xa="function"===typeof $a.oninput}Za=Xa}else Za=!1;Ja=Za&&(!document.documentMode||9<document.documentMode)}function en(){Qa&&(Qa.detachEvent("onpropertychange",tn),Wa=Qa=null)}function tn(e){if("value"===e.propertyName&&Ga(Wa)){var t=[];Ha(t,Wa,e,je(e)),Te(Ka,t)}}function an(e,t,a){"focusin"===e?(en(),Wa=a,(Qa=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ga(Wa)}function rn(e,t){if("click"===e)return Ga(t)}function sn(e,t){if("input"===e||"change"===e)return Ga(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!u.call(t,r)||!ln(e[r],t[r]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var a,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=G((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=mn(),a=e.focusedElem,n=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&un(a.ownerDocument.documentElement,a)){if(null!==n&&hn(a))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=a.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!e.extend&&s>n&&(r=n,n=s,s=r),r=dn(a,s);var l=dn(a,n);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,fn=null,bn=null,yn=!1;function vn(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;yn||null==gn||gn!==G(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&on(bn,n)||(bn=n,0<(n=Wn(fn,"onSelect")).length&&(t=new ca("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=gn)))}function jn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},wn={},kn={};function Sn(e){if(wn[e])return wn[e];if(!Nn[e])return e;var t,a=Nn[e];for(t in a)if(a.hasOwnProperty(t)&&t in kn)return wn[e]=a[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);var Cn=Sn("animationend"),En=Sn("animationiteration"),An=Sn("animationstart"),Pn=Sn("transitionend"),_n=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){_n.set(e,t),o(t,[e])}for(var Bn=0;Bn<Tn.length;Bn++){var Rn=Tn[Bn];On(Rn.toLowerCase(),"on"+(Rn[0].toUpperCase()+Rn.slice(1)))}On(Cn,"onAnimationEnd"),On(En,"onAnimationIteration"),On(An,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Ln(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,n,r,l,i,o,c){if(Fe.apply(this,arguments),De){if(!De)throw Error(s(198));var d=Le;De=!1,Le=null,Ue||(Ue=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Un(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&r.isPropagationStopped())break e;Ln(r,i,c),s=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&r.isPropagationStopped())break e;Ln(r,i,c),s=o}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zn(e,t){var a=t[xr];void 0===a&&(a=t[xr]=new Set);var n=e+"__bubble";a.has(n)||(Vn(t,e,2,!1),a.add(n))}function Mn(e,t,a){var n=0;t&&(n|=4),Vn(a,e,n,t)}var Fn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Fn]){e[Fn]=!0,l.forEach((function(t){"selectionchange"!==t&&(Dn.has(t)||Mn(t,!1,e),Mn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fn]||(t[Fn]=!0,Mn("selectionchange",!1,t))}}function Vn(e,t,a,n){switch(Jt(t)){case 1:var r=Qt;break;case 4:r=Wt;break;default:r=Kt}a=r.bind(null,t,a,e),r=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Hn(e,t,a,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var i=n.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===l)for(l=n.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;l=l.return}for(;null!==i;){if(null===(l=br(i)))return;if(5===(o=l.tag)||6===o){n=s=l;continue e}i=i.parentNode}}n=n.return}Te((function(){var n=s,r=je(a),l=[];e:{var i=_n.get(e);if(void 0!==i){var o=ca,c=e;switch(e){case"keypress":if(0===ta(a))break e;case"keydown":case"keyup":o=Ca;break;case"focusin":c="focus",o=xa;break;case"focusout":c="blur",o=xa;break;case"beforeblur":case"afterblur":o=xa;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Aa;break;case Cn:case En:case An:o=ga;break;case Pn:o=Pa;break;case"scroll":o=ua;break;case"wheel":o=Ta;break;case"copy":case"cut":case"paste":o=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ea}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,p=n;null!==p;){var x=(h=p).stateNode;if(5===h.tag&&null!==x&&(h=x,null!==m&&(null!=(x=Oe(p,m))&&d.push(Qn(p,x,h)))),u)break;p=p.return}0<d.length&&(i=new o(i,c,null,a,r),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||a===ve||!(c=a.relatedTarget||a.fromElement)||!br(c)&&!c[pr])&&(o||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=a.relatedTarget||a.toElement)?br(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=ha,x="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ea,x="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?i:vr(o),h=null==c?i:vr(c),(i=new d(x,p+"leave",o,a,r)).target=u,i.relatedTarget=h,x=null,br(r)===n&&((d=new d(m,p+"enter",c,a,r)).target=h,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,p=0,h=d=o;h;h=Kn(h))p++;for(h=0,x=m;x;x=Kn(x))h++;for(;0<p-h;)d=Kn(d),p--;for(;0<h-p;)m=Kn(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Kn(d),m=Kn(m)}d=null}else d=null;null!==o&&Gn(l,i,o,d,!1),null!==c&&null!==u&&Gn(l,u,c,d,!0)}if("select"===(o=(i=n?vr(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var g=Ya;else if(Va(i))if(Ja)g=sn;else{g=nn;var f=an}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=rn);switch(g&&(g=g(e,n))?Ha(l,g,a,r):(f&&f(e,i,n),"focusout"===e&&(f=i._wrapperState)&&f.controlled&&"number"===i.type&&ee(i,"number",i.value)),f=n?vr(n):window,e){case"focusin":(Va(f)||"true"===f.contentEditable)&&(gn=f,fn=n,bn=null);break;case"focusout":bn=fn=gn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,vn(l,a,r);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":vn(l,a,r)}var b;if(Ba)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Fa?za(e,a)&&(y="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(y="onCompositionStart");y&&(Da&&"ko"!==a.locale&&(Fa||"onCompositionStart"!==y?"onCompositionEnd"===y&&Fa&&(b=ea()):(Xt="value"in(Zt=r)?Zt.value:Zt.textContent,Fa=!0)),0<(f=Wn(n,y)).length&&(y=new ya(y,e,null,a,r),l.push({event:y,listeners:f}),b?y.data=b:null!==(b=Ma(a))&&(y.data=b))),(b=Ia?function(e,t){switch(e){case"compositionend":return Ma(t);case"keypress":return 32!==t.which?null:(Ua=!0,La);case"textInput":return(e=t.data)===La&&Ua?null:e;default:return null}}(e,a):function(e,t){if(Fa)return"compositionend"===e||!Ba&&za(e,t)?(e=ea(),$t=Xt=Zt=null,Fa=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Da&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(n=Wn(n,"onBeforeInput")).length&&(r=new ya("onBeforeInput","beforeinput",null,a,r),l.push({event:r,listeners:n}),r.data=b))}Un(l,t)}))}function Qn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Wn(e,t){for(var a=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Oe(e,a))&&n.unshift(Qn(e,s,r)),null!=(s=Oe(e,t))&&n.push(Qn(e,s,r))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,a,n,r){for(var s=t._reactName,l=[];null!==a&&a!==n;){var i=a,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,r?null!=(o=Oe(a,s))&&l.unshift(Qn(a,o,i)):r||null!=(o=Oe(a,s))&&l.push(Qn(a,o,i))),a=a.return}0!==l.length&&e.push({event:t,listeners:l})}var Yn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Zn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Jn,"")}function Xn(e,t,a){if(t=Zn(t),Zn(e)!==t&&a)throw Error(s(425))}function $n(){}var er=null,tr=null;function ar(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ir)}:nr;function ir(e){setTimeout((function(){throw e}))}function or(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)){if(0===n)return e.removeChild(r),void qt(t);n--}else"$"!==a&&"$?"!==a&&"$!"!==a||n++;a=r}while(a);qt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,hr="__reactProps$"+ur,pr="__reactContainer$"+ur,xr="__reactEvents$"+ur,gr="__reactListeners$"+ur,fr="__reactHandles$"+ur;function br(e){var t=e[mr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[pr]||a[mr]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=dr(e);null!==e;){if(a=e[mr])return a;e=dr(e)}return t}a=(e=a).parentNode}return null}function yr(e){return!(e=e[mr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jr(e){return e[hr]||null}var Nr=[],wr=-1;function kr(e){return{current:e}}function Sr(e){0>wr||(e.current=Nr[wr],Nr[wr]=null,wr--)}function Cr(e,t){wr++,Nr[wr]=e.current,e.current=t}var Er={},Ar=kr(Er),Pr=kr(!1),_r=Er;function Tr(e,t){var a=e.type.contextTypes;if(!a)return Er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in a)s[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Br(){Sr(Pr),Sr(Ar)}function Rr(e,t,a){if(Ar.current!==Er)throw Error(s(168));Cr(Ar,t),Cr(Pr,a)}function Ir(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return a;for(var r in n=n.getChildContext())if(!(r in t))throw Error(s(108,V(e)||"Unknown",r));return L({},a,n)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,_r=Ar.current,Cr(Ar,e),Cr(Pr,Pr.current),!0}function Lr(e,t,a){var n=e.stateNode;if(!n)throw Error(s(169));a?(e=Ir(e,t,_r),n.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(Ar),Cr(Ar,e)):Sr(Pr),Cr(Pr,a)}var Ur=null,zr=!1,Mr=!1;function Fr(e){null===Ur?Ur=[e]:Ur.push(e)}function qr(){if(!Mr&&null!==Ur){Mr=!0;var e=0,t=yt;try{var a=Ur;for(yt=1;e<a.length;e++){var n=a[e];do{n=n(!0)}while(null!==n)}Ur=null,zr=!1}catch(r){throw null!==Ur&&(Ur=Ur.slice(e+1)),Ke($e,qr),r}finally{yt=t,Mr=!1}}return null}var Vr=[],Hr=0,Qr=null,Wr=0,Kr=[],Gr=0,Yr=null,Jr=1,Zr="";function Xr(e,t){Vr[Hr++]=Wr,Vr[Hr++]=Qr,Qr=e,Wr=t}function $r(e,t,a){Kr[Gr++]=Jr,Kr[Gr++]=Zr,Kr[Gr++]=Yr,Yr=e;var n=Jr;e=Zr;var r=32-lt(n)-1;n&=~(1<<r),a+=1;var s=32-lt(t)+r;if(30<s){var l=r-r%5;s=(n&(1<<l)-1).toString(32),n>>=l,r-=l,Jr=1<<32-lt(t)+r|a<<r|n,Zr=s+e}else Jr=1<<s|a<<r|n,Zr=e}function es(e){null!==e.return&&(Xr(e,1),$r(e,1,0))}function ts(e){for(;e===Qr;)Qr=Vr[--Hr],Vr[Hr]=null,Wr=Vr[--Hr],Vr[Hr]=null;for(;e===Yr;)Yr=Kr[--Gr],Kr[Gr]=null,Zr=Kr[--Gr],Kr[Gr]=null,Jr=Kr[--Gr],Kr[Gr]=null}var as=null,ns=null,rs=!1,ss=null;function ls(e,t){var a=Tc(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function is(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ns=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==Yr?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=Tc(18,null,null,0)).stateNode=t,a.return=e,e.child=a,as=e,ns=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=ns;if(t){var a=t;if(!is(e,t)){if(os(e))throw Error(s(418));t=cr(a.nextSibling);var n=as;t&&is(e,t)?ls(n,a):(e.flags=-4097&e.flags|2,rs=!1,as=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,as=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function us(e){if(e!==as)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ar(e.type,e.memoizedProps)),t&&(t=ns)){if(os(e))throw ms(),Error(s(418));for(;t;)ls(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){ns=cr(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}ns=null}}else ns=as?cr(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=ns;e;)e=cr(e.nextSibling)}function hs(){ns=as=null,rs=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var xs=v.ReactCurrentBatchConfig;function gs(e,t,a){if(null!==(e=a.ref)&&"function"!==typeof e&&"object"!==typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(s(309));var n=a.stateNode}if(!n)throw Error(s(147,e));var r=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function l(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=2,a):n:(t.flags|=2,a):(t.flags|=1048576,a)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,a,n){return null===t||6!==t.tag?((t=Lc(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function c(e,t,a,n){var s=a.type;return s===w?u(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&bs(s)===t.type)?((n=r(t,a.props)).ref=gs(e,t,a),n.return=e,n):((n=Rc(a.type,a.key,a.props,null,e.mode,n)).ref=gs(e,t,a),n.return=e,n)}function d(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Uc(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function u(e,t,a,n,s){return null===t||7!==t.tag?((t=Ic(a,e.mode,n,s)).return=e,t):((t=r(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(a=Rc(t.type,t.key,t.props,null,e.mode,a)).ref=gs(e,null,t),a.return=e,a;case N:return(t=Uc(t,e.mode,a)).return=e,t;case O:return m(e,(0,t._init)(t._payload),a)}if(te(t)||I(t))return(t=Ic(t,e.mode,a,null)).return=e,t;fs(e,t)}return null}function h(e,t,a,n){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a)return null!==r?null:o(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return a.key===r?c(e,t,a,n):null;case N:return a.key===r?d(e,t,a,n):null;case O:return h(e,t,(r=a._init)(a._payload),n)}if(te(a)||I(a))return null!==r?null:u(e,t,a,n,null);fs(e,a)}return null}function p(e,t,a,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(a)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?a:n.key)||null,n,r);case N:return d(t,e=e.get(null===n.key?a:n.key)||null,n,r);case O:return p(e,t,a,(0,n._init)(n._payload),r)}if(te(n)||I(n))return u(t,e=e.get(a)||null,n,r,null);fs(t,n)}return null}function x(r,s,i,o){for(var c=null,d=null,u=s,x=s=0,g=null;null!==u&&x<i.length;x++){u.index>x?(g=u,u=null):g=u.sibling;var f=h(r,u,i[x],o);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(r,u),s=l(f,s,x),null===d?c=f:d.sibling=f,d=f,u=g}if(x===i.length)return a(r,u),rs&&Xr(r,x),c;if(null===u){for(;x<i.length;x++)null!==(u=m(r,i[x],o))&&(s=l(u,s,x),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,x),c}for(u=n(r,u);x<i.length;x++)null!==(g=p(u,r,x,i[x],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?x:g.key),s=l(g,s,x),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(r,e)})),rs&&Xr(r,x),c}function g(r,i,o,c){var d=I(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,x=i,g=i=0,f=null,b=o.next();null!==x&&!b.done;g++,b=o.next()){x.index>g?(f=x,x=null):f=x.sibling;var y=h(r,x,b.value,c);if(null===y){null===x&&(x=f);break}e&&x&&null===y.alternate&&t(r,x),i=l(y,i,g),null===u?d=y:u.sibling=y,u=y,x=f}if(b.done)return a(r,x),rs&&Xr(r,g),d;if(null===x){for(;!b.done;g++,b=o.next())null!==(b=m(r,b.value,c))&&(i=l(b,i,g),null===u?d=b:u.sibling=b,u=b);return rs&&Xr(r,g),d}for(x=n(r,x);!b.done;g++,b=o.next())null!==(b=p(x,r,g,b.value,c))&&(e&&null!==b.alternate&&x.delete(null===b.key?g:b.key),i=l(b,i,g),null===u?d=b:u.sibling=b,u=b);return e&&x.forEach((function(e){return t(r,e)})),rs&&Xr(r,g),d}return function e(n,s,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){a(n,d.sibling),(s=r(d,l.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bs(c)===d.type){a(n,d.sibling),(s=r(d,l.props)).ref=gs(n,d,l),s.return=n,n=s;break e}a(n,d);break}t(n,d),d=d.sibling}l.type===w?((s=Ic(l.props.children,n.mode,o,l.key)).return=n,n=s):((o=Rc(l.type,l.key,l.props,null,n.mode,o)).ref=gs(n,s,l),o.return=n,n=o)}return i(n);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){a(n,s.sibling),(s=r(s,l.children||[])).return=n,n=s;break e}a(n,s);break}t(n,s),s=s.sibling}(s=Uc(l,n.mode,o)).return=n,n=s}return i(n);case O:return e(n,s,(d=l._init)(l._payload),o)}if(te(l))return x(n,s,l,o);if(I(l))return g(n,s,l,o);fs(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(a(n,s.sibling),(s=r(s,l)).return=n,n=s):(a(n,s),(s=Lc(l,n.mode,o)).return=n,n=s),i(n)):a(n,s)}}var vs=ys(!0),js=ys(!1),Ns=kr(null),ws=null,ks=null,Ss=null;function Cs(){Ss=ks=ws=null}function Es(e){var t=Ns.current;Sr(Ns),e._currentValue=t}function As(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Ps(e,t){ws=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===ws)throw Error(s(308));ks=e,ws.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ts=null;function Os(e){null===Ts?Ts=[e]:Ts.push(e)}function Bs(e,t,a,n){var r=t.interleaved;return null===r?(a.next=a,Os(t)):(a.next=r.next,r.next=a),t.interleaved=a,Rs(e,n)}function Rs(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var Is=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ao)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Rs(e,a)}return null===(r=n.interleaved)?(t.next=t,Os(n)):(t.next=r.next,r.next=t),n.interleaved=t,Rs(e,a)}function Ms(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,bt(e,a)}}function Fs(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,s=null;if(null!==(a=a.firstBaseUpdate)){do{var l={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===s?r=s=l:s=s.next=l,a=a.next}while(null!==a);null===s?r=s=t:s=s.next=t}else r=s=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function qs(e,t,a,n){var r=e.updateQueue;Is=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=r.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,h=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,x=i;switch(m=t,h=a,x.tag){case 1:if("function"===typeof(p=x.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=x.payload)?p.call(h,u,m):p)||void 0===m)break e;u=L({},u,m);break e;case 2:Is=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=m;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(m=i).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{l|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Do|=l,e.lanes=l,e.memoizedState=u}}function Vs(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=a,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var Hs={},Qs=kr(Hs),Ws=kr(Hs),Ks=kr(Hs);function Gs(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Cr(Ks,t),Cr(Ws,e),Cr(Qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Qs),Cr(Qs,t)}function Js(){Sr(Qs),Sr(Ws),Sr(Ks)}function Zs(e){Gs(Ks.current);var t=Gs(Qs.current),a=oe(t,e.type);t!==a&&(Cr(Ws,e),Cr(Qs,a))}function Xs(e){Ws.current===e&&(Sr(Qs),Sr(Ws))}var $s=kr(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function al(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var nl=v.ReactCurrentDispatcher,rl=v.ReactCurrentBatchConfig,sl=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function hl(){throw Error(s(321))}function pl(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ln(e[a],t[a]))return!1;return!0}function xl(e,t,a,n,r,l){if(sl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=null===e||null===e.memoizedState?Xl:$l,e=a(n,r),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(s(301));l+=1,ol=il=null,t.updateQueue=null,nl.current=ei,e=a(n,r)}while(dl)}if(nl.current=Zl,t=null!==il&&null!==il.next,sl=0,ol=il=ll=null,cl=!1,t)throw Error(s(300));return e}function gl(){var e=0!==ul;return ul=0,e}function fl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function bl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(s(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function yl(e,t){return"function"===typeof t?t(e):t}function vl(e){var t=bl(),a=t.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=e;var n=il,r=n.baseQueue,l=a.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}n.baseQueue=r=l,a.pending=null}if(null!==r){l=r.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((sl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,ll.lanes|=u,Do|=u}d=d.next}while(null!==d&&d!==l);null===c?i=n:c.next=o,ln(n,t.memoizedState)||(bi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,a.lastRenderedState=n}if(null!==(e=a.interleaved)){r=e;do{l=r.lane,ll.lanes|=l,Do|=l,r=r.next}while(r!==e)}else null===r&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function jl(e){var t=bl(),a=t.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,l=t.memoizedState;if(null!==r){a.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);ln(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function Nl(){}function wl(e,t){var a=ll,n=bl(),r=t(),l=!ln(n.memoizedState,r);if(l&&(n.memoizedState=r,bi=!0),n=n.queue,Il(Cl.bind(null,a,n,e),[e]),n.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(a.flags|=2048,_l(9,Sl.bind(null,a,n,r,t),void 0,null),null===Po)throw Error(s(349));0!==(30&sl)||kl(a,t,r)}return r}function kl(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Sl(e,t,a,n){t.value=a,t.getSnapshot=n,El(t)&&Al(e)}function Cl(e,t,a){return a((function(){El(t)&&Al(e)}))}function El(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ln(e,a)}catch(n){return!0}}function Al(e){var t=Rs(e,1);null!==t&&ac(t,e,1,-1)}function Pl(e){var t=fl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=Kl.bind(null,ll,e),[t.memoizedState,e]}function _l(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Tl(){return bl().memoizedState}function Ol(e,t,a,n){var r=fl();ll.flags|=e,r.memoizedState=_l(1|t,a,void 0,void 0===n?null:n)}function Bl(e,t,a,n){var r=bl();n=void 0===n?null:n;var s=void 0;if(null!==il){var l=il.memoizedState;if(s=l.destroy,null!==n&&pl(n,l.deps))return void(r.memoizedState=_l(t,a,s,n))}ll.flags|=e,r.memoizedState=_l(1|t,a,s,n)}function Rl(e,t){return Ol(8390656,8,e,t)}function Il(e,t){return Bl(2048,8,e,t)}function Dl(e,t){return Bl(4,2,e,t)}function Ll(e,t){return Bl(4,4,e,t)}function Ul(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zl(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Bl(4,4,Ul.bind(null,t,e),a)}function Ml(){}function Fl(e,t){var a=bl();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&pl(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function ql(e,t){var a=bl();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&pl(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function Vl(e,t,a){return 0===(21&sl)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=a):(ln(a,t)||(a=xt(),ll.lanes|=a,Do|=a,e.baseState=!0),t)}function Hl(e,t){var a=yt;yt=0!==a&&4>a?a:4,e(!0);var n=rl.transition;rl.transition={};try{e(!1),t()}finally{yt=a,rl.transition=n}}function Ql(){return bl().memoizedState}function Wl(e,t,a){var n=tc(e);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},Gl(e))Yl(t,a);else if(null!==(a=Bs(e,t,a,n))){ac(a,e,n,ec()),Jl(a,t,n)}}function Kl(e,t,a){var n=tc(e),r={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))Yl(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,a);if(r.hasEagerState=!0,r.eagerState=i,ln(i,l)){var o=t.interleaved;return null===o?(r.next=r,Os(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(a=Bs(e,t,r,n))&&(ac(a,e,n,r=ec()),Jl(a,t,n))}}function Gl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Yl(e,t){dl=cl=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Jl(e,t,a){if(0!==(4194240&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,bt(e,a)}}var Zl={readContext:_s,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Xl={readContext:_s,useCallback:function(e,t){return fl().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Rl,useImperativeHandle:function(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Ol(4194308,4,Ul.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var a=fl();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=fl();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wl.bind(null,ll,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fl().memoizedState=e},useState:Pl,useDebugValue:Ml,useDeferredValue:function(e){return fl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Hl.bind(null,e[1]),fl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=ll,r=fl();if(rs){if(void 0===a)throw Error(s(407));a=a()}else{if(a=t(),null===Po)throw Error(s(349));0!==(30&sl)||kl(n,t,a)}r.memoizedState=a;var l={value:a,getSnapshot:t};return r.queue=l,Rl(Cl.bind(null,n,l,e),[e]),n.flags|=2048,_l(9,Sl.bind(null,n,l,a,t),void 0,null),a},useId:function(){var e=fl(),t=Po.identifierPrefix;if(rs){var a=Zr;t=":"+t+"R"+(a=(Jr&~(1<<32-lt(Jr)-1)).toString(32)+a),0<(a=ul++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$l={readContext:_s,useCallback:Fl,useContext:_s,useEffect:Il,useImperativeHandle:zl,useInsertionEffect:Dl,useLayoutEffect:Ll,useMemo:ql,useReducer:vl,useRef:Tl,useState:function(){return vl(yl)},useDebugValue:Ml,useDeferredValue:function(e){return Vl(bl(),il.memoizedState,e)},useTransition:function(){return[vl(yl)[0],bl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Ql,unstable_isNewReconciler:!1},ei={readContext:_s,useCallback:Fl,useContext:_s,useEffect:Il,useImperativeHandle:zl,useInsertionEffect:Dl,useLayoutEffect:Ll,useMemo:ql,useReducer:jl,useRef:Tl,useState:function(){return jl(yl)},useDebugValue:Ml,useDeferredValue:function(e){var t=bl();return null===il?t.memoizedState=e:Vl(t,il.memoizedState,e)},useTransition:function(){return[jl(yl)[0],bl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Ql,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var a in t=L({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function ai(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:L({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var ni={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),s=Us(n,r);s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=zs(e,s,r))&&(ac(t,e,r,n),Ms(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),s=Us(n,r);s.tag=1,s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=zs(e,s,r))&&(ac(t,e,r,n),Ms(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ec(),n=tc(e),r=Us(a,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=zs(e,r,n))&&(ac(t,e,n,a),Ms(t,e,n))}};function ri(e,t,a,n,r,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!on(a,n)||!on(r,s))}function si(e,t,a){var n=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(r=Or(t)?_r:Ar.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Tr(e,r):Er),t=new t(a,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function li(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function ii(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=_s(s):(s=Or(t)?_r:Ar.current,r.context=Tr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ai(e,t,s,a),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ni.enqueueReplaceState(r,r.state,null),qs(e,a,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var a="",n=t;do{a+=F(n),n=n.return}while(n);var r=a}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ci(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(a){setTimeout((function(){throw a}))}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,a){(a=Us(-1,a)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){Ho||(Ho=!0,Qo=n),di(0,t)},a}function hi(e,t,a){(a=Us(-1,a)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;a.payload=function(){return n(r)},a.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(a.callback=function(){di(0,t),"function"!==typeof n&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function pi(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new ui;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(r.add(a),e=Sc.bind(null,e,t,a),t.then(e,e))}function xi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,a,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Us(-1,1)).tag=2,zs(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var fi=v.ReactCurrentOwner,bi=!1;function yi(e,t,a,n){t.child=null===e?js(t,null,a,n):vs(t,e.child,a,n)}function vi(e,t,a,n,r){a=a.render;var s=t.ref;return Ps(t,r),n=xl(e,t,a,n,s,r),a=gl(),null===e||bi?(rs&&a&&es(t),t.flags|=1,yi(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function ji(e,t,a,n,r){if(null===e){var s=a.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Rc(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,n,r))}if(s=e.child,0===(e.lanes&r)){var l=s.memoizedProps;if((a=null!==(a=a.compare)?a:on)(l,n)&&e.ref===t.ref)return Vi(e,t,r)}return t.flags|=1,(e=Bc(s,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,a,n,r){if(null!==e){var s=e.memoizedProps;if(on(s,n)&&e.ref===t.ref){if(bi=!1,t.pendingProps=n=s,0===(e.lanes&r))return t.lanes=e.lanes,Vi(e,t,r);0!==(131072&e.flags)&&(bi=!0)}}return Si(e,t,a,n,r)}function wi(e,t,a){var n=t.pendingProps,r=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Bo,Oo),Oo|=a;else{if(0===(1073741824&a))return e=null!==s?s.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Bo,Oo),Oo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:a,Cr(Bo,Oo),Oo|=n}else null!==s?(n=s.baseLanes|a,t.memoizedState=null):n=a,Cr(Bo,Oo),Oo|=n;return yi(e,t,r,a),t.child}function ki(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,a,n,r){var s=Or(a)?_r:Ar.current;return s=Tr(t,s),Ps(t,r),a=xl(e,t,a,n,s,r),n=gl(),null===e||bi?(rs&&n&&es(t),t.flags|=1,yi(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function Ci(e,t,a,n,r){if(Or(a)){var s=!0;Dr(t)}else s=!1;if(Ps(t,r),null===t.stateNode)qi(e,t),si(t,a,n),ii(t,a,n,r),n=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=a.contextType;"object"===typeof c&&null!==c?c=_s(c):c=Tr(t,c=Or(a)?_r:Ar.current);var d=a.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==n||o!==c)&&li(t,l,n,c),Is=!1;var m=t.memoizedState;l.state=m,qs(t,n,l,r),o=t.memoizedState,i!==n||m!==o||Pr.current||Is?("function"===typeof d&&(ai(t,a,d,n),o=t.memoizedState),(i=Is||ri(t,a,i,n,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=c,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=a.contextType)&&null!==o?o=_s(o):o=Tr(t,o=Or(a)?_r:Ar.current);var h=a.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,n,o),Is=!1,m=t.memoizedState,l.state=m,qs(t,n,l,r);var p=t.memoizedState;i!==u||m!==p||Pr.current||Is?("function"===typeof h&&(ai(t,a,h,n),p=t.memoizedState),(c=Is||ri(t,a,c,n,m,p,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,p,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,p,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=o,n=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ei(e,t,a,n,s,r)}function Ei(e,t,a,n,r,s){ki(e,t);var l=0!==(128&t.flags);if(!n&&!l)return r&&Lr(t,a,!1),Vi(e,t,s);n=t.stateNode,fi.current=t;var i=l&&"function"!==typeof a.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,i,s)):yi(e,t,i,s),t.memoizedState=n.state,r&&Lr(t,a,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),Ys(e,t.containerInfo)}function Pi(e,t,a,n,r){return hs(),ps(r),t.flags|=256,yi(e,t,a,n),t.child}var _i,Ti,Oi,Bi,Ri={dehydrated:null,treeContext:null,retryLane:0};function Ii(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,a){var n,r=t.pendingProps,l=$s.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Cr($s,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Dc(o,r,0,null),e=Ic(e,r,a,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ii(a),t.memoizedState=Ri,e):Li(t,o));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,a,n,r,l,i){if(a)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,n=ci(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,r=t.mode,n=Dc({mode:"visible",children:n.children},r,0,null),(l=Ic(l,r,i,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&vs(t,e.child,null,i),t.child.memoizedState=Ii(i),t.memoizedState=Ri,l);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var o=n.dgst;return n=o,Ui(e,t,i,n=ci(l=Error(s(419)),n,void 0))}if(o=0!==(i&e.childLanes),bi||o){if(null!==(n=Po)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|i))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Rs(e,r),ac(n,e,r,-1))}return xc(),Ui(e,t,i,n=ci(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=l.treeContext,ns=cr(r.nextSibling),as=t,rs=!0,ss=null,null!==e&&(Kr[Gr++]=Jr,Kr[Gr++]=Zr,Kr[Gr++]=Yr,Jr=e.id,Zr=e.overflow,Yr=t),t=Li(t,n.children),t.flags|=4096,t)}(e,t,o,r,n,l,a);if(i){i=r.fallback,o=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Bc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?i=Bc(n,i):(i=Ic(i,o,a,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=null===(o=e.child.memoizedState)?Ii(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~a,t.memoizedState=Ri,r}return e=(i=e.child).sibling,r=Bc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=a),r.return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r}function Li(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,a,n){return null!==n&&ps(n),vs(t,e.child,null,a),(e=Li(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),As(e.return,t,a)}function Mi(e,t,a,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=r)}function Fi(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(yi(e,t,n.children,a),0!==(2&(n=$s.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,a,t);else if(19===e.tag)zi(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cr($s,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===el(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Mi(t,!1,r,a,s);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===el(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Mi(t,!0,a,null,s);break;case"together":Mi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(a=Bc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Bc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Hi(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Wi(e,t,a){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Or(t.type)&&Br(),Qi(t),null;case 3:return n=t.stateNode,Js(),Sr(Pr),Sr(Ar),al(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Ti(e,t),Qi(t),null;case 5:Xs(t);var r=Gs(Ks.current);if(a=t.type,null!==e&&null!=t.stateNode)Oi(e,t,a,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Qi(t),null}if(e=Gs(Qs.current),us(t)){n=t.stateNode,a=t.type;var l=t.memoizedProps;switch(n[mr]=t,n[hr]=l,e=0!==(1&t.mode),a){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(r=0;r<In.length;r++)zn(In[r],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":J(n,l),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},zn("invalid",n);break;case"textarea":re(n,l),zn("invalid",n)}for(var o in be(a,l),r=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&zn("scroll",n)}switch(a){case"input":W(n),$(n,l,!0);break;case"textarea":W(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=$n)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(a,{is:n.is}):(e=o.createElement(a),"select"===a&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,a),e[mr]=t,e[hr]=n,_i(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(a,n),a){case"dialog":zn("cancel",e),zn("close",e),r=n;break;case"iframe":case"object":case"embed":zn("load",e),r=n;break;case"video":case"audio":for(r=0;r<In.length;r++)zn(In[r],e);r=n;break;case"source":zn("error",e),r=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),r=n;break;case"details":zn("toggle",e),r=n;break;case"input":J(e,n),r=Y(e,n),zn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=L({},n,{value:void 0}),zn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),zn("invalid",e)}for(l in be(a,r),c=r)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?ge(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==a||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&zn("scroll",e):null!=d&&y(e,l,d,o))}switch(a){case"input":W(e),$(e,n,!1);break;case"textarea":W(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?ae(e,!!n.multiple,l,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$n)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Bi(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(a=Gs(Ks.current),Gs(Qs.current),us(t)){if(n=t.stateNode,a=t.memoizedProps,n[mr]=t,(l=n.nodeValue!==a)&&null!==(e=as))switch(e.tag){case 3:Xn(n.nodeValue,a,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,a,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===a.nodeType?a:a.ownerDocument).createTextNode(n))[mr]=t,t.stateNode=n}return Qi(t),null;case 13:if(Sr($s),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ms(),hs(),t.flags|=98560,l=!1;else if(l=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[mr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),l=!1}else null!==ss&&(lc(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=a,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Ro&&(Ro=3):xc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return Js(),Ti(e,t),null===e&&qn(t.stateNode.containerInfo),Qi(t),null;case 10:return Es(t.type._context),Qi(t),null;case 19:if(Sr($s),null===(l=t.memoizedState))return Qi(t),null;if(n=0!==(128&t.flags),null===(o=l.rendering))if(n)Hi(l,!1);else{if(0!==Ro||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Hi(l,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;null!==a;)e=n,(l=a).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Cr($s,1&$s.current|2),t.child}e=e.sibling}null!==l.tail&&Ze()>qo&&(t.flags|=128,n=!0,Hi(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=el(o))){if(t.flags|=128,n=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),Hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!rs)return Qi(t),null}else 2*Ze()-l.renderingStartTime>qo&&1073741824!==a&&(t.flags|=128,n=!0,Hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(a=l.last)?a.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=$s.current,Cr($s,n?1&a|2:1&a),t):(Qi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Oo)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ki(e,t){switch(ts(t),t.tag){case 1:return Or(t.type)&&Br(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Sr(Pr),Sr(Ar),al(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sr($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr($s),null;case 4:return Js(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}_i=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ti=function(){},Oi=function(e,t,a,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,Gs(Qs.current);var s,l=null;switch(a){case"input":r=Y(e,r),n=Y(e,n),l=[];break;case"select":r=L({},r,{value:void 0}),n=L({},n,{value:void 0}),l=[];break;case"textarea":r=ne(e,r),n=ne(e,n),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(d in be(a,n),a=null,r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(s in o)o.hasOwnProperty(s)&&(a||(a={}),a[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=r?r[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(a||(a={}),a[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(a||(a={}),a[s]=c[s])}else a||(l||(l=[]),l.push(d,a)),a=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}a&&(l=l||[]).push("style",a);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Bi=function(e,t,a,n){a!==n&&(t.flags|=4)};var Gi=!1,Yi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Zi=null;function Xi(e,t){var a=e.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(n){kc(e,t,n)}else a.current=null}function $i(e,t,a){try{a()}catch(n){kc(e,t,n)}}var eo=!1;function to(e,t,a){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&$i(t,a,s)}r=r.next}while(r!==n)}}function ao(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function no(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[hr],delete t[xr],delete t[gr],delete t[fr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(io(e,t,a),e=e.sibling;null!==e;)io(e,t,a),e=e.sibling}function oo(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&null!==(e=e.child))for(oo(e,t,a),e=e.sibling;null!==e;)oo(e,t,a),e=e.sibling}var co=null,uo=!1;function mo(e,t,a){for(a=a.child;null!==a;)ho(e,t,a),a=a.sibling}function ho(e,t,a){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,a)}catch(i){}switch(a.tag){case 5:Yi||Xi(a,t);case 6:var n=co,r=uo;co=null,mo(e,t,a),uo=r,null!==(co=n)&&(uo?(e=co,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):co.removeChild(a.stateNode));break;case 18:null!==co&&(uo?(e=co,a=a.stateNode,8===e.nodeType?or(e.parentNode,a):1===e.nodeType&&or(e,a),qt(e)):or(co,a.stateNode));break;case 4:n=co,r=uo,co=a.stateNode.containerInfo,uo=!0,mo(e,t,a),co=n,uo=r;break;case 0:case 11:case 14:case 15:if(!Yi&&(null!==(n=a.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&$i(a,t,l),r=r.next}while(r!==n)}mo(e,t,a);break;case 1:if(!Yi&&(Xi(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(i){kc(a,t,i)}mo(e,t,a);break;case 21:mo(e,t,a);break;case 22:1&a.mode?(Yi=(n=Yi)||null!==a.memoizedState,mo(e,t,a),Yi=n):mo(e,t,a);break;default:mo(e,t,a)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Ji),t.forEach((function(t){var n=Ac.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}}function xo(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));ho(l,i,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){kc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),fo(e),4&n){try{to(3,e,e.return),ao(3,e)}catch(g){kc(e,e.return,g)}try{to(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:xo(t,e),fo(e),512&n&&null!==a&&Xi(a,a.return);break;case 5:if(xo(t,e),fo(e),512&n&&null!==a&&Xi(a,a.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(r=e.stateNode)){var l=e.memoizedProps,i=null!==a?a.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Z(r,l),ye(o,i);var d=ye(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?ge(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):y(r,u,m,d)}switch(o){case"input":X(r,l);break;case"textarea":se(r,l);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?ae(r,!!l.multiple,p,!1):h!==!!l.multiple&&(null!=l.defaultValue?ae(r,!!l.multiple,l.defaultValue,!0):ae(r,!!l.multiple,l.multiple?[]:"",!1))}r[hr]=l}catch(g){kc(e,e.return,g)}}break;case 6:if(xo(t,e),fo(e),4&n){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(g){kc(e,e.return,g)}}break;case 3:if(xo(t,e),fo(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:xo(t,e),fo(e);break;case 13:xo(t,e),fo(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Fo=Ze())),4&n&&po(e);break;case 22:if(u=null!==a&&null!==a.memoizedState,1&e.mode?(Yi=(d=Yi)||u,xo(t,e),Yi=d):xo(t,e),fo(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(m=Zi=u;null!==Zi;){switch(p=(h=Zi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xi(h,h.return);var x=h.stateNode;if("function"===typeof x.componentWillUnmount){n=h,a=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){kc(n,a,g)}}break;case 5:Xi(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==p?(p.return=h,Zi=p):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xo(t,e),fo(e),4&n&&po(e);case 21:}}function fo(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(so(a)){var n=a;break e}a=a.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(me(r,""),n.flags&=-33),oo(e,lo(e),r);break;case 3:case 4:var l=n.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(s(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,a){Zi=e,yo(e,t,a)}function yo(e,t,a){for(var n=0!==(1&e.mode);null!==Zi;){var r=Zi,s=r.child;if(22===r.tag&&n){var l=null!==r.memoizedState||Gi;if(!l){var i=r.alternate,o=null!==i&&null!==i.memoizedState||Yi;i=Gi;var c=Yi;if(Gi=l,(Yi=o)&&!c)for(Zi=r;null!==Zi;)o=(l=Zi).child,22===l.tag&&null!==l.memoizedState?No(r):null!==o?(o.return=l,Zi=o):No(r);for(;null!==s;)Zi=s,yo(s,t,a),s=s.sibling;Zi=r,Gi=i,Yi=c}vo(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Zi=s):vo(e)}}function vo(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var a=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yi||ao(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Yi)if(null===a)n.componentDidMount();else{var r=t.elementType===t.type?a.memoizedProps:ti(t.type,a.memoizedProps);n.componentDidUpdate(r,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Vs(t,l,n);break;case 3:var i=t.updateQueue;if(null!==i){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}Vs(t,i,a)}break;case 5:var o=t.stateNode;if(null===a&&4&t.flags){a=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(s(163))}Yi||512&t.flags&&no(t)}catch(h){kc(t,t.return,h)}}if(t===e){Zi=null;break}if(null!==(a=t.sibling)){a.return=t.return,Zi=a;break}Zi=t.return}}function jo(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Zi=a;break}Zi=t.return}}function No(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ao(4,t)}catch(o){kc(t,a,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(o){kc(t,r,o)}}var s=t.return;try{no(t)}catch(o){kc(t,s,o)}break;case 5:var l=t.return;try{no(t)}catch(o){kc(t,l,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var wo,ko=Math.ceil,So=v.ReactCurrentDispatcher,Co=v.ReactCurrentOwner,Eo=v.ReactCurrentBatchConfig,Ao=0,Po=null,_o=null,To=0,Oo=0,Bo=kr(0),Ro=0,Io=null,Do=0,Lo=0,Uo=0,zo=null,Mo=null,Fo=0,qo=1/0,Vo=null,Ho=!1,Qo=null,Wo=null,Ko=!1,Go=null,Yo=0,Jo=0,Zo=null,Xo=-1,$o=0;function ec(){return 0!==(6&Ao)?Ze():-1!==Xo?Xo:Xo=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ao)&&0!==To?To&-To:null!==xs.transition?(0===$o&&($o=xt()),$o):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ac(e,t,a,n){if(50<Jo)throw Jo=0,Zo=null,Error(s(185));ft(e,a,n),0!==(2&Ao)&&e===Po||(e===Po&&(0===(2&Ao)&&(Lo|=a),4===Ro&&ic(e,To)),nc(e,n),1===a&&0===Ao&&0===(1&t.mode)&&(qo=Ze()+500,zr&&qr()))}function nc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=r[l];-1===o?0!==(i&a)&&0===(i&n)||(r[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=mt(e,e===Po?To:0);if(0===n)null!==a&&Ge(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=a&&Ge(a),1===t)0===e.tag?function(e){zr=!0,Fr(e)}(oc.bind(null,e)):Fr(oc.bind(null,e)),lr((function(){0===(6&Ao)&&qr()})),a=null;else{switch(vt(n)){case 1:a=$e;break;case 4:a=et;break;case 16:default:a=tt;break;case 536870912:a=nt}a=Pc(a,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function rc(e,t){if(Xo=-1,$o=0,0!==(6&Ao))throw Error(s(327));var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var n=mt(e,e===Po?To:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var r=Ao;Ao|=2;var l=pc();for(Po===e&&To===t||(Vo=null,qo=Ze()+500,mc(e,t));;)try{bc();break}catch(o){hc(e,o)}Cs(),So.current=l,Ao=r,null!==_o?t=0:(Po=null,To=0,t=Ro)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(n=r,t=sc(e,r))),1===t)throw a=Io,mc(e,0),ic(e,n),nc(e,Ze()),a;if(6===t)ic(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!ln(s(),r))return!1}catch(i){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,n))&&(0!==(l=pt(e))&&(n=l,t=sc(e,l))),1===t))throw a=Io,mc(e,0),ic(e,n),nc(e,Ze()),a;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Mo,Vo);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Fo+500-Ze())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(jc.bind(null,e,Mo,Vo),t);break}jc(e,Mo,Vo);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var i=31-lt(n);l=1<<i,(i=t[i])>r&&(r=i),n&=~l}if(n=r,10<(n=(120>(n=Ze()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ko(n/1960))-n)){e.timeoutHandle=nr(jc.bind(null,e,Mo,Vo),n);break}jc(e,Mo,Vo);break;default:throw Error(s(329))}}}return nc(e,Ze()),e.callbackNode===a?rc.bind(null,e):null}function sc(e,t){var a=zo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Mo,Mo=a,null!==t&&lc(t)),e}function lc(e){null===Mo?Mo=e:Mo.push.apply(Mo,e)}function ic(e,t){for(t&=~Uo,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-lt(t),n=1<<a;e[a]=-1,t&=~n}}function oc(e){if(0!==(6&Ao))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return nc(e,Ze()),null;var a=gc(e,t);if(0!==e.tag&&2===a){var n=pt(e);0!==n&&(t=n,a=sc(e,n))}if(1===a)throw a=Io,mc(e,0),ic(e,t),nc(e,Ze()),a;if(6===a)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Mo,Vo),nc(e,Ze()),null}function cc(e,t){var a=Ao;Ao|=1;try{return e(t)}finally{0===(Ao=a)&&(qo=Ze()+500,zr&&qr())}}function dc(e){null!==Go&&0===Go.tag&&0===(6&Ao)&&Nc();var t=Ao;Ao|=1;var a=Eo.transition,n=yt;try{if(Eo.transition=null,yt=1,e)return e()}finally{yt=n,Eo.transition=a,0===(6&(Ao=t))&&qr()}}function uc(){Oo=Bo.current,Sr(Bo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,rr(a)),null!==_o)for(a=_o.return;null!==a;){var n=a;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Br();break;case 3:Js(),Sr(Pr),Sr(Ar),al();break;case 5:Xs(n);break;case 4:Js();break;case 13:case 19:Sr($s);break;case 10:Es(n.type._context);break;case 22:case 23:uc()}a=a.return}if(Po=e,_o=e=Bc(e.current,null),To=Oo=t,Ro=0,Io=null,Uo=Lo=Do=0,Mo=zo=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(n=(a=Ts[t]).interleaved)){a.interleaved=null;var r=n.next,s=a.pending;if(null!==s){var l=s.next;s.next=r,n.next=l}a.pending=n}Ts=null}return e}function hc(e,t){for(;;){var a=_o;try{if(Cs(),nl.current=Zl,cl){for(var n=ll.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}cl=!1}if(sl=0,ol=il=ll=null,dl=!1,ul=0,Co.current=null,null===a||null===a.return){Ro=1,Io=t,_o=null;break}e:{var l=e,i=a.return,o=a,c=t;if(t=To,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xi(i);if(null!==p){p.flags&=-257,gi(p,i,o,0,t),1&p.mode&&pi(l,d,t),c=d;var x=(t=p).updateQueue;if(null===x){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}if(0===(1&t)){pi(l,d,t),xc();break e}c=Error(s(426))}else if(rs&&1&o.mode){var f=xi(i);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),gi(f,i,o,0,t),ps(oi(c,o));break e}}l=c=oi(c,o),4!==Ro&&(Ro=2),null===zo?zo=[l]:zo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Fs(l,mi(0,c,t));break e;case 1:o=c;var b=l.type,y=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Wo||!Wo.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,Fs(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}vc(a)}catch(v){t=v,_o===a&&null!==a&&(_o=a=a.return);continue}break}}function pc(){var e=So.current;return So.current=Zl,null===e?Zl:e}function xc(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===Po||0===(268435455&Do)&&0===(268435455&Lo)||ic(Po,To)}function gc(e,t){var a=Ao;Ao|=2;var n=pc();for(Po===e&&To===t||(Vo=null,mc(e,t));;)try{fc();break}catch(r){hc(e,r)}if(Cs(),Ao=a,So.current=n,null!==_o)throw Error(s(261));return Po=null,To=0,Ro}function fc(){for(;null!==_o;)yc(_o)}function bc(){for(;null!==_o&&!Ye();)yc(_o)}function yc(e){var t=wo(e.alternate,e,Oo);e.memoizedProps=e.pendingProps,null===t?vc(e):_o=t,Co.current=null}function vc(e){var t=e;do{var a=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(a=Wi(a,t,Oo)))return void(_o=a)}else{if(null!==(a=Ki(a,t)))return a.flags&=32767,void(_o=a);if(null===e)return Ro=6,void(_o=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_o=t);_o=t=e}while(null!==t);0===Ro&&(Ro=5)}function jc(e,t,a){var n=yt,r=Eo.transition;try{Eo.transition=null,yt=1,function(e,t,a,n){do{Nc()}while(null!==Go);if(0!==(6&Ao))throw Error(s(327));a=e.finishedWork;var r=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var r=31-lt(a),s=1<<r;t[r]=0,n[r]=-1,e[r]=-1,a&=~s}}(e,l),e===Po&&(_o=Po=null,To=0),0===(2064&a.subtreeFlags)&&0===(2064&a.flags)||Ko||(Ko=!0,Pc(tt,(function(){return Nc(),null}))),l=0!==(15990&a.flags),0!==(15990&a.subtreeFlags)||l){l=Eo.transition,Eo.transition=null;var i=yt;yt=1;var o=Ao;Ao|=4,Co.current=null,function(e,t){if(er=Ht,hn(e=mn())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var r=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch(j){a=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==a||0!==r&&3!==m.nodeType||(o=i+r),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===a&&++d===r&&(o=i),h===l&&++u===n&&(c=i),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(tr={focusedElem:e,selectionRange:a},Ht=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var g=x.memoizedProps,f=x.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ti(t.type,g),f);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}x=eo,eo=!1}(e,a),go(a,e),pn(tr),Ht=!!er,tr=er=null,e.current=a,bo(a,e,r),Je(),Ao=o,yt=i,Eo.transition=l}else e.current=a;if(Ko&&(Ko=!1,Go=e,Yo=r),l=e.pendingLanes,0===l&&(Wo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(a.stateNode),nc(e,Ze()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)r=t[a],n(r.value,{componentStack:r.stack,digest:r.digest});if(Ho)throw Ho=!1,e=Qo,Qo=null,e;0!==(1&Yo)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Zo?Jo++:(Jo=0,Zo=e):Jo=0,qr()}(e,t,a,n)}finally{Eo.transition=r,yt=n}return null}function Nc(){if(null!==Go){var e=vt(Yo),t=Eo.transition,a=yt;try{if(Eo.transition=null,yt=16>e?16:e,null===Go)var n=!1;else{if(e=Go,Go=null,Yo=0,0!==(6&Ao))throw Error(s(331));var r=Ao;for(Ao|=4,Zi=e.current;null!==Zi;){var l=Zi,i=l.child;if(0!==(16&Zi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Zi=m;else for(;null!==Zi;){var h=(u=Zi).sibling,p=u.return;if(ro(u),u===d){Zi=null;break}if(null!==h){h.return=p,Zi=h;break}Zi=p}}}var x=l.alternate;if(null!==x){var g=x.child;if(null!==g){x.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}Zi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(l=Zi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,Zi=b;break e}Zi=l.return}}var y=e.current;for(Zi=y;null!==Zi;){var v=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Zi=v;else e:for(i=y;null!==Zi;){if(0!==(2048&(o=Zi).flags))try{switch(o.tag){case 0:case 11:case 15:ao(9,o)}}catch(N){kc(o,o.return,N)}if(o===i){Zi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Zi=j;break e}Zi=o.return}}if(Ao=r,qr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(N){}n=!0}return n}finally{yt=a,Eo.transition=t}}return!1}function wc(e,t,a){e=zs(e,t=mi(0,t=oi(a,t),1),1),t=ec(),null!==e&&(ft(e,1,t),nc(e,t))}function kc(e,t,a){if(3===e.tag)wc(e,e,a);else for(;null!==t;){if(3===t.tag){wc(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wo||!Wo.has(n))){t=zs(t,e=hi(t,e=oi(a,e),1),1),e=ec(),null!==t&&(ft(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&a,Po===e&&(To&a)===a&&(4===Ro||3===Ro&&(130023424&To)===To&&500>Ze()-Fo?mc(e,0):Uo|=a),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var a=ec();null!==(e=Rs(e,t))&&(ft(e,t,a),nc(e,a))}function Ec(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Cc(e,a)}function Ac(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cc(e,a)}function Pc(e,t){return Ke(e,t)}function _c(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,a,n){return new _c(e,t,a,n)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var a=e.alternate;return null===a?((a=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rc(e,t,a,n,r,l){var i=2;if(n=e,"function"===typeof e)Oc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Ic(a.children,r,l,t);case k:i=8,r|=8;break;case S:return(e=Tc(12,a,t,2|r)).elementType=S,e.lanes=l,e;case P:return(e=Tc(13,a,t,r)).elementType=P,e.lanes=l,e;case _:return(e=Tc(19,a,t,r)).elementType=_,e.lanes=l,e;case B:return Dc(a,r,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case E:i=9;break e;case A:i=11;break e;case T:i=14;break e;case O:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(i,a,t,r)).elementType=e,t.type=n,t.lanes=l,t}function Ic(e,t,a,n){return(e=Tc(7,e,n,t)).lanes=a,e}function Dc(e,t,a,n){return(e=Tc(22,e,n,t)).elementType=B,e.lanes=a,e.stateNode={isHidden:!1},e}function Lc(e,t,a){return(e=Tc(6,e,null,t)).lanes=a,e}function Uc(e,t,a){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,a,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Mc(e,t,a,n,r,s,l,i,o){return e=new zc(e,t,a,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Fc(e){if(!e)return Er;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var a=e.type;if(Or(a))return Ir(e,a,t)}return t}function qc(e,t,a,n,r,s,l,i,o){return(e=Mc(a,n,!0,e,0,s,0,i,o)).context=Fc(null),a=e.current,(s=Us(n=ec(),r=tc(a))).callback=void 0!==t&&null!==t?t:null,zs(a,s,r),e.current.lanes=r,ft(e,r,n),nc(e,n),e}function Vc(e,t,a,n){var r=t.current,s=ec(),l=tc(r);return a=Fc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Us(s,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zs(r,t,l))&&(ac(e,r,l,s),Ms(e,r,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Wc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}wo=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)bi=!0;else{if(0===(e.lanes&a)&&0===(128&t.flags))return bi=!1,function(e,t,a){switch(t.tag){case 3:Ai(t),hs();break;case 5:Zs(t);break;case 1:Or(t.type)&&Dr(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Cr(Ns,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Cr($s,1&$s.current),t.flags|=128,null):0!==(a&t.child.childLanes)?Di(e,t,a):(Cr($s,1&$s.current),null!==(e=Vi(e,t,a))?e.sibling:null);Cr($s,1&$s.current);break;case 19:if(n=0!==(a&t.childLanes),0!==(128&e.flags)){if(n)return Fi(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr($s,$s.current),n)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,a)}return Vi(e,t,a)}(e,t,a);bi=0!==(131072&e.flags)}else bi=!1,rs&&0!==(1048576&t.flags)&&$r(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qi(e,t),e=t.pendingProps;var r=Tr(t,Ar.current);Ps(t,a),r=xl(null,t,n,e,r,a);var l=gl();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(n)?(l=!0,Dr(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ds(t),r.updater=ni,t.stateNode=r,r._reactInternals=t,ii(t,n,e,a),t=Ei(null,t,n,!0,l,a)):(t.tag=0,rs&&l&&es(t),yi(null,t,r,a),t=t.child),t;case 16:n=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===T)return 14}return 2}(n),e=ti(n,e),r){case 0:t=Si(null,t,n,e,a);break e;case 1:t=Ci(null,t,n,e,a);break e;case 11:t=vi(null,t,n,e,a);break e;case 14:t=ji(null,t,n,ti(n.type,e),a);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Si(e,t,n,r=t.elementType===n?r:ti(n,r),a);case 1:return n=t.type,r=t.pendingProps,Ci(e,t,n,r=t.elementType===n?r:ti(n,r),a);case 3:e:{if(Ai(t),null===e)throw Error(s(387));n=t.pendingProps,r=(l=t.memoizedState).element,Ls(e,t),qs(t,n,null,a);var i=t.memoizedState;if(n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,n,a,r=oi(Error(s(423)),t));break e}if(n!==r){t=Pi(e,t,n,a,r=oi(Error(s(424)),t));break e}for(ns=cr(t.stateNode.containerInfo.firstChild),as=t,rs=!0,ss=null,a=js(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(hs(),n===r){t=Vi(e,t,a);break e}yi(e,t,n,a)}t=t.child}return t;case 5:return Zs(t),null===e&&cs(t),n=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,i=r.children,ar(n,r)?i=null:null!==l&&ar(n,l)&&(t.flags|=32),ki(e,t),yi(e,t,i,a),t.child;case 6:return null===e&&cs(t),null;case 13:return Di(e,t,a);case 4:return Ys(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vs(t,null,n,a):yi(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,vi(e,t,n,r=t.elementType===n?r:ti(n,r),a);case 7:return yi(e,t,t.pendingProps,a),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,l=t.memoizedProps,i=r.value,Cr(Ns,n._currentValue),n._currentValue=i,null!==l)if(ln(l.value,i)){if(l.children===r.children&&!Pr.current){t=Vi(e,t,a);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=Us(-1,a&-a)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=a,null!==(c=l.alternate)&&(c.lanes|=a),As(l.return,a,t),o.lanes|=a;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=a,null!==(o=i.alternate)&&(o.lanes|=a),As(i,a,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}yi(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Ps(t,a),n=n(r=_s(r)),t.flags|=1,yi(e,t,n,a),t.child;case 14:return r=ti(n=t.type,t.pendingProps),ji(e,t,n,r=ti(n.type,r),a);case 15:return Ni(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ti(n,r),qi(e,t),t.tag=1,Or(n)?(e=!0,Dr(t)):e=!1,Ps(t,a),si(t,n,r),ii(t,n,r,a),Ei(null,t,n,!0,e,a);case 19:return Fi(e,t,a);case 22:return wi(e,t,a)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function $c(e,t,a,n,r){var s=a._reactRootContainer;if(s){var l=s;if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}Vc(t,l,e,r)}else l=function(e,t,a,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var e=Hc(l);s.call(e)}}var l=qc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=l,e[pr]=l.current,qn(8===e.nodeType?e.parentNode:e),dc(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var i=n;n=function(){var e=Hc(o);i.call(e)}}var o=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[pr]=o.current,qn(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,o,a,n)})),o}(a,t,e,r,n);return Hc(l)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[pr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Bt.length&&0!==t&&t<Bt[a].priority;a++);Bt.splice(a,0,e),0===a&&Lt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ut(t.pendingLanes);0!==a&&(bt(t,1|a),nc(t,Ze()),0===(6&Ao)&&(qo=Ze()+500,qr()))}break;case 13:dc((function(){var t=Rs(e,1);if(null!==t){var a=ec();ac(t,e,1,a)}})),Wc(e,1)}},Nt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)ac(t,e,134217728,ec());Wc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),a=Rs(e,t);if(null!==a)ac(a,e,t,ec());Wc(e,t)}},kt=function(){return yt},St=function(e,t){var a=yt;try{return yt=e,t()}finally{yt=a}},Ne=function(e,t,a){switch(t){case"input":if(X(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=jr(n);if(!r)throw Error(s(90));K(n),X(n,r)}}}break;case"textarea":se(e,a);break;case"select":null!=(t=a.value)&&ae(e,!!a.multiple,t,!1)}},Ae=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[yr,vr,jr,Ce,Ee,cc]},td={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{rt=nd.inject(ad),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var a=!1,n="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Mc(e,1,!1,null,0,a,0,n,r),e[pr]=t.current,qn(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,a){if(!Zc(t))throw Error(s(200));return $c(null,e,t,!0,a)},t.hydrateRoot=function(e,t,a){if(!Jc(e))throw Error(s(405));var n=null!=a&&a.hydratedSources||null,r=!1,l="",i=Kc;if(null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(r=!0),void 0!==a.identifierPrefix&&(l=a.identifierPrefix),void 0!==a.onRecoverableError&&(i=a.onRecoverableError)),t=qc(t,null,e,1,null!=a?a:null,r,0,l,i),e[pr]=t.current,qn(e),n)for(e=0;e<n.length;e++)r=(r=(a=n[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,r]:t.mutableSourceEagerHydrationData.push(a,r);return new Yc(t)},t.render=function(e,t,a){if(!Zc(t))throw Error(s(200));return $c(null,e,t,!1,a)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!Zc(a))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,a,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,a)=>{e.exports=a(234)},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(730)}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);a.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,a.d(s,l),s}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"static/js/"+e+".28dd096b.chunk.js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dashboard:";a.l=(n,r,s,l)=>{if(e[n])e[n].push(r);else{var i,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[r];var m=(t,a)=>{i.onerror=i.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(a))),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{var e={792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((a,n)=>r=e[t]=[a,n]));n.push(r[2]=s);var l=a.p+a.u(t),i=new Error;a.l(l,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",i.name="ChunkLoadError",i.type=s,i.request=l,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,l=n[0],i=n[1],o=n[2],c=0;if(l.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(o)o(a)}for(t&&t(n);c<l.length;c++)s=l[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkdashboard=self.webpackChunkdashboard||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n={};a.r(n),a.d(n,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Wt,hasStandardBrowserWebWorkerEnv:()=>Kt,navigator:()=>Qt,origin:()=>Gt});var r,s=a(43),l=a.t(s,2),i=a(391),o=a(950),c=a.t(o,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t,a,n){return void 0===a&&(a=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:a,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function b(e,t,a,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:l=!1}=n,i=s.history,o=r.Pop,c=null,h=f();function f(){return(i.state||{idx:null}).idx}function b(){o=r.Pop;let e=f(),t=null==e?null:e-h;h=e,c&&c({action:o,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,a="string"===typeof e?e:g(e);return a=a.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==h&&(h=0,i.replaceState(d({},i.state,{idx:h}),""));let v={get action(){return o},get location(){return e(s,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u,b),c=e,()=>{s.removeEventListener(u,b),c=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=r.Push;let n=x(v.location,e,t);a&&a(n,e),h=f()+1;let d=p(n,h),u=v.createHref(n);try{i.pushState(d,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(u)}l&&c&&c({action:o,location:v.location,delta:1})},replace:function(e,t){o=r.Replace;let n=x(v.location,e,t);a&&a(n,e),h=f();let s=p(n,h),d=v.createHref(n);i.replaceState(s,"",d),l&&c&&c({action:o,location:v.location,delta:0})},go:e=>i.go(e)};return v}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,a){return void 0===a&&(a="/"),j(e,t,a,!1)}function j(e,t,a,n){let r=I(("string"===typeof t?f(t):t).pathname||"/",a);if(null==r)return null;let s=N(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every(((e,a)=>e===t[a]));return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let l=null;for(let i=0;null==l&&i<s.length;++i){let e=R(r);l=O(s[i],e,n)}return l}function N(e,t,a,n){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===n&&(n="");let r=(e,r,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};l.relativePath.startsWith("/")&&(m(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(n.length));let i=M([n,l.relativePath]),o=a.concat(l);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),N(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:T(i,e.index),routesMeta:o})};return e.forEach(((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let n of w(e.path))r(e,t,n);else r(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===n.length)return r?[s,""]:[s];let l=w(n.join("/")),i=[];return i.push(...l.map((e=>""===e?s:[s,e].join("/")))),r&&i.push(...l),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,S=3,C=2,E=1,A=10,P=-2,_=e=>"*"===e;function T(e,t){let a=e.split("/"),n=a.length;return a.some(_)&&(n+=P),t&&(n+=C),a.filter((e=>!_(e))).reduce(((e,t)=>e+(k.test(t)?S:""===t?E:A)),n)}function O(e,t,a){void 0===a&&(a=!1);let{routesMeta:n}=e,r={},s="/",l=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&a&&!n[n.length-1].route.index&&(d=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),l.push({params:r,pathname:M([s,d.pathname]),pathnameBase:F(M([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=M([s,d.pathnameBase]))}return l}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e,t,a){void 0===t&&(t=!1);void 0===a&&(a=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:n.reduce(((e,t,a)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=i[a]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[a];return e[n]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function D(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function U(e,t){let a=L(e);return t?a.map(((e,t)=>t===a.length-1?e.pathname:e.pathnameBase)):a.map((e=>e.pathnameBase))}function z(e,t,a,n){let r;void 0===n&&(n=!1),"string"===typeof e?r=f(e):(r=d({},e),m(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),m(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),m(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let s,l=""===e||""===r.pathname,i=l?"/":r.pathname;if(null==i)s=a;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:a,search:n="",hash:r=""}="string"===typeof e?f(e):e,s=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)})),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:s,search:q(n),hash:V(r)}}(r,s),c=i&&"/"!==i&&i.endsWith("/"),u=(l||"."===i)&&a.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Q=["post","put","patch","delete"],W=(new Set(Q),["get",...Q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K.apply(this,arguments)}const G=s.createContext(null);const Y=s.createContext(null);const J=s.createContext(null);const Z=s.createContext(null);const X=s.createContext({outlet:null,matches:[],isDataRoute:!1});const $=s.createContext(null);function ee(){return null!=s.useContext(Z)}function te(){return ee()||m(!1),s.useContext(Z).location}function ae(e){s.useContext(J).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext(X);return e?function(){let{router:e}=pe(me.UseNavigateStable),t=ge(he.UseNavigateStable),a=s.useRef(!1);return ae((()=>{a.current=!0})),s.useCallback((function(n,r){void 0===r&&(r={}),a.current&&("number"===typeof n?e.navigate(n):e.navigate(n,K({fromRouteId:t},r)))}),[e,t])}():function(){ee()||m(!1);let e=s.useContext(G),{basename:t,future:a,navigator:n}=s.useContext(J),{matches:r}=s.useContext(X),{pathname:l}=te(),i=JSON.stringify(U(r,a.v7_relativeSplatPath)),o=s.useRef(!1);return ae((()=>{o.current=!0})),s.useCallback((function(a,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof a)return void n.go(a);let s=z(a,JSON.parse(i),l,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}),[t,n,i,l,e])}()}function re(){let{matches:e}=s.useContext(X),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:a}=void 0===t?{}:t,{future:n}=s.useContext(J),{matches:r}=s.useContext(X),{pathname:l}=te(),i=JSON.stringify(U(r,n.v7_relativeSplatPath));return s.useMemo((()=>z(e,JSON.parse(i),l,"path"===a)),[e,i,l,a])}function le(e,t,a,n){ee()||m(!1);let{navigator:l}=s.useContext(J),{matches:i}=s.useContext(X),o=i[i.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,h=te();if(t){var p;let e="string"===typeof t?f(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||m(!1),u=e}else u=h;let x=u.pathname||"/",g=x;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:g});let y=ue(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([d,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,a,n);return t&&y?s.createElement(Z.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:r.Pop}},y):y}function ie(){let e=function(){var e;let t=s.useContext($),a=xe(he.UseRouteError),n=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=a.errors)?void 0:e[n]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),a?s.createElement("pre",{style:r},a):null,null)}const oe=s.createElement(ie,null);class ce extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(X.Provider,{value:this.props.routeContext},s.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:a,children:n}=e,r=s.useContext(G);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),s.createElement(X.Provider,{value:t},n)}function ue(e,t,a,n){var r;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===n&&(n=null),null==e){var l;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(l=n)&&l.v7_partialHydration&&0===t.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let i=e,o=null==(r=a)?void 0:r.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||m(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(a&&n&&n.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:n}=a,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight(((e,n,r)=>{let l,u=!1,m=null,h=null;var p;a&&(l=o&&n.route.id?o[n.route.id]:void 0,m=n.route.errorElement||oe,c&&(d<0&&0===r?(p="route-fallback",!1||fe[p]||(fe[p]=!0),u=!0,h=null):d===r&&(u=!0,h=n.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,r+1)),g=()=>{let t;return t=l?m:u?h:n.route.Component?s.createElement(n.route.Component,null):n.route.element?n.route.element:e,s.createElement(de,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===r)?s.createElement(ce,{location:a.location,revalidation:a.revalidation,component:m,error:l,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()}),null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function pe(e){let t=s.useContext(G);return t||m(!1),t}function xe(e){let t=s.useContext(Y);return t||m(!1),t}function ge(e){let t=function(){let e=s.useContext(X);return e||m(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||m(!1),a.route.id}const fe={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function ye(e){let{to:t,replace:a,state:n,relative:r}=e;ee()||m(!1);let{future:l,static:i}=s.useContext(J),{matches:o}=s.useContext(X),{pathname:c}=te(),d=ne(),u=z(t,U(o,l.v7_relativeSplatPath),c,"path"===r),h=JSON.stringify(u);return s.useEffect((()=>d(JSON.parse(h),{replace:a,state:n,relative:r})),[d,h,r,a,n]),null}function ve(e){m(!1)}function je(e){let{basename:t="/",children:a=null,location:n,navigationType:l=r.Pop,navigator:i,static:o=!1,future:c}=e;ee()&&m(!1);let d=t.replace(/^\/*/,"/"),u=s.useMemo((()=>({basename:d,navigator:i,static:o,future:K({v7_relativeSplatPath:!1},c)})),[d,c,i,o]);"string"===typeof n&&(n=f(n));let{pathname:h="/",search:p="",hash:x="",state:g=null,key:b="default"}=n,y=s.useMemo((()=>{let e=I(h,d);return null==e?null:{location:{pathname:e,search:p,hash:x,state:g,key:b},navigationType:l}}),[d,h,p,x,g,b,l]);return null==y?null:s.createElement(J.Provider,{value:u},s.createElement(Z.Provider,{children:a,value:y}))}function Ne(e){let{children:t,location:a}=e;return le(we(t),a)}new Promise((()=>{}));s.Component;function we(e,t){void 0===t&&(t=[]);let a=[];return s.Children.forEach(e,((e,n)=>{if(!s.isValidElement(e))return;let r=[...t,n];if(e.type===s.Fragment)return void a.push.apply(a,we(e.props.children,r));e.type!==ve&&m(!1),e.props.index&&e.props.children&&m(!1);let l={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=we(e.props.children,r)),a.push(l)})),a}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ke.apply(this,arguments)}function Se(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(rs){}new Map;const Ee=l.startTransition;c.flushSync,l.useId;function Ae(e){let{basename:t,children:a,future:n,window:r}=e,l=s.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:r,v5Compat:!0})&&(i={}),b((function(e,t){let{pathname:a,search:n,hash:r}=e.location;return x("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,i)));let o=l.current,[c,d]=s.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},m=s.useCallback((e=>{u&&Ee?Ee((()=>d(e))):d(e)}),[d,u]);return s.useLayoutEffect((()=>o.listen(m)),[o,m]),s.useEffect((()=>be(n)),[n]),s.createElement(je,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:o,future:n})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=s.forwardRef((function(e,t){let a,{onClick:n,relative:r,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,p=Se(e,Ce),{basename:x}=s.useContext(J),f=!1;if("string"===typeof d&&_e.test(d)&&(a=d,Pe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=I(t.pathname,x);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:f=!0}catch(rs){}let b=function(e,t){let{relative:a}=void 0===t?{}:t;ee()||m(!1);let{basename:n,navigator:r}=s.useContext(J),{hash:l,pathname:i,search:o}=se(e,{relative:a}),c=i;return"/"!==n&&(c="/"===i?n:M([n,i])),r.createHref({pathname:c,search:o,hash:l})}(d,{relative:r}),y=function(e,t){let{target:a,replace:n,state:r,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=ne(),d=te(),u=se(e,{relative:i});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();let a=void 0!==n?n:g(d)===g(u);c(e,{replace:a,state:r,preventScrollReset:l,relative:i,viewTransition:o})}}),[d,c,u,n,r,a,e,l,i,o])}(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:h});return s.createElement("a",ke({},p,{href:a||b,onClick:f||l?n:function(e){n&&n(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Oe,Be;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));function Re(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:De}=Object.prototype,{getPrototypeOf:Le}=Object,{iterator:Ue,toStringTag:ze}=Symbol,Me=(Fe=Object.create(null),e=>{const t=De.call(e);return Fe[t]||(Fe[t]=t.slice(8,-1).toLowerCase())});var Fe;const qe=e=>(e=e.toLowerCase(),t=>Me(t)===e),Ve=e=>t=>typeof t===e,{isArray:He}=Array,Qe=Ve("undefined");const We=qe("ArrayBuffer");const Ke=Ve("string"),Ge=Ve("function"),Ye=Ve("number"),Je=e=>null!==e&&"object"===typeof e,Ze=e=>{if("object"!==Me(e))return!1;const t=Le(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ze in e)&&!(Ue in e)},Xe=qe("Date"),$e=qe("File"),et=qe("Blob"),tt=qe("FileList"),at=qe("URLSearchParams"),[nt,rt,st,lt]=["ReadableStream","Request","Response","Headers"].map(qe);function it(e,t){let a,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),He(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let l;for(a=0;a<s;a++)l=n[a],t.call(null,e[l],l,e)}}function ot(e,t){t=t.toLowerCase();const a=Object.keys(e);let n,r=a.length;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const ct="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,dt=e=>!Qe(e)&&e!==ct;const ut=(mt="undefined"!==typeof Uint8Array&&Le(Uint8Array),e=>mt&&e instanceof mt);var mt;const ht=qe("HTMLFormElement"),pt=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),xt=qe("RegExp"),gt=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};it(a,((a,r)=>{let s;!1!==(s=t(a,r,e))&&(n[r]=s||a)})),Object.defineProperties(e,n)};const ft=qe("AsyncFunction"),bt=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),n=[],ct.addEventListener("message",(e=>{let{source:t,data:r}=e;t===ct&&r===a&&n.length&&n.shift()()}),!1),e=>{n.push(e),ct.postMessage(a,"*")}):e=>setTimeout(e);var a,n})("function"===typeof setImmediate,Ge(ct.postMessage)),yt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ct):"undefined"!==typeof process&&process.nextTick||bt,vt={isArray:He,isArrayBuffer:We,isBuffer:function(e){return null!==e&&!Qe(e)&&null!==e.constructor&&!Qe(e.constructor)&&Ge(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ge(e.append)&&("formdata"===(t=Me(e))||"object"===t&&Ge(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&We(e.buffer),t},isString:Ke,isNumber:Ye,isBoolean:e=>!0===e||!1===e,isObject:Je,isPlainObject:Ze,isReadableStream:nt,isRequest:rt,isResponse:st,isHeaders:lt,isUndefined:Qe,isDate:Xe,isFile:$e,isBlob:et,isRegExp:xt,isFunction:Ge,isStream:e=>Je(e)&&Ge(e.pipe),isURLSearchParams:at,isTypedArray:ut,isFileList:tt,forEach:it,merge:function e(){const{caseless:t}=dt(this)&&this||{},a={},n=(n,r)=>{const s=t&&ot(a,r)||r;Ze(a[s])&&Ze(n)?a[s]=e(a[s],n):Ze(n)?a[s]=e({},n):He(n)?a[s]=n.slice():a[s]=n};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&it(arguments[r],n);return a},extend:function(e,t,a){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return it(t,((t,n)=>{a&&Ge(t)?e[n]=Ie(t,a):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let r,s,l;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)l=r[s],n&&!n(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==a&&Le(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:Me,kindOfTest:qe,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(He(e))return e;let t=e.length;if(!Ye(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Ue]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:ht,hasOwnProperty:pt,hasOwnProp:pt,reduceDescriptors:gt,freezeMethods:e=>{gt(e,((t,a)=>{if(Ge(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];Ge(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach((e=>{a[e]=!0}))};return He(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ot,global:ct,isContextDefined:dt,isSpecCompliantForm:function(e){return!!(e&&Ge(e.append)&&"FormData"===e[ze]&&e[Ue])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(Je(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=He(e)?[]:{};return it(e,((e,t)=>{const s=a(e,n+1);!Qe(s)&&(r[t]=s)})),t[n]=void 0,r}}return e};return a(e,0)},isAsyncFn:ft,isThenable:e=>e&&(Je(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch),setImmediate:bt,asap:yt,isIterable:e=>null!=e&&Ge(e[Ue])};function jt(e,t,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}vt.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vt.toJSONObject(this.config),code:this.code,status:this.status}}});const Nt=jt.prototype,wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{wt[e]={value:e}})),Object.defineProperties(jt,wt),Object.defineProperty(Nt,"isAxiosError",{value:!0}),jt.from=(e,t,a,n,r,s)=>{const l=Object.create(Nt);return vt.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),jt.call(l,e.message,t,a,n,r),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const kt=jt;function St(e){return vt.isPlainObject(e)||vt.isArray(e)}function Ct(e){return vt.endsWith(e,"[]")?e.slice(0,-2):e}function Et(e,t,a){return e?e.concat(t).map((function(e,t){return e=Ct(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const At=vt.toFlatObject(vt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Pt=function(e,t,a){if(!vt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=vt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!vt.isUndefined(t[e])}))).metaTokens,r=a.visitor||c,s=a.dots,l=a.indexes,i=(a.Blob||"undefined"!==typeof Blob&&Blob)&&vt.isSpecCompliantForm(t);if(!vt.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(vt.isDate(e))return e.toISOString();if(!i&&vt.isBlob(e))throw new kt("Blob is not supported. Use a Buffer instead.");return vt.isArrayBuffer(e)||vt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let i=e;if(e&&!r&&"object"===typeof e)if(vt.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(vt.isArray(e)&&function(e){return vt.isArray(e)&&!e.some(St)}(e)||(vt.isFileList(e)||vt.endsWith(a,"[]"))&&(i=vt.toArray(e)))return a=Ct(a),i.forEach((function(e,n){!vt.isUndefined(e)&&null!==e&&t.append(!0===l?Et([a],n,s):null===l?a:a+"[]",o(e))})),!1;return!!St(e)||(t.append(Et(r,a,s),o(e)),!1)}const d=[],u=Object.assign(At,{defaultVisitor:c,convertValue:o,isVisitable:St});if(!vt.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!vt.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+n.join("."));d.push(a),vt.forEach(a,(function(a,s){!0===(!(vt.isUndefined(a)||null===a)&&r.call(t,a,vt.isString(s)?s.trim():s,n,u))&&e(a,n?n.concat(s):[s])})),d.pop()}}(e),t};function _t(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Tt(e,t){this._pairs=[],e&&Pt(e,this,t)}const Ot=Tt.prototype;Ot.append=function(e,t){this._pairs.push([e,t])},Ot.toString=function(e){const t=e?function(t){return e.call(this,t,_t)}:_t;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Bt=Tt;function Rt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function It(e,t,a){if(!t)return e;const n=a&&a.encode||Rt;vt.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let s;if(s=r?r(t,a):vt.isURLSearchParams(t)?t.toString():new Bt(t,a).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Dt=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Lt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function zt(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:t+""}function Mt(e,t,a){return(t=zt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(a),!0).forEach((function(t){Mt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Vt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Bt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,Qt="object"===typeof navigator&&navigator||void 0,Wt=Ht&&(!Qt||["ReactNative","NativeScript","NS"].indexOf(Qt.product)<0),Kt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gt=Ht&&window.location.href||"http://localhost",Yt=qt(qt({},n),Vt);const Jt=function(e){function t(e,a,n,r){let s=e[r++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=r>=e.length;if(s=!s&&vt.isArray(n)?n.length:s,i)return vt.hasOwnProp(n,s)?n[s]=[n[s],a]:n[s]=a,!l;n[s]&&vt.isObject(n[s])||(n[s]=[]);return t(e,a,n[s],r)&&vt.isArray(n[s])&&(n[s]=function(e){const t={},a=Object.keys(e);let n;const r=a.length;let s;for(n=0;n<r;n++)s=a[n],t[s]=e[s];return t}(n[s])),!l}if(vt.isFormData(e)&&vt.isFunction(e.entries)){const a={};return vt.forEachEntry(e,((e,n)=>{t(function(e){return vt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,a,0)})),a}return null};const Zt={transitional:Lt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,r=vt.isObject(e);r&&vt.isHTMLForm(e)&&(e=new FormData(e));if(vt.isFormData(e))return n?JSON.stringify(Jt(e)):e;if(vt.isArrayBuffer(e)||vt.isBuffer(e)||vt.isStream(e)||vt.isFile(e)||vt.isBlob(e)||vt.isReadableStream(e))return e;if(vt.isArrayBufferView(e))return e.buffer;if(vt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Pt(e,new Yt.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,n){return Yt.isNode&&vt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=vt.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Pt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,a){if(vt.isString(e))try{return(t||JSON.parse)(e),vt.trim(e)}catch(rs){if("SyntaxError"!==rs.name)throw rs}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Zt.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(vt.isResponse(e)||vt.isReadableStream(e))return e;if(e&&vt.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(rs){if(a){if("SyntaxError"===rs.name)throw kt.from(rs,kt.ERR_BAD_RESPONSE,this,null,this.response);throw rs}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vt.forEach(["delete","get","head","post","put","patch"],(e=>{Zt.headers[e]={}}));const Xt=Zt,$t=vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ea=Symbol("internals");function ta(e){return e&&String(e).trim().toLowerCase()}function aa(e){return!1===e||null==e?e:vt.isArray(e)?e.map(aa):String(e)}function na(e,t,a,n,r){return vt.isFunction(n)?n.call(this,t,a):(r&&(t=a),vt.isString(t)?vt.isString(n)?-1!==t.indexOf(n):vt.isRegExp(n)?n.test(t):void 0:void 0)}class ra{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function r(e,t,a){const r=ta(t);if(!r)throw new Error("header name must be a non-empty string");const s=vt.findKey(n,r);(!s||void 0===n[s]||!0===a||void 0===a&&!1!==n[s])&&(n[s||t]=aa(e))}const s=(e,t)=>vt.forEach(e,((e,a)=>r(e,a,t)));if(vt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(vt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let a,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!a||t[a]&&$t[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)})),t})(e),t);else if(vt.isObject(e)&&vt.isIterable(e)){let a,n,r={};for(const t of e){if(!vt.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[n=t[0]]=(a=r[n])?vt.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,a);return this}get(e,t){if(e=ta(e)){const a=vt.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(vt.isFunction(t))return t.call(this,e,a);if(vt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ta(e)){const a=vt.findKey(this,e);return!(!a||void 0===this[a]||t&&!na(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function r(e){if(e=ta(e)){const r=vt.findKey(a,e);!r||t&&!na(0,a[r],r,t)||(delete a[r],n=!0)}}return vt.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const r=t[a];e&&!na(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,a={};return vt.forEach(this,((n,r)=>{const s=vt.findKey(a,r);if(s)return t[s]=aa(n),void delete t[r];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(r):String(r).trim();l!==r&&delete t[r],t[l]=aa(n),a[l]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return vt.forEach(this,((a,n)=>{null!=a&&!1!==a&&(t[n]=e&&vt.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,a]=e;return t+": "+a})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ea]=this[ea]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=ta(e);t[n]||(!function(e,t){const a=vt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+a,{value:function(e,a,r){return this[n].call(this,t,e,a,r)},configurable:!0})}))}(a,e),t[n]=!0)}return vt.isArray(e)?e.forEach(n):n(e),this}}ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vt.reduceDescriptors(ra.prototype,((e,t)=>{let{value:a}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[n]=e}}})),vt.freezeMethods(ra);const sa=ra;function la(e,t){const a=this||Xt,n=t||a,r=sa.from(n.headers);let s=n.data;return vt.forEach(e,(function(e){s=e.call(a,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function ia(e){return!(!e||!e.__CANCEL__)}function oa(e,t,a){kt.call(this,null==e?"canceled":e,kt.ERR_CANCELED,t,a),this.name="CanceledError"}vt.inherits(oa,kt,{__CANCEL__:!0});const ca=oa;function da(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new kt("Request failed with status code "+a.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const ua=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let r,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=n[l];r||(r=o),a[s]=i,n[s]=o;let d=l,u=0;for(;d!==s;)u+=a[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const ma=function(e,t){let a,n,r=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,a=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(a=o,n||(n=setTimeout((()=>{n=null,l(a)}),s-t)))},()=>a&&l(a)]},ha=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=ua(50,250);return ma((a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,i=s-n,o=r(i);n=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:a,lengthComputable:null!=l,[t?"download":"upload"]:!0})}),a)},pa=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},xa=e=>function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return vt.asap((()=>e(...a)))},ga=Yt.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,Yt.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,fa=Yt.hasStandardBrowserEnv?{write(e,t,a,n,r,s){const l=[e+"="+encodeURIComponent(t)];vt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),vt.isString(n)&&l.push("path="+n),vt.isString(r)&&l.push("domain="+r),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ba(e,t,a){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ya=e=>e instanceof sa?qt({},e):e;function va(e,t){t=t||{};const a={};function n(e,t,a,n){return vt.isPlainObject(e)&&vt.isPlainObject(t)?vt.merge.call({caseless:n},e,t):vt.isPlainObject(t)?vt.merge({},t):vt.isArray(t)?t.slice():t}function r(e,t,a,r){return vt.isUndefined(t)?vt.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function s(e,t){if(!vt.isUndefined(t))return n(void 0,t)}function l(e,t){return vt.isUndefined(t)?vt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(a,r,s){return s in t?n(a,r):s in e?n(void 0,a):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,a)=>r(ya(e),ya(t),0,!0)};return vt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=o[n]||r,l=s(e[n],t[n],n);vt.isUndefined(l)&&s!==i||(a[n]=l)})),a}const ja=e=>{const t=va({},e);let a,{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=sa.from(i),t.url=It(ba(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),vt.isFormData(n))if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Yt.hasStandardBrowserEnv&&(r&&vt.isFunction(r)&&(r=r(t)),r||!1!==r&&ga(t.url))){const e=s&&l&&fa.read(l);e&&i.set(s,e)}return t},Na="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){const n=ja(e);let r=n.data;const s=sa.from(n.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let x=new XMLHttpRequest;function g(){if(!x)return;const n=sa.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());da((function(e){t(e),p()}),(function(e){a(e),p()}),{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x}),x=null}x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout,"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(g)},x.onabort=function(){x&&(a(new kt("Request aborted",kt.ECONNABORTED,e,x)),x=null)},x.onerror=function(){a(new kt("Network Error",kt.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||Lt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new kt(t,r.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,x)),x=null},void 0===r&&s.setContentType(null),"setRequestHeader"in x&&vt.forEach(s.toJSON(),(function(e,t){x.setRequestHeader(t,e)})),vt.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),u&&"json"!==u&&(x.responseType=n.responseType),h&&([o,d]=ha(h,!0),x.addEventListener("progress",o)),m&&x.upload&&([i,c]=ha(m),x.upload.addEventListener("progress",i),x.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(l=t=>{x&&(a(!t||t.type?new ca(null,e,x):t),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);f&&-1===Yt.protocols.indexOf(f)?a(new kt("Unsupported protocol "+f+":",kt.ERR_BAD_REQUEST,e)):x.send(r||null)}))},wa=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const r=function(e){if(!a){a=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof kt?t:new ca(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,r(new kt("timeout ".concat(t," of ms exceeded"),kt.ETIMEDOUT))}),t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:i}=n;return i.unsubscribe=()=>vt.asap(l),i}};function ka(e,t){this.v=e,this.k=t}function Sa(e){return function(){return new Ca(e.apply(this,arguments))}}function Ca(e){var t,a;function n(t,a){try{var s=e[t](a),l=s.value,i=l instanceof ka;Promise.resolve(i?l.v:l).then((function(a){if(i){var o="return"===t?"return":"next";if(!l.k||a.done)return n(o,a);a=e[o](a).value}r(s.done?"return":"normal",a)}),(function(e){n("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):a=null}this._invoke=function(e,r){return new Promise((function(s,l){var i={key:e,arg:r,resolve:s,reject:l,next:null};a?a=a.next=i:(t=a=i,n(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ea(e){return new ka(e,0)}function Aa(e){var t={},a=!1;function n(t,n){return a=!0,n=new Promise((function(a){a(e[t](n))})),{done:!1,value:new ka(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):n("return",e)}),t}function Pa(e){var t,a,n,r=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(a&&null!=(t=e[a]))return t.call(e);if(n&&null!=(t=e[n]))return new _a(t.call(e));a="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function _a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return _a=function(e){this.s=e,this.n=e.next},_a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new _a(e)}Ca.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ca.prototype.next=function(e){return this._invoke("next",e)},Ca.prototype.throw=function(e){return this._invoke("throw",e)},Ca.prototype.return=function(e){return this._invoke("return",e)};const Ta=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let n,r=0;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},Oa=function(){var e=Sa((function*(e,t){var a,n=!1,r=!1;try{for(var s,l=Pa(Ba(e));n=!(s=yield Ea(l.next())).done;n=!1){const e=s.value;yield*Aa(Pa(Ta(e,t)))}}catch(i){r=!0,a=i}finally{try{n&&null!=l.return&&(yield Ea(l.return()))}finally{if(r)throw a}}}));return function(t,a){return e.apply(this,arguments)}}(),Ba=function(){var e=Sa((function*(e){if(e[Symbol.asyncIterator])return void(yield*Aa(Pa(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield Ea(t.read());if(e)break;yield a}}finally{yield Ea(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Ra=(e,t,a,n)=>{const r=Oa(e,t);let s,l=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return i(),void e.close();let s=n.byteLength;if(a){let e=l+=s;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},Ia="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Da=Ia&&"function"===typeof ReadableStream,La=Ia&&("function"===typeof TextEncoder?(Ua=new TextEncoder,e=>Ua.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ua;const za=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!e(...a)}catch(rs){return!1}},Ma=Da&&za((()=>{let e=!1;const t=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Fa=Da&&za((()=>vt.isReadableStream(new Response("").body))),qa={stream:Fa&&(e=>e.body)};var Va;Ia&&(Va=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!qa[e]&&(qa[e]=vt.isFunction(Va[e])?t=>t[e]():(t,a)=>{throw new kt("Response type '".concat(e,"' is not supported"),kt.ERR_NOT_SUPPORT,a)})})));const Ha=async(e,t)=>{const a=vt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(vt.isBlob(e))return e.size;if(vt.isSpecCompliantForm(e)){const t=new Request(Yt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vt.isArrayBufferView(e)||vt.isArrayBuffer(e)?e.byteLength:(vt.isURLSearchParams(e)&&(e+=""),vt.isString(e)?(await La(e)).byteLength:void 0)})(t):a},Qa=Ia&&(async e=>{let{url:t,method:a,data:n,signal:r,cancelToken:s,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=ja(e);c=c?(c+"").toLowerCase():"text";let h,p=wa([r,s&&s.toAbortSignal()],l);const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(o&&Ma&&"get"!==a&&"head"!==a&&0!==(g=await Ha(d,n))){let e,a=new Request(t,{method:"POST",body:n,duplex:"half"});if(vt.isFormData(n)&&(e=a.headers.get("content-type"))&&d.setContentType(e),a.body){const[e,t]=pa(g,ha(xa(o)));n=Ra(a.body,65536,e,t)}}vt.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;h=new Request(t,qt(qt({},m),{},{signal:p,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:r?u:void 0}));let s=await fetch(h);const l=Fa&&("stream"===c||"response"===c);if(Fa&&(i||l&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=vt.toFiniteNumber(s.headers.get("content-length")),[a,n]=i&&pa(t,ha(xa(i),!0))||[];s=new Response(Ra(s.body,65536,a,(()=>{n&&n(),x&&x()})),e)}c=c||"text";let f=await qa[vt.findKey(qa,c)||"text"](s,e);return!l&&x&&x(),await new Promise(((t,a)=>{da(t,a,{data:f,headers:sa.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})}))}catch(f){if(x&&x(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new kt("Network Error",kt.ERR_NETWORK,e,h),{cause:f.cause||f});throw kt.from(f,f&&f.code,e,h)}}),Wa={http:null,xhr:Na,fetch:Qa};vt.forEach(Wa,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(rs){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ka=e=>"- ".concat(e),Ga=e=>vt.isFunction(e)||null===e||!1===e,Ya=e=>{e=vt.isArray(e)?e:[e];const{length:t}=e;let a,n;const r={};for(let s=0;s<t;s++){let t;if(a=e[s],n=a,!Ga(a)&&(n=Wa[(t=String(a)).toLowerCase()],void 0===n))throw new kt("Unknown adapter '".concat(t,"'"));if(n)break;r[t||"#"+s]=n}if(!n){const e=Object.entries(r).map((e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")}));let a=t?e.length>1?"since :\n"+e.map(Ka).join("\n"):" "+Ka(e[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n};function Ja(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ca(null,e)}function Za(e){Ja(e),e.headers=sa.from(e.headers),e.data=la.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ya(e.adapter||Xt.adapter)(e).then((function(t){return Ja(e),t.data=la.call(e,e.transformResponse,t),t.headers=sa.from(t.headers),t}),(function(t){return ia(t)||(Ja(e),t&&t.response&&(t.response.data=la.call(e,e.transformResponse,t.response),t.response.headers=sa.from(t.response.headers))),Promise.reject(t)}))}const Xa="1.9.0",$a={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{$a[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const en={};$a.transitional=function(e,t,a){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,s)=>{if(!1===e)throw new kt(n(r," has been removed"+(t?" in "+t:"")),kt.ERR_DEPRECATED);return t&&!en[r]&&(en[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,s)}},$a.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const tn={assertOptions:function(e,t,a){if("object"!==typeof e)throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],l=t[s];if(l){const t=e[s],a=void 0===t||l(t,s,e);if(!0!==a)throw new kt("option "+s+" must be "+a,kt.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}},validators:$a},an=tn.validators;class nn{constructor(e){this.defaults=e||{},this.interceptors={request:new Dt,response:new Dt}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(rs){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=va(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:r}=t;void 0!==a&&tn.assertOptions(a,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1),null!=n&&(vt.isFunction(n)?t.paramsSerializer={serialize:n}:tn.assertOptions(n,{encode:an.function,serialize:an.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),tn.assertOptions(t,{baseUrl:an.spelling("baseURL"),withXsrfToken:an.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&vt.merge(r.common,r[t.method]);r&&vt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=sa.concat(s,r);const l=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[Za.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Za.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return It(ba((e=va(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}vt.forEach(["delete","get","head","options"],(function(e){nn.prototype[e]=function(t,a){return this.request(va(a||{},{method:e,url:t,data:(a||{}).data}))}})),vt.forEach(["post","put","patch"],(function(e){function t(t){return function(a,n,r){return this.request(va(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}nn.prototype[e]=t(),nn.prototype[e+"Form"]=t(!0)}));const rn=nn;class sn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e((function(e,n,r){a.reason||(a.reason=new ca(e,n,r),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sn((function(t){e=t})),cancel:e}}}const ln=sn;const on={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(on).forEach((e=>{let[t,a]=e;on[a]=t}));const cn=on;const dn=function e(t){const a=new rn(t),n=Ie(rn.prototype.request,a);return vt.extend(n,rn.prototype,a,{allOwnKeys:!0}),vt.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(va(t,a))},n}(Xt);dn.Axios=rn,dn.CanceledError=ca,dn.CancelToken=ln,dn.isCancel=ia,dn.VERSION=Xa,dn.toFormData=Pt,dn.AxiosError=kt,dn.Cancel=dn.CanceledError,dn.all=function(e){return Promise.all(e)},dn.spread=function(e){return function(t){return e.apply(null,t)}},dn.isAxiosError=function(e){return vt.isObject(e)&&!0===e.isAxiosError},dn.mergeConfig=va,dn.AxiosHeaders=sa,dn.formToJSON=e=>Jt(vt.isHTMLForm(e)?new FormData(e):e),dn.getAdapter=Ya,dn.HttpStatusCode=cn,dn.default=dn;const un=dn,mn=window.location.hostname,hn="localhost"===mn||"127.0.0.1"===mn,pn=hn?"http://localhost:5050/api":"/api";console.log("Current hostname:",mn),console.log("Is localhost:",hn),console.log("NODE_ENV:","production"),console.log("Using backend URL:",pn);const xn=pn;var gn=a(579);const fn=["token"],bn=["token"],yn=(0,s.createContext)(null),vn=e=>{let{children:t}=e;const[a,n]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");e?i(e):l(!1)}),[]);const i=async e=>{try{const t=await un.get("".concat(xn,"/users/profile"),{headers:{Authorization:"Bearer ".concat(e)}});return n(t.data),!0}catch(s){var t,a,r;return console.error("Error fetching user profile:",s),"TOKEN_EXPIRED"!==(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.code)&&401!==(null===(r=s.response)||void 0===r?void 0:r.status)||(localStorage.removeItem("token"),window.location.href="/"),!1}finally{l(!1)}},o=async()=>{try{const e=localStorage.getItem("token");e&&await un.post("".concat(xn,"/users/logout"),{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),n(null),window.location.href="/"}},c=e=>{var t;return!!a&&(!!a.isMasterAdmin||((null===(t=a.permissions)||void 0===t?void 0:t[e])||!1))},d={user:a,loading:r,login:async(e,t)=>{try{l(!0);const a=(await un.post("".concat(xn,"/users/login"),{email:e,password:t})).data,{token:r}=a,s=Re(a,fn);return localStorage.setItem("token",r),n(s),setTimeout((()=>{o()}),36e5),{success:!0}}catch(s){var a,r;return{success:!1,message:(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Login failed"}}finally{l(!1)}},register:async e=>{try{l(!0);const t=(await un.post("".concat(xn,"/users/register"),e)).data,{token:a}=t,r=Re(t,bn);return localStorage.setItem("token",a),n(r),setTimeout((()=>{o()}),36e5),{success:!0}}catch(r){var t,a;return{success:!1,message:(null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Registration failed"}}finally{l(!1)}},logout:o,hasPermission:c,canCreate:()=>c("canCreate"),canEdit:()=>c("canEdit"),canDelete:()=>c("canDelete"),canView:()=>c("canView"),isMasterAdmin:()=>(null===a||void 0===a?void 0:a.isMasterAdmin)||!1};return(0,gn.jsx)(yn.Provider,{value:d,children:!r&&t})},jn=()=>{const e=(0,s.useContext)(yn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Nn=e=>{let{children:t,requiredRole:a}=e;const{user:n,loading:r}=jn(),s=te();return r?(0,gn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,gn.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):n?a&&n.role!==a?(0,gn.jsx)(ye,{to:"/",replace:!0}):t:(0,gn.jsx)(ye,{to:"/",state:{from:s},replace:!0})},wn=e=>{let{item:t,isActive:a,onSubMenuToggle:n,isCollapsed:r,isSubMenuOpen:s,isMobile:l,level:i=0,openSubMenus:o}=e;const c=te(),d=Array.isArray(t.children)&&t.children.length>0,u=e=>e.path?c.pathname===e.path:!!e.children&&e.children.some((e=>c.pathname===e.path)),m=0===i?"bg-yellow-200":1===i?"bg-orange-200":2===i?"bg-green-200":"bg-blue-200",h=0===i?"text-black font-bold text-lg":1===i?"text-black font-semibold":2===i?"text-black font-medium":"text-black",p=0===i?"px-4 py-3":1===i?"px-6 py-2":2===i?"px-8 py-2":"px-10 py-2";return(0,gn.jsx)("li",{className:"mb-1",children:t.path&&!d?(0,gn.jsx)(Te,{to:t.path,className:"flex items-center rounded-lg hover:opacity-80 transition-all duration-200 ".concat(a?"ring-2 ring-blue-500":""," ").concat(r&&!l?"justify-center":"justify-between"," ").concat(m," ").concat(h," ").concat(p),children:(0,gn.jsxs)("div",{className:"flex items-center",children:[t.icon&&0===i&&(0,gn.jsx)("span",{className:"".concat(r&&!l?"mx-auto":"mr-3"," text-lg"),children:t.icon}),i>0&&(0,gn.jsx)("span",{className:"mr-2 text-xs",children:"\u2022"}),(!r||l)&&(0,gn.jsx)("span",{children:t.label})]})}):(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("button",{onClick:e=>{e.preventDefault(),d&&n(t.label)},className:"w-full flex items-center rounded-lg hover:opacity-80 transition-all duration-200 ".concat(a?"ring-2 ring-blue-500":""," ").concat(r&&!l?"justify-center":"justify-between"," ").concat(m," ").concat(h," ").concat(p),children:[(0,gn.jsxs)("div",{className:"flex items-center",children:[t.icon&&0===i&&(0,gn.jsx)("span",{className:"".concat(r&&!l?"mx-auto":"mr-3"," text-lg"),children:t.icon}),i>0&&(0,gn.jsx)("span",{className:"mr-2 text-xs",children:"\u2022"}),(!r||l)&&(0,gn.jsx)("span",{children:t.label})]}),(!r||l)&&d&&(0,gn.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 ".concat(s?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&(!r||l)&&(0,gn.jsx)("ul",{className:"mt-1 space-y-1",children:t.children.map((e=>(0,gn.jsx)(wn,{item:e,isActive:u(e),onSubMenuToggle:n,isCollapsed:r,isSubMenuOpen:o[e.label]||!1,isMobile:l,level:i+1,openSubMenus:o},e.label)))})]})})},kn=e=>{let{menuItems:t,isCollapsed:a,isMobileMenuOpen:n,onCloseMobileMenu:r}=e;const l=te(),[i,o]=(0,s.useState)({}),[c,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=()=>{d(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const u=e=>{o((t=>qt(qt({},t),{},{[e]:!t[e]})))},m=e=>e.path?l.pathname===e.path:!!e.children&&e.children.some((e=>e.path?l.pathname===e.path:!!e.children&&e.children.some((e=>l.pathname===e.path)))),h="\n        bg-white shadow-lg flex-shrink-0 transition-all duration-300 ease-in-out\n        ".concat(c?"fixed top-0 left-0 h-full z-50 w-64 transform ".concat(n?"translate-x-0":"-translate-x-full"):"sticky top-0 h-screen ".concat(a?"w-16":"w-64"),"\n    ");return(0,gn.jsxs)(gn.Fragment,{children:[c&&n&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:r}),(0,gn.jsxs)("div",{className:h,children:[(0,gn.jsx)("div",{className:"flex items-center justify-center h-16 border-b border-gray-200",children:(0,gn.jsx)("img",{src:a&&!c?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA4FJREFUeNqsl02IlVUYx3/z5sekJCquWrWotbgZFIUslcaZY4pOIzYu8jrH2XgvGUyM+YEflFIQmgrhcUpBIWq01KNcJEGlLKTatGgprtKFCTL3+pHMtPD/xuHwvnfee/Xd3HMP5z3/5/97nvPxtvV3j9PE0w0cBdr1vx24Aqx1nlGafCY1MbYT+A54Mej7FSg5z6g1WKDuPKeKTpgUHNcFjGQIdznPHWsoicgJa3jneYp3Snh60PeTUnBPwsPqfwE4ZQ09z0M8y/ENYBXwD1ACXPTO5KIBJC04Xg7clfCw5hgFrgfjphQJIGlQ1bHjXwLH/YHjh8C7wGLgXEYAvc2IdwLf5uT4LvCehBPgMbDeec47z79AD3A6CuBkHoEkx/G0DMf35Hg4cLzOeU5bw2vWMKAA1kcEJucRSJ7FMXDGGl4FqsCX1rDVeR6KwPcTEUhacPwY6AvwzgBmqf2JNWwvSiAB5mtQ6Phq4LgUOe5ToAA4zx/AMuC2uvaKQH0iAglwE7gcDKgBVo7nZjgeiXPnPL8DK4A7AYGtExDYkOiFVcobInBAv38Cu7SOM4WDAH4TrdtRAHkEliXAx0AdWANcCHa2swpgN9DRSDgiEAewQwT6ogAeJcBHwBYF0BsQWKJTbBrwV9HDQjUQBrBHBB4Aa4MA2tJq/xwYzCDwlvI1o5lzWgGsaEDgR+ClcJ1/2oBAvP4zH2uYbQ0/WMNS1YAB/s4gsAY43NbfPR5fZT4EPpPYiDYftCJWA/cjl6nwHFFaoN3vdee5YQ1zdduZqVd2Os/edKkdjsRTAjVV6YQErGGWcrlAXT8Dt9ReGB1Qe6zBpOJl4FA0X1oDNSGqBjVwHng5EJ6jGlmkrirwtm44g8ARYGow93HgWri9VnIIVFQDIYE3gHlqz44cV4Ee56lbwweag0h4o/NPUxdeIMvAE+D9oO+gltp+5fsb4JKcpo47NPaihB9YwxCwLxI+BmxynvG82+sW9W0O+vbJ/RfAyshxR+C4V8KVDOHjwEAonHeZKGt7JSIwpPbMKMcXgdXOU5PjgxmOS84zVvTenkdgHHhTJ2HLjot8NJQlVg769gftpnMcP20FPpcORQT+r2otxUoG6rSqx571oyHeB6pa+zXVQSz8dV6OW/1Wq2ijeEWO69qEYtRfAbYR6lY/FAdEakztbbrtpEJnnMc2c/r9NwAL21yOPnYFeAAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAhCAYAAAAWEL/QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABwRJREFUeNrsm11sFFUUx3/TgGKJxiU8+WRWfTZaQjD64EcJxQ6oUGoETRCZ3RdoxMS0YEgUFVoTEVAfuiPig8bY8qEwaE1r/IhfMSwP+uATNT4pD3YNoVQhMj70TLk9vTM7uy2wLT3JZHdm7nzs/d//+Z9z7l0nDENmijmOM11fvVE+S0Cx2pskYhmG4YzZpqm1A6GxrZkM0HHbHLOh55a9VzNQAObJ/jzgK+Bx4KwfMGvVszmy7OV4SF0FbZuAXuAWYIFsPwMbgLOA57msm8WtYhtQ+4OX4yFzUrZ7GOgBbjCO/SjHSwJ2AfjPcznvB/TO4pfaugTcrIBevBwPcUxti3HdTcBhBfK3wCPAkIC83zh3AVjrBxycDcaurCXFKXUpmHxQgfwT8KgBsq+umQt84Lm0zJK1dqyujCYfBOYrJi8H/jKYXCca/b3R7rpZsKcH0M0WJv9gMHmjweR/gLXA/cBRC9it11B/ZiWKNreaBbpJAi/N5GZh8noBuQ44DzwJHBNtbgEOKbDfr5bZjuO0O44Tpt1UPtpvpC/m8VxKwMxr2hNy3355Rj9wSj7NbchyvU6vzGdpG1LnG8v02RrVL/02oCMm11uYXBIm7zeY/IQAeweQ9wMuCPBHLZp9tZg9IO8eWRqgddEiKRJuMMC2WQboBLqrfP+lar9H7mkDOaueUwI6xkXdnkuTgFavmLxSLlgPHJDj58VdHwJuBz4XFmzzA3Z5LnOBj4DHJhONO47TKB1ZzjIW1nRFP1LOdRrnFpUB75RRuChKe83oTst1BWNgZaWdWQDJSxvN6H7zZ1vum1MADlgGAMAJ1V/5MAwLY0B7Ls0CzHzF5BXirjfKgyJ3vU6YD3C3PDgaZdv9gFc8l3rgQxkoGAPkKT+gZwpTqox0VIPq8LwaCEMJ55M63gaODWhbu4x0ftYohtxWBdBI/5veqEMGc9z5rjAMO8Y02nNZIq7WBPlrQ5M3KE02QQY4KaPrT9l/2XPZ6gecE80+MlWaXSXIkQsrKNecSeG2S1INLGcdFpCj67uU9ldb4syrKlqn8a45BXKvCXKk0b8BXxjHhgFPXvJOQ5NtIJsatgI4Lfs7BewkzX56CrDuUSAXDXdtc6sm03IxEjCuw5S+k+Le2notgV611sr4Emm3gN2p+mCCt6rzA05LsNUnx+YDe+TzF+BFyZPjQDb1odlg9s4yzF46STZ3qwCoKPeMA6aoGJFLEYQVUrzKYJnBUGLqrCRgl4yBaQZnJdHlCc+s81xeFTBWA8eNitgnAvZLwOIyIAPgBxQtYG8XZq9TYP87SZBzFYBsY1fWEinnVMBTTAn0lbRiQnyRD8OwGJdHb/NctgjYrQazH5KOqQd+TfsWfsBJBfYOYfYIo9OZR8oEHZWCXAKW2kZxjIsdjGFwVslALU/MlCoddFEevdtzeR4mMHuZ6OtNlbyFgL0igdkDwI1VgJybBMg2d5wz3F4uIXirJWsQd22zfglQEytjrwFbBGzNbF0ps5rnssBz+dhzafQDTgAu8IeF2auBt6oAudsCcqXTeoUYd52rUJuvhmWkDzIJQWZ/mhLobhhjdosB9jLR7CRmLwQCRqcvj3kui0WzlwN/K2af8QO+vAog29ias6RbtQp0t5KXLkv+3iDyNgFozayI2cMK7CRmZ0R775H974Df5fu9jJ8c2eG5uBWA3GgpH3ZUCbINyKxKT3qvQoCVxtpVTDFgpJJ5FTjmHMdp1+nVZuDNGGYPi5s1mX2M0eVEJpOPA/fJfh+w0g84Lbr/NnC90f494JuUINv0aKysN8nIdSAmt63FICxnyZX13IHOOjqFJJdctx/QFsPsNosbfwC4S74vUEzuA1r8gHOey3NyDxTIz/gBZ1L+wE5LBas75exVuZme3piotdaAblAgl4TBJYskTZgAkYmOSxotzN6jGu4V9zAMrJIIfJMweCHwmcHkT4FVfsCw59IBvK7u9Q6wwQ+4WCMdWLC46FrTZl0QsbnpMRM50zX+HsdxMnpx4BZGFwxuMo7tElbvk0DLZPJig8mtfsCI59Im12gm5/2AShdf9zJxlWQlNpjifDVu2yy1pkntOhLeaZD4sm1GDb6yHicMw4IlxcrELQ58A3hWNd4qLuRmYfISg8ktwIi88C4Lk3NVgFxNMaWS5llGpyNNNueZxpa0ODBuuW8cs0PgQQPkPgkKRkTPp4rJV8LWpNDsGWPllvvuAzbHXFszTK6C0Rlhc8ZwxYumO5iTWe7bFlPBms5MjqpHGVV4mNGW5i85Os/uk9x6WJi8V7U/UGPRtS6MnFLVpYGZ7raTNNrG7OuBW8Vdn5OCimbyu4BXo0wuMXFdma3wcE0DHeVvdcBF+f6CdF4E6mE/wKvh3xr997hB0pTCteCyI/t/AAiVOakygywtAAAAAElFTkSuQmCC",alt:"logo",className:"".concat(a&&!c?"w-8":"w-24 md:w-32"," transition-all duration-300")})}),(0,gn.jsx)("div",{className:"h-[calc(100vh-4rem)] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{scrollbarWidth:"thin",scrollbarColor:"#D1D5DB #F3F4F6"},children:(0,gn.jsx)("ul",{className:"list-none p-3 space-y-1",children:t.map((e=>(0,gn.jsx)(wn,{item:e,isActive:m(e),onSubMenuToggle:u,isCollapsed:a,isSubMenuOpen:i[e.label]||!1,isMobile:c,openSubMenus:i},e.label)))})})]})]})},Sn=e=>{var t;let{onMenuToggle:a,isSidebarCollapsed:n,onMobileMenuToggle:r}=e;const{user:l,logout:i,isMasterAdmin:o}=jn(),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=()=>{m(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const h=async()=>{await i()};return(0,gn.jsxs)("div",{className:"bg-white shadow-md flex items-center justify-between h-16 px-4 sticky top-0 z-30",children:[(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("button",{className:"text-gray-500 focus:outline-none mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>{u?r():a()},children:(0,gn.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,gn.jsx)("div",{className:"text-sm text-gray-600 hidden sm:block",children:(0,gn.jsx)("span",{children:"Dashboard"})})]}),(0,gn.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,gn.jsxs)("div",{className:"hidden md:block text-right",children:[(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:(null===l||void 0===l?void 0:l.name)||"User"}),(0,gn.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1 justify-end",children:[(0,gn.jsx)("span",{className:"capitalize",children:(null===l||void 0===l?void 0:l.role)||"user"}),o()&&(0,gn.jsx)("span",{className:"text-blue-600",children:"\ud83d\udc51"})]})]}),(0,gn.jsxs)("div",{className:"md:hidden relative",children:[(0,gn.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,gn.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,gn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null===l||void 0===l||null===(t=l.name)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,gn.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,gn.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,gn.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200",children:[(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-700",children:(null===l||void 0===l?void 0:l.name)||"User"}),(0,gn.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,gn.jsx)("span",{className:"capitalize",children:(null===l||void 0===l?void 0:l.role)||"user"}),o()&&(0,gn.jsx)("span",{className:"text-blue-600",children:"\ud83d\udc51"})]})]}),(0,gn.jsx)("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})]})]}),(0,gn.jsx)("button",{className:"hidden md:block bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition-colors text-sm",onClick:h,children:"Logout"})]})]})};const Cn=function(e){let{children:t,menuItems:a}=e;const[n,r]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const e=()=>{window.innerWidth>=768&&i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,gn.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,gn.jsx)(kn,{menuItems:a,isCollapsed:n,isMobileMenuOpen:l,onCloseMobileMenu:()=>{i(!1)}}),(0,gn.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,gn.jsx)(Sn,{onMenuToggle:()=>{r((e=>!e))},isSidebarCollapsed:n,onMobileMenuToggle:()=>{i((e=>!e))}}),(0,gn.jsx)("main",{className:"flex-1 bg-gray-100 p-3 md:p-6 overflow-y-auto",children:(0,gn.jsx)("div",{className:"max-w-full",children:t})})]})]})},En=()=>{const{user:e}=jn(),[t,a]=(0,s.useState)({totalItems:0,totalUsers:0,totalBranches:0,totalOrders:0,recentActivity:[],lowStock:[]}),[n,r]=(0,s.useState)(!0),[l,i]=(0,s.useState)("7d");(0,s.useEffect)((()=>{o()}),[l]);const o=async()=>{try{var e,t,n;r(!0);const[s,l,i]=await Promise.all([un.get("".concat(xn,"/items")).catch((()=>({data:[]}))),un.get("".concat(xn,"/users")).catch((()=>({data:[]}))),un.get("".concat(xn,"/branch")).catch((()=>({data:[]})))]);a({totalItems:(null===(e=s.data)||void 0===e?void 0:e.length)||0,totalUsers:(null===(t=l.data)||void 0===t?void 0:t.length)||0,totalBranches:(null===(n=i.data)||void 0===n?void 0:n.length)||0,totalOrders:Math.floor(100*Math.random())+50,recentActivity:[{id:1,action:"New item added",user:"John Doe",time:"2 hours ago"},{id:2,action:"Order placed",user:"Jane Smith",time:"3 hours ago"},{id:3,action:"User registered",user:"Bob Johnson",time:"5 hours ago"},{id:4,action:"Branch updated",user:"Alice Brown",time:"1 day ago"}],lowStock:[{id:1,name:"Coffee Beans",stock:5,minStock:20},{id:2,name:"Sugar",stock:12,minStock:50},{id:3,name:"Milk",stock:8,minStock:30}]})}catch(s){console.error("Error fetching dashboard data:",s)}finally{r(!1)}},c=e=>{let{title:t,value:a,icon:n,color:r,trend:s}=e;return(0,gn.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:(0,gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gn.jsxs)("div",{className:"flex-1",children:[(0,gn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:t}),(0,gn.jsx)("p",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:a}),s&&(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsxs)("span",{className:"text-sm font-medium ".concat(s.positive?"text-green-600":"text-red-600"),children:[s.positive?"\u2197":"\u2198"," ",s.value,"%"]}),(0,gn.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"vs last period"})]})]}),(0,gn.jsx)("div",{className:"p-4 rounded-2xl ".concat(r," shadow-lg"),children:(0,gn.jsx)("span",{className:"text-2xl md:text-3xl",children:n})})]})})},d=()=>(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6",children:[(0,gn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Recent Activity"]}),(0,gn.jsx)("div",{className:"space-y-4",children:t.recentActivity.map((e=>(0,gn.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:[(0,gn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:(0,gn.jsx)("span",{className:"text-white text-sm",children:"\ud83d\udcdd"})}),(0,gn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:e.action}),(0,gn.jsxs)("p",{className:"text-xs text-gray-500",children:["by ",e.user]})]}),(0,gn.jsx)("span",{className:"text-xs text-gray-400 whitespace-nowrap bg-gray-100 px-2 py-1 rounded-full",children:e.time})]},e.id)))})]}),u=()=>(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6",children:[(0,gn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Low Stock Alert"]}),(0,gn.jsx)("div",{className:"space-y-4",children:t.lowStock.map((e=>(0,gn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl border border-red-200",children:[(0,gn.jsxs)("div",{className:"flex-1",children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,gn.jsxs)("p",{className:"text-xs text-gray-500",children:["Min: ",e.minStock," units"]})]}),(0,gn.jsxs)("div",{className:"text-right",children:[(0,gn.jsx)("p",{className:"text-sm font-bold text-red-600",children:e.stock}),(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"in stock"})]})]},e.id)))})]}),m=()=>(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6",children:[(0,gn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Quick Actions"]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsxs)("button",{className:"flex flex-col items-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,gn.jsx)("span",{className:"text-3xl mb-2",children:"\ud83d\udce6"}),(0,gn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Add Item"})]}),(0,gn.jsxs)("button",{className:"flex flex-col items-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl hover:from-green-100 hover:to-green-200 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,gn.jsx)("span",{className:"text-3xl mb-2",children:"\ud83d\udc65"}),(0,gn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Add User"})]}),(0,gn.jsxs)("button",{className:"flex flex-col items-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl hover:from-purple-100 hover:to-purple-200 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,gn.jsx)("span",{className:"text-3xl mb-2",children:"\ud83c\udfe2"}),(0,gn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Add Branch"})]}),(0,gn.jsxs)("button",{className:"flex flex-col items-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl hover:from-orange-100 hover:to-orange-200 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,gn.jsx)("span",{className:"text-3xl mb-2",children:"\ud83d\udcca"}),(0,gn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"View Reports"})]})]})]});return n?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Loading dashboard..."})]})}):(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,gn.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[(0,gn.jsx)("div",{className:"mb-8",children:(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 shadow-2xl",children:(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-10 h-10 mr-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Welcome back, ",(null===e||void 0===e?void 0:e.name)||"User","!"]}),(0,gn.jsx)("p",{className:"text-blue-100 text-lg",children:"Here's what's happening with your business today."})]}),(0,gn.jsx)("div",{className:"flex items-center gap-2",children:(0,gn.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"px-4 py-2 border-2 border-blue-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 text-sm font-medium bg-white/10 text-white backdrop-blur-sm",children:[(0,gn.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,gn.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,gn.jsx)("option",{value:"90d",children:"Last 90 days"})]})})]})})}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,gn.jsx)(c,{title:"Total Items",value:t.totalItems,icon:"\ud83d\udce6",color:"bg-blue-100",trend:{positive:!0,value:12}}),(0,gn.jsx)(c,{title:"Total Users",value:t.totalUsers,icon:"\ud83d\udc65",color:"bg-green-100",trend:{positive:!0,value:8}}),(0,gn.jsx)(c,{title:"Total Branches",value:t.totalBranches,icon:"\ud83c\udfe2",color:"bg-purple-100",trend:{positive:!1,value:3}}),(0,gn.jsx)(c,{title:"Total Orders",value:t.totalOrders,icon:"\ud83d\uded2",color:"bg-orange-100",trend:{positive:!0,value:15}})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,gn.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,gn.jsx)(d,{}),(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6",children:[(0,gn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Sales Overview"]}),(0,gn.jsx)("div",{className:"h-80 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl flex items-center justify-center border-2 border-dashed border-blue-200",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udcc8"}),(0,gn.jsx)("p",{className:"text-lg text-gray-600 font-medium",children:"Chart visualization coming soon"})]})})]})]}),(0,gn.jsxs)("div",{className:"space-y-8",children:[(0,gn.jsx)(m,{}),(0,gn.jsx)(u,{}),(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6",children:[(0,gn.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"System Status"]}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-xl border border-green-200",children:[(0,gn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Server Status"}),(0,gn.jsxs)("span",{className:"flex items-center text-green-600 font-semibold",children:[(0,gn.jsx)("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-2 animate-pulse"}),"Online"]})]}),(0,gn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-xl border border-green-200",children:[(0,gn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Database"}),(0,gn.jsxs)("span",{className:"flex items-center text-green-600 font-semibold",children:[(0,gn.jsx)("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-2"}),"Connected"]})]}),(0,gn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl border border-blue-200",children:[(0,gn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Last Backup"}),(0,gn.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"2 hours ago"})]})]})]})]})]})]})})},An=e=>{let{children:t,requirePermission:a,requireMasterAdmin:n=!1,fallback:r=null}=e;const{hasPermission:s,isMasterAdmin:l}=jn();return n&&!l()||a&&!s(a)?r:s("canView")?t:r},Pn=e=>{let{children:t,fallback:a=null}=e;return(0,gn.jsx)(An,{requirePermission:"canCreate",fallback:a,children:t})},_n=e=>{let{children:t,fallback:a=null}=e;return(0,gn.jsx)(An,{requirePermission:"canEdit",fallback:a,children:t})},Tn=e=>{let{children:t,fallback:a=null}=e;return(0,gn.jsx)(An,{requirePermission:"canDelete",fallback:a,children:t})},On=e=>{let{children:t,fallback:a=null}=e;return(0,gn.jsx)(An,{requireMasterAdmin:!0,fallback:a,children:t})},Bn=un.create({baseURL:xn,timeout:3e4});let Rn=[],In=!1;Bn.interceptors.request.use((e=>{e.params=qt(qt({},e.params),{},{_t:Date.now()});const t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),Bn.interceptors.response.use((e=>e),(async e=>{var t,a;const n=e.config;if(429===(null===(t=e.response)||void 0===t?void 0:t.status)&&!n._retry){n._retry=!0;const t=e.response.headers["retry-after"]?1e3*parseInt(e.response.headers["retry-after"]):2e3*Math.random()+1e3;return console.log("Rate limited. Retrying after ".concat(t,"ms...")),await new Promise((e=>setTimeout(e,t))),Bn(n)}return"NETWORK_ERROR"===e.code||"ECONNABORTED"===e.code?(console.error("Network error:",e.message),Promise.reject(new Error("Network connection failed. Please check your internet connection."))):(null===(a=e.response)||void 0===a?void 0:a.status)>=500?(console.error("Server error:",e.response.status,e.response.data),Promise.reject(new Error("Server error. Please try again later."))):Promise.reject(e)}));const Dn=e=>new Promise(((t,a)=>{Rn.length<20?(Rn.push({resolve:t,reject:a,config:e}),(async()=>{if(!In&&0!==Rn.length){for(In=!0;Rn.length>0;){const t=Rn.splice(0,5);try{await Promise.all(t.map((e=>{let{resolve:t,reject:a,config:n}=e;return Bn(n).then(t).catch(a)})))}catch(e){console.error("Batch request error:",e)}Rn.length>0&&await new Promise((e=>setTimeout(e,100)))}In=!1}})()):a(new Error("Too many requests queued. Please try again later."))})),Ln={get:function(e){return Dn(qt(qt({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{method:"GET",url:e}))},post:function(e,t){return Dn(qt(qt({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),{},{method:"POST",url:e,data:t}))},put:function(e,t){return Dn(qt(qt({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),{},{method:"PUT",url:e,data:t}))},patch:function(e,t){return Dn(qt(qt({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),{},{method:"PATCH",url:e,data:t}))},delete:function(e){return Dn(qt(qt({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{method:"DELETE",url:e}))},branches:{create:e=>Ln.post("/branch",e),getAll:()=>Ln.get("/branch"),getById:e=>Ln.get("/branch/".concat(e)),update:(e,t)=>Ln.put("/branch/".concat(e),t),delete:e=>Ln.delete("/branch/".concat(e))},items:{create:e=>Ln.post("/items",e),getAll:()=>Ln.get("/items"),getById:e=>Ln.get("/items/".concat(e)),update:(e,t)=>Ln.put("/items/".concat(e),t),delete:e=>Ln.delete("/items/".concat(e))},wastage:{create:e=>Ln.post("/wastage",e),getAll:()=>Ln.get("/wastage"),getById:e=>Ln.get("/wastage/".concat(e)),update:(e,t)=>Ln.put("/wastage/".concat(e),t),delete:e=>Ln.delete("/wastage/".concat(e))},orders:{create:e=>Ln.post("/orders",e),getAll:()=>Ln.get("/orders"),getById:e=>Ln.get("/orders/".concat(e)),update:(e,t)=>Ln.patch("/orders/".concat(e),t),delete:e=>Ln.delete("/orders/".concat(e)),updateStatus:(e,t)=>Ln.patch("/orders/".concat(e),{status:t})},sections:{create:e=>Ln.post("/sections",e),getAll:()=>Ln.get("/sections"),getActive:()=>Ln.get("/sections/active"),getById:e=>Ln.get("/sections/".concat(e)),update:(e,t)=>Ln.put("/sections/".concat(e),t),delete:e=>Ln.delete("/sections/".concat(e))},purchaseCategories:{create:e=>Ln.post("/purchase-categories",e),getAll:()=>Ln.get("/purchase-categories"),getById:e=>Ln.get("/purchase-categories/".concat(e)),update:(e,t)=>Ln.put("/purchase-categories/".concat(e),t),delete:e=>Ln.delete("/purchase-categories/".concat(e))},branchCategories:{create:e=>Ln.post("/branch-categories",e),getAll:()=>Ln.get("/branch-categories"),getById:e=>Ln.get("/branch-categories/".concat(e)),update:(e,t)=>Ln.put("/branch-categories/".concat(e),t),delete:e=>Ln.delete("/branch-categories/".concat(e))},itemCategories:{create:e=>Ln.post("/item-categories",e),getAll:()=>Ln.get("/item-categories"),getById:e=>Ln.get("/item-categories/".concat(e)),update:(e,t)=>Ln.put("/item-categories/".concat(e),t),delete:e=>Ln.delete("/item-categories/".concat(e))},subCategories:{create:e=>Ln.post("/sub-categories",e),getAll:()=>Ln.get("/sub-categories"),getById:e=>Ln.get("/sub-categories/".concat(e)),update:(e,t)=>Ln.put("/sub-categories/".concat(e),t),delete:e=>Ln.delete("/sub-categories/".concat(e))},units:{create:e=>Ln.post("/units",e),getAll:()=>Ln.get("/units"),getById:e=>Ln.get("/units/".concat(e)),update:(e,t)=>Ln.put("/units/".concat(e),t),delete:e=>Ln.delete("/units/".concat(e))},taxes:{create:e=>Ln.post("/taxes",e),getAll:()=>Ln.get("/taxes"),getById:e=>Ln.get("/taxes/".concat(e)),update:(e,t)=>Ln.put("/taxes/".concat(e),t),delete:e=>Ln.delete("/taxes/".concat(e))},brands:{create:e=>Ln.post("/brands",e),getAll:()=>Ln.get("/brands"),getById:e=>Ln.get("/brands/".concat(e)),update:(e,t)=>Ln.put("/brands/".concat(e),t),delete:e=>Ln.delete("/brands/".concat(e))},departments:{create:e=>Ln.post("/departments",e),getAll:()=>Ln.get("/departments"),getById:e=>Ln.get("/departments/".concat(e)),update:(e,t)=>Ln.put("/departments/".concat(e),t),delete:e=>Ln.delete("/departments/".concat(e))}},Un=async e=>{const t=e.map((e=>qt({method:"GET",url:e.url},e.config))),a=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;const n=[];for(let s=0;s<e.length;s+=t){const l=e.slice(s,s+t);try{const r=await Promise.allSettled(l.map((e=>Bn(e))));n.push(...r),s+t<e.length&&await new Promise((e=>setTimeout(e,a)))}catch(r){console.error("Batch request failed:",r),n.push(...l.map((()=>({status:"rejected",reason:r}))))}}return n}(t),n={};return a.forEach(((t,a)=>{const r=e[a].key;"fulfilled"===t.status?n[r]=t.value.data:(console.error("Failed to fetch ".concat(r,":"),t.reason),n[r]=[])})),n},zn=Bn,Mn=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(!0),[x,g]=(0,s.useState)(""),{user:f,canEdit:b,canDelete:y,isMasterAdmin:v}=jn(),[j,N]=(0,s.useState)({name:"",email:"",password:"",role:"",branch:"",departments:[],loginPin:"",biometricId:""}),w=async()=>{try{p(!0);const e=await zn.get("/users");t(e.data),g("")}catch(n){var e,a;g("Failed to fetch users: "+((null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||n.message))}finally{p(!1)}},k=(0,s.useCallback)((async()=>{try{const[e,t]=await Promise.all([zn.get("/roles"),zn.get("/branch")]);n(e.data);let a=t.data;!v&&null!==f&&void 0!==f&&f.branch&&(a=t.data.filter((e=>f.branch===e._id||v))),l(a)}catch(e){console.error("Error fetching roles:",e)}}),[v,f]);(0,s.useEffect)((()=>{w(),k()}),[k]);const S=e=>{const{name:t,value:a}=e.target;if("email"===t){let e=a;e.endsWith("@gmail.com")||(e=e.replace(/@.*/,"")+"@gmail.com"),N((a=>qt(qt({},a),{},{[t]:e})))}else N((e=>qt(qt({},e),{},{[t]:a})))},C=()=>{N({name:"",email:"",password:"",role:"",branch:"",departments:[],loginPin:"",biometricId:""}),o(!1),d(!1),m(null)};return h?(0,gn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),(0,gn.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage all system users"}),f&&(0,gn.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,gn.jsx)("span",{className:"font-medium",children:"Your Role:"})," ",f.role,v()&&(0,gn.jsx)("span",{className:"ml-2 text-blue-600",children:"\ud83d\udc51 Master Admin"})]})]}),(0,gn.jsx)(Pn,{children:(0,gn.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2",onClick:()=>{d(!1),m(null),N({name:"",email:"",password:"",role:"",branch:"",departments:[],loginPin:"",biometricId:""}),o(!0)},children:[(0,gn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add User"]})})]}),x&&(0,gn.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Biometric ID"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,gn.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,gn.jsx)("span",{className:"text-blue-600 font-medium text-sm",children:"string"===typeof e.name&&e.name.length>0?e.name.charAt(0).toUpperCase():"U"})})}),(0,gn.jsxs)("div",{className:"ml-4",children:[(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.isMasterAdmin&&(0,gn.jsx)("span",{className:"text-xs text-blue-600",children:"\ud83d\udc51 Master Admin"})]})]})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("master_admin"===e.role?"bg-purple-100 text-purple-800":"admin"===e.role?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.role})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.biometricId||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,gn.jsx)(_n,{children:(0,gn.jsx)("button",{onClick:()=>(e=>{d(!0),m(e._id),N({name:e.name||"",email:e.email||"",password:"",role:e.role||"",branch:e.branch||"",departments:e.departments||[],loginPin:e.loginPin||"",biometricId:e.biometricId||""}),o(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"})}),(0,gn.jsx)(Tn,{children:(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await zn.delete("/users/".concat(e)),w()}catch(n){var t,a;alert("Delete User Error: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message))}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})}),!b()&&!y()&&(0,gn.jsx)("span",{className:"text-gray-400 text-xs",children:"View Only"})]})]},e._id)))})]})})}),i&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:c?"Edit User":"Add New User"}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,gn.jsx)("input",{type:"text",name:"name",value:j.name,onChange:S,placeholder:"Enter name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,gn.jsxs)("select",{name:"role",value:j.role,onChange:S,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gn.jsx)("option",{value:"",children:"Select Role"}),a.map((e=>(0,gn.jsx)("option",{value:e.name,children:e.name},e._id)))]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,gn.jsx)("input",{type:"email",name:"email",value:j.email,onChange:S,placeholder:"Enter email (e.g. user@gmail.com)",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!c&&(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,gn.jsx)("input",{type:"password",name:"password",value:j.password,onChange:S,placeholder:"Enter password",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,gn.jsxs)("select",{name:"branch",value:j.branch,onChange:S,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gn.jsx)("option",{value:"",children:"Select Branch"}),r.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Biometric ID"}),(0,gn.jsx)("input",{type:"text",name:"biometricId",value:j.biometricId,onChange:S,placeholder:"Enter biometric ID",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,gn.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",onClick:C,children:"Cancel"}),(0,gn.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:c?async()=>{if(j.name.trim()&&u)try{await zn.put("/users/".concat(u),j),C(),w()}catch(r){var e,t,a,n;const s=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===(a=r.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||r.message||"Failed to update user";alert("Update User Error: "+s)}else alert("Name is required")}:async()=>{if(j.name.trim())try{await zn.post("/users",j),C(),w()}catch(r){var e,t,a,n;const s=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===(a=r.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||r.message||"Failed to add user";alert("Add User Error: "+s)}else alert("Name is required")},children:c?"Update":"Create"})]})]})})]})},Fn=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(0),[x,g]=(0,s.useState)(null),[f,b]=(0,s.useState)(""),[y,v]=(0,s.useState)("");(0,s.useEffect)((()=>{j()}),[]);const j=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const a=new URLSearchParams(e).toString(),n=await un.get("".concat(xn,"/gallery").concat(a?"?".concat(a):"")),r=Array.isArray(n.data)?n.data:[];t(r)}catch(x){console.error("Error fetching images:",x)}};return(0,gn.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Image Gallery"}),(0,gn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j({name:f,tag:y})},className:"flex space-x-2",children:[(0,gn.jsx)("input",{type:"text",placeholder:"Search by name",value:f,onChange:e=>b(e.target.value),className:"border px-2 py-1 rounded"}),(0,gn.jsx)("input",{type:"text",placeholder:"Search by tag",value:y,onChange:e=>v(e.target.value),className:"border px-2 py-1 rounded"}),(0,gn.jsx)("button",{type:"submit",className:"bg-[#735dff] text-white px-3 py-1 rounded hover:bg-[#5b48d8]",children:"Search"})]}),(0,gn.jsx)("button",{onClick:()=>d(!0),className:"bg-[#735dff] text-white px-4 py-2 rounded hover:bg-[#5b48d8]",children:"Add Images"})]}),c&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-2xl",children:[x&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:x}),(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload Images"}),(0,gn.jsx)("input",{type:"file",multiple:!0,onChange:e=>{try{const t=Array.from(e.target.files);(e=>{const t=["image/jpeg","image/png","image/gif"];for(let a of e){if(a.size>5242880)throw new Error("File ".concat(a.name," is too large. Maximum size is 5MB"));if(!t.includes(a.type))throw new Error("File ".concat(a.name," is not a supported image type"))}})(t),g(null),n(t),l(Array(t.length).fill("")),o(Array(t.length).fill(""))}catch(t){g(t.message),e.target.value=null}},className:"mb-4"}),a.map(((e,t)=>(0,gn.jsxs)("div",{className:"mb-4 border p-2 rounded",children:[(0,gn.jsx)("p",{className:"font-medium",children:e.name}),(0,gn.jsx)("input",{type:"text",placeholder:"Name",value:r[t]||"",onChange:e=>((e,t)=>{const a=[...r];a[e]=t,l(a)})(t,e.target.value),className:"border w-full px-2 py-1 rounded mb-2",required:!0}),(0,gn.jsx)("input",{type:"text",placeholder:"Tag",value:i[t]||"",onChange:e=>((e,t)=>{const a=[...i];a[e]=t,o(a)})(t,e.target.value),className:"border w-full px-2 py-1 rounded"})]},t))),(0,gn.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.map(((e,t)=>(0,gn.jsx)("img",{src:URL.createObjectURL(e),className:"w-20 h-20 object-cover rounded border",alt:"preview"},t)))}),u&&(0,gn.jsxs)("div",{className:"mb-4",children:[(0,gn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,gn.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:"".concat(h,"%")}})}),(0,gn.jsxs)("p",{className:"text-sm text-center mt-2",children:["Uploading: ",h,"%"]})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,gn.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",disabled:u,children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{try{m(!0),g(null);const e=new FormData;a.forEach((t=>e.append("images",t))),r.forEach((t=>e.append("names",t))),i.forEach((t=>e.append("tags",t)));const s=await un.post("".concat(xn,"/gallery/upload"),e,{onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);p(t)}}),c=Array.isArray(s.data)?s.data:[s.data];t((e=>[...c,...e])),n([]),l([]),o([]),d(!1)}catch(x){var e,s;g((null===(e=x.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"Upload failed")}finally{m(!1),p(0)}},className:"".concat(u?"bg-gray-400":"bg-green-500 hover:bg-green-600"," text-white px-4 py-2 rounded"),disabled:u||!a.length||r.some((e=>!e.trim())),children:u?"Uploading...":"Upload"})]})]})}),(0,gn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((e=>(0,gn.jsxs)("div",{className:"relative group rounded overflow-hidden shadow hover:shadow-lg transition",children:[(0,gn.jsx)("img",{src:e.url,alt:e.name||"uploaded",className:"w-full h-40 object-cover"}),(0,gn.jsxs)("div",{className:"p-2 bg-white",children:[(0,gn.jsx)("p",{className:"font-semibold text-sm truncate",children:e.name}),(0,gn.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.tag})]}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this image?"))try{await un.delete("".concat(xn,"/gallery/").concat(e)),t((t=>t.filter((t=>t._id!==e))))}catch(a){console.error(a)}})(e._id),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 text-xs font-bold hidden group-hover:flex items-center justify-center",title:"Delete",children:"\xd7"})]},e._id)))})]})},qn=e=>{let{columns:t,data:a,onEdit:n,onDelete:r,onView:l,loading:i=!1,searchQuery:o="",onSearch:c,title:d="Data Table",showActions:u=!0,customActions:m=[],mobileCardRender:h}=e;const[p,x]=(0,s.useState)({key:null,direction:"asc"}),[g,f]=(0,s.useState)(1),[b]=(0,s.useState)(10),y=s.useMemo((()=>{const e=a.filter((e=>null!=e));return p.key?[...e].sort(((e,t)=>{if(!e||!t)return 0;const a=e[p.key],n=t[p.key];return a<n?"asc"===p.direction?-1:1:a>n?"asc"===p.direction?1:-1:0})):e}),[a,p]),v=s.useMemo((()=>{const e=(g-1)*b;return y.slice(e,e+b)}),[y,g,b]),j=Math.ceil(y.length/b),N=e=>{f(e)},w=e=>{if(!e)return[];const t=[];return l&&t.push((0,gn.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition-colors",title:"View",children:"View"},"view")),n&&t.push((0,gn.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 transition-colors",title:"Edit",children:"Edit"},"edit")),r&&t.push((0,gn.jsx)("button",{onClick:()=>r(e._id||e.id),className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",title:"Delete",children:"Delete"},"delete")),m.forEach(((a,n)=>{t.push((0,gn.jsx)("button",{onClick:()=>a.onClick(e),className:"".concat(a.className||"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors"," p-1 rounded"),title:a.title,children:a.icon},"custom-".concat(n)))})),t};return i?(0,gn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,gn.jsx)("div",{className:"p-4 md:p-6 border-b border-gray-200",children:(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,gn.jsx)("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:d}),c&&(0,gn.jsxs)("div",{className:"relative",children:[(0,gn.jsx)("input",{type:"text",placeholder:"Search...",value:o,onChange:e=>c(e.target.value),className:"w-full sm:w-64 px-3 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),(0,gn.jsx)("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),(0,gn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,gn.jsxs)("table",{className:"w-full",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[t.map(((e,t)=>{return(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(e.sortable?"cursor-pointer hover:bg-gray-100":""),onClick:()=>{return e.sortable&&(t=e.key,void x((e=>({key:t,direction:e.key===t&&"asc"===e.direction?"desc":"asc"}))));var t},children:(0,gn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,gn.jsx)("span",{children:e.header}),e.sortable&&(0,gn.jsx)("span",{className:"text-gray-400",children:(a=e.key,p.key!==a?"\u2195\ufe0f":"asc"===p.direction?"\u2191":"\u2193")})]})},t);var a})),u&&(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(((e,a)=>e?(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[t.map(((t,a)=>(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e):e[t.key]||"N/A"},a))),u&&(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,gn.jsx)("div",{className:"flex space-x-2",children:w(e)})})]},e._id||e.id||a):null))})]})}),(0,gn.jsx)("div",{className:"md:hidden p-4",children:v.length>0?v.map(((e,a)=>e?((e,a)=>e?h?h(e,a):(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[t.map(((t,a)=>(0,gn.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[(0,gn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t.header||t.label}),(0,gn.jsx)("span",{className:"text-sm text-gray-900",children:t.render?t.render(e):e[t.key]||"N/A"})]},a))),u&&(0,gn.jsx)("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t border-gray-100",children:w(e)})]},e._id||e.id||a):null)(e,a):null)):(0,gn.jsx)("div",{className:"text-center py-8",children:(0,gn.jsx)("p",{className:"text-gray-500",children:"No data available"})})}),v.length>0&&(0,gn.jsx)("div",{className:"px-4 md:px-6 py-4 border-t border-gray-200",children:(()=>{if(j<=1)return null;const e=[];let t=Math.max(1,g-Math.floor(2.5)),a=Math.min(j,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let n=t;n<=a;n++)e.push(n);return(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6",children:[(0,gn.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(g-1)*b+1," to ",Math.min(g*b,y.length)," of ",y.length," entries"]}),(0,gn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>N(g-1),disabled:1===g,className:"px-3 py-1 text-sm border rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.map((e=>(0,gn.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1 text-sm border rounded-md ".concat(g===e?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"),children:e},e))),(0,gn.jsx)("button",{onClick:()=>N(g+1),disabled:g===j,className:"px-3 py-1 text-sm border rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})()})]})},Vn=e=>{let{isOpen:t,onClose:a,title:n,children:r,size:l="md",showCloseButton:i=!0,closeOnOverlayClick:o=!0,className:c=""}=e;if((0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[t,a]),!t)return null;return(0,gn.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e=>{o&&e.target===e.currentTarget&&a()}}),(0,gn.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,gn.jsxs)("div",{className:"\n          relative w-full ".concat({sm:"max-w-sm",md:"max-w-md md:max-w-lg",lg:"max-w-lg md:max-w-2xl",xl:"max-w-xl md:max-w-4xl",full:"max-w-full"}[l]," \n          bg-white rounded-lg shadow-xl transform transition-all\n          ").concat(c,"\n        "),children:[(n||i)&&(0,gn.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[n&&(0,gn.jsx)("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:n}),i&&(0,gn.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:(0,gn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,gn.jsx)("div",{className:"p-4 md:p-6",children:r})]})})]})},Hn=e=>{let{isOpen:t,onClose:a,onConfirm:n,title:r="Confirm Action",message:s="Are you sure you want to proceed?",confirmText:l="Confirm",cancelText:i="Cancel",type:o="warning"}=e;const c={warning:{icon:"\u26a0\ufe0f",confirmClass:"bg-yellow-600 hover:bg-yellow-700",iconBg:"bg-yellow-100"},danger:{icon:"\ud83d\uddd1\ufe0f",confirmClass:"bg-red-600 hover:bg-red-700",iconBg:"bg-red-100"},info:{icon:"\u2139\ufe0f",confirmClass:"bg-blue-600 hover:bg-blue-700",iconBg:"bg-blue-100"}},d=c[o]||c.warning;return(0,gn.jsx)(Vn,{isOpen:t,onClose:a,size:"sm",closeOnOverlayClick:!1,children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full ".concat(d.iconBg," mb-4"),children:(0,gn.jsx)("span",{className:"text-2xl",children:d.icon})}),(0,gn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r}),(0,gn.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:s}),(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,gn.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 rounded-lg text-white font-medium ".concat(d.confirmClass," transition-colors"),children:l}),(0,gn.jsx)("button",{onClick:a,className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:i})]})]})})},Qn=e=>{let{isOpen:t,onClose:a,imageUrl:n,imageAlt:r="Image",title:s}=e;return(0,gn.jsx)(Vn,{isOpen:t,onClose:a,size:"xl",title:s,children:(0,gn.jsx)("div",{className:"text-center",children:(0,gn.jsx)("img",{src:n,alt:r,className:"max-w-full max-h-96 mx-auto rounded-lg shadow-sm"})})})},Wn=e=>{let{isOpen:t,onClose:a,title:n,children:r,onSubmit:s,submitText:l="Submit",cancelText:i="Cancel",loading:o=!1,size:c="md"}=e;return(0,gn.jsx)(Vn,{isOpen:t,onClose:a,title:n,size:c,closeOnOverlayClick:!o,children:(0,gn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&s(e)},className:"space-y-4",children:[r,(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[(0,gn.jsx)("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(o?"bg-gray-400 cursor-not-allowed text-gray-600":"bg-blue-600 hover:bg-blue-700 text-white"),children:o?(0,gn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):l}),(0,gn.jsx)("button",{type:"button",onClick:a,disabled:o,className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i})]})]})})},Kn=Vn,Gn=["type","placeholder","value","onChange","disabled","required","className"],Yn=["value","onChange","disabled","required","children","className"],Jn=["checked","onChange","disabled","label","className"],Zn=e=>{let{label:t,children:a,required:n=!1,error:r="",help:s="",className:l=""}=e;return(0,gn.jsxs)("div",{className:"space-y-2 ".concat(l),children:[t&&(0,gn.jsxs)("label",{className:"block text-sm md:text-base font-medium text-gray-700",children:[t,n&&(0,gn.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),a,r&&(0,gn.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r]}),s&&!r&&(0,gn.jsx)("p",{className:"text-sm text-gray-500",children:s})]})},Xn=e=>{let{type:t="text",placeholder:a="",value:n="",onChange:r,disabled:s=!1,required:l=!1,className:i=""}=e,o=Re(e,Gn);return(0,gn.jsx)("input",qt({type:t,placeholder:a,value:n,onChange:r,disabled:s,required:l,className:"w-full px-3 py-2 md:px-4 md:py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm md:text-base disabled:bg-gray-50 disabled:cursor-not-allowed ".concat(i)},o))},$n=e=>{let{value:t="",onChange:a,disabled:n=!1,required:r=!1,children:s,className:l=""}=e,i=Re(e,Yn);return(0,gn.jsx)("select",qt(qt({value:t,onChange:a,disabled:n,required:r,className:"w-full px-3 py-2 md:px-4 md:py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm md:text-base disabled:bg-gray-50 disabled:cursor-not-allowed ".concat(l)},i),{},{children:s}))},er=e=>{let{checked:t=!1,onChange:a,disabled:n=!1,label:r="",className:s=""}=e,l=Re(e,Jn);return(0,gn.jsxs)("div",{className:"flex items-center ".concat(s),children:[(0,gn.jsx)("input",qt({type:"checkbox",checked:t,onChange:a,disabled:n,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:cursor-not-allowed"},l)),r&&(0,gn.jsx)("label",{className:"ml-2 text-sm md:text-base text-gray-700",children:r})]})},tr=e=>{let{children:t,cols:a=2,gap:n=4,className:r=""}=e;return(0,gn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-".concat(a," gap-").concat(n," ").concat(r),children:t})},ar=e=>{let{title:t,onSubmit:a,onCancel:n,submitText:r="Submit",cancelText:s="Cancel",loading:l=!1,children:i,maxWidth:o="max-w-2xl",className:c=""}=e;return(0,gn.jsx)("div",{className:"".concat(o," mx-auto ").concat(c),children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[t&&(0,gn.jsx)("div",{className:"px-4 md:px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,gn.jsx)("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:t})}),(0,gn.jsxs)("form",{onSubmit:a,className:"p-4 md:p-6",children:[(0,gn.jsx)("div",{className:"space-y-4 md:space-y-6",children:i}),(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6 pt-6 border-t border-gray-200",children:[(0,gn.jsx)("button",{type:"submit",disabled:l,className:"flex-1 sm:flex-none px-4 py-2 md:px-6 md:py-3 rounded-lg text-sm md:text-base font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 ".concat(l?"bg-gray-400 cursor-not-allowed text-gray-600":"bg-blue-600 hover:bg-blue-700 text-white shadow-sm hover:shadow-md"),children:l?(0,gn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r}),n&&(0,gn.jsx)("button",{type:"button",onClick:n,disabled:l,className:"flex-1 sm:flex-none px-4 py-2 md:px-6 md:py-3 rounded-lg text-sm md:text-base font-medium border border-gray-300 text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s})]})]})]})})},nr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({name:"",code:""}),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[x,g]=(0,s.useState)(!0),[f,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(""),j=async()=>{try{g(!0);const e=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)},n=await un.get("".concat(xn,"/branch"),{headers:a});t(n.data)}catch(e){console.error("Error fetching branches:",e)}finally{g(!1)}};(0,s.useEffect)((()=>{j()}),[]);const N=e=>{p(e),o(!0)},w=e=>{d(!0),m(e._id),n({name:e.name,code:e.code}),l(!0)},k=e.filter((e=>{var t,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(a=e.code)||void 0===a?void 0:a.toLowerCase().includes(y.toLowerCase()))})),S=[{key:"index",header:"#",render:(e,t)=>(0,gn.jsx)("span",{className:"text-gray-500 font-mono",children:t+1})},{key:"name",header:"Branch Name",sortable:!0,render:e=>(0,gn.jsx)("div",{className:"font-medium text-gray-900",children:e.name})},{key:"code",header:"Branch Code",sortable:!0,render:e=>(0,gn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-mono",children:e.code})},{key:"createdAt",header:"Created",sortable:!0,render:e=>(0,gn.jsx)("div",{className:"text-sm text-gray-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}];return(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold",children:"Branches"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Manage your branch locations and codes"})]}),(0,gn.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Branch"})]}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,gn.jsx)(qn,{title:"Branch Management",columns:S,data:k,onEdit:w,onDelete:N,loading:x,searchQuery:y,onSearch:e=>{v(e)},mobileCardRender:(e,t)=>(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[(0,gn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,gn.jsxs)("div",{className:"flex-1",children:[(0,gn.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,gn.jsxs)("p",{className:"text-sm text-gray-500",children:["#",t+1]})]}),(0,gn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-mono",children:e.code})]}),(0,gn.jsxs)("div",{className:"mb-4",children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Created"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-100",children:[(0,gn.jsx)("button",{onClick:()=>w(e),className:"text-green-600 hover:text-green-800 p-1 rounded",title:"Edit",children:"\u270f\ufe0f"}),(0,gn.jsx)("button",{onClick:()=>N(e._id),className:"text-red-600 hover:text-red-800 p-1 rounded",title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]},e._id)})}),(0,gn.jsxs)(Wn,{isOpen:r,onClose:()=>{l(!1),d(!1),n({name:"",code:""}),m(null)},onSubmit:async e=>{if(e.preventDefault(),a.name.trim()&&a.code.trim())try{b(!0);const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};c?await un.put("".concat(xn,"/branch/").concat(u),a,{headers:t}):await un.post("".concat(xn,"/branch"),a,{headers:t}),n({name:"",code:""}),m(null),d(!1),l(!1),j()}catch(t){console.error("Error saving branch:",t),alert("Error saving branch. Please try again.")}finally{b(!1)}else alert("Please enter both Name and Code.")},title:c?"Edit Branch":"Add New Branch",submitText:c?"Update Branch":"Add Branch",loading:f,children:[(0,gn.jsx)(Zn,{label:"Branch Name",required:!0,children:(0,gn.jsx)(Xn,{type:"text",value:a.name,onChange:e=>n(qt(qt({},a),{},{name:e.target.value})),placeholder:"Enter branch name",required:!0})}),(0,gn.jsx)(Zn,{label:"Branch Code",required:!0,children:(0,gn.jsx)(Xn,{type:"text",value:a.code,onChange:e=>n(qt(qt({},a),{},{code:e.target.value})),placeholder:"Enter branch code",required:!0})})]}),(0,gn.jsx)(Hn,{isOpen:i,onClose:()=>o(!1),onConfirm:async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};await un.delete("".concat(xn,"/branch/").concat(h),{headers:t}),j(),o(!1),p(null)}catch(e){console.error("Error deleting branch:",e),alert("Error deleting branch. Please try again.")}},title:"Delete Branch",message:"Are you sure you want to delete this branch? This action cannot be undone.",type:"danger"})]})},rr=()=>(0,gn.jsx)("div",{children:"Production"}),sr=()=>(0,gn.jsx)("div",{children:"Operations"}),lr=()=>(0,gn.jsx)("div",{children:"Analytics"}),ir=()=>(0,gn.jsx)("div",{children:"Costing"}),or=()=>(0,gn.jsx)("div",{children:"Procurements"}),cr=()=>(0,gn.jsx)("div",{children:"Reports"}),dr=()=>(0,gn.jsx)("div",{children:"Inventory"}),ur=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),[f,b]=(0,s.useState)({legalName:"",shortName:"",taxRegistrationNo:"",googleLocation:"",repName:"",mobileCall:"",mobileWhatsapp:"",image:"",assignBranch:""}),y=async()=>{try{p(!0),g(null);const[e,a,r]=await Promise.all([un.get("".concat(xn,"/suppliers")).catch((()=>({data:[]}))),un.get("".concat(xn,"/branch")).catch((()=>({data:[]}))),un.get("".concat(xn,"/gallery")).catch((()=>({data:[]})))]);t(e.data||[]),n(a.data||[]),l(r.data||[])}catch(x){console.error("Error fetching data:",x),g("Failed to load data. Please refresh the page.")}finally{p(!1)}};(0,s.useEffect)((()=>{y()}),[]);const v=e=>{const{name:t,value:a,type:n,checked:r}=e.target;b((e=>qt(qt({},e),{},{[t]:"checkbox"===n?r:a})))},j=()=>{b({legalName:"",shortName:"",taxRegistrationNo:"",googleLocation:"",repName:"",mobileCall:"",mobileWhatsapp:"",image:"",assignBranch:""}),m(null),o(!1)};return h?(0,gn.jsx)("div",{className:"p-4",children:(0,gn.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#735dff] mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading suppliers..."})]})})}):x?(0,gn.jsx)("div",{className:"p-4",children:(0,gn.jsxs)("div",{className:"text-center py-8",children:[(0,gn.jsx)("div",{className:"text-red-600 mb-4",children:x}),(0,gn.jsx)("button",{onClick:y,className:"bg-[#735dff] text-white px-4 py-2 rounded",children:"Retry"})]})}):(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Suppliers Management"}),(0,gn.jsx)("button",{onClick:()=>{j(),o(!0)},className:"bg-[#735dff] text-white px-4 py-2 rounded",children:"Add Supplier"})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 border",children:"Legal Name"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Short Name"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Rep. Name"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Mobile Call"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Branch"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Status"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,gn.jsxs)("tbody",{children:[e.map((e=>{var t;return(0,gn.jsxs)("tr",{className:"text-center",children:[(0,gn.jsx)("td",{className:"p-2 border font-medium",children:e.legalName||"N/A"}),(0,gn.jsx)("td",{className:"p-2 border",children:e.shortName||"N/A"}),(0,gn.jsx)("td",{className:"p-2 border",children:e.repName||"N/A"}),(0,gn.jsx)("td",{className:"p-2 border",children:e.mobileCall||"N/A"}),(0,gn.jsx)("td",{className:"p-2 border",children:(null===(t=e.assignBranch)||void 0===t?void 0:t.name)||"N/A"}),(0,gn.jsx)("td",{className:"p-2 border",children:(0,gn.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Active"})}),(0,gn.jsxs)("td",{className:"p-2 border space-x-2",children:[(0,gn.jsx)("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded text-sm",onClick:()=>(e=>{var t,a;b({legalName:e.legalName||"",shortName:e.shortName||"",taxRegistrationNo:e.taxRegistrationNo||"",googleLocation:e.googleLocation||"",repName:e.repName||"",mobileCall:e.mobileCall||"",mobileWhatsapp:e.mobileWhatsapp||"",image:(null===(t=e.image)||void 0===t?void 0:t._id)||"",assignBranch:(null===(a=e.assignBranch)||void 0===a?void 0:a._id)||""}),m(e._id),o(!0)})(e),children:"Edit"}),(0,gn.jsx)("button",{className:"bg-red-500 text-white px-2 py-1 rounded text-sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await un.delete("".concat(xn,"/suppliers/").concat(e)),alert("Supplier deleted successfully!"),y()}catch(x){console.error("Error deleting supplier:",x),alert("Error deleting supplier. Please try again.")}})(e._id),children:"Delete"})]})]},e._id)})),0===e.length&&(0,gn.jsx)("tr",{children:(0,gn.jsx)("td",{colSpan:"7",className:"p-4 text-center text-gray-500",children:"No suppliers found. Add your first supplier to get started."})})]})]})}),i&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,gn.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-bold",children:u?"Edit Supplier":"Add Supplier"}),(0,gn.jsx)("button",{onClick:j,className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,gn.jsxs)("div",{className:"mb-6",children:[(0,gn.jsx)("h4",{className:"font-medium mb-3 text-[#735dff] border-b pb-2",children:"Supplier Information"}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsx)("input",{type:"text",name:"legalName",value:f.legalName,onChange:v,placeholder:"Legal Name *",className:"border p-2 rounded",required:!0}),(0,gn.jsx)("input",{type:"text",name:"shortName",value:f.shortName,onChange:v,placeholder:"Short Name",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"taxRegistrationNo",value:f.taxRegistrationNo,onChange:v,placeholder:"Tax Registration No",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"googleLocation",value:f.googleLocation,onChange:v,placeholder:"Google Location",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"repName",value:f.repName,onChange:v,placeholder:"Representative Name",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"mobileCall",value:f.mobileCall,onChange:v,placeholder:"Mobile No - Call",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"mobileWhatsapp",value:f.mobileWhatsapp,onChange:v,placeholder:"Mobile No - WhatsApp",className:"border p-2 rounded"}),(0,gn.jsxs)("select",{name:"assignBranch",value:f.assignBranch,onChange:v,className:"border p-2 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Branch"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{type:"button",onClick:j,className:"text-gray-500 px-4 py-2 hover:underline",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{try{var e;if(null===(e=f.legalName)||void 0===e||!e.trim())return void alert("Legal Name is required");const t=qt({},f);u?(await un.put("".concat(xn,"/suppliers/").concat(u),t),alert("Supplier updated successfully!")):(await un.post("".concat(xn,"/suppliers"),t),alert("Supplier added successfully!")),j(),y()}catch(x){console.error("Error saving supplier:",x),alert("Error saving supplier. Please try again.")}},className:"bg-[#735dff] text-white px-4 py-2 rounded hover:bg-[#5a4bcc]",children:u?"Update Supplier":"Add Supplier"})]})]})}),c&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,gn.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-bold",children:"Select Image"}),(0,gn.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,gn.jsx)("div",{className:"grid grid-cols-4 gap-4",children:r.map((e=>(0,gn.jsx)("div",{className:"cursor-pointer border rounded p-2 hover:bg-gray-50",onClick:()=>{b((t=>qt(qt({},t),{},{image:e._id}))),d(!1)},children:(0,gn.jsx)("img",{src:e.url,alt:"img",className:"w-full h-32 object-cover"})},e._id)))})]})})]})},mr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(!0),[x,g]=(0,s.useState)(!0),[f,b]=(0,s.useState)({itemId:"",type:"base",amount:"",unit:"",packSize:"",packUnit:"x",description:"",branches:[],brands:[]}),y=async()=>{try{p(!0);const[e,a,r,s]=await Promise.all([un.get("".concat(xn,"/packaging")),un.get("".concat(xn,"/items")),un.get("".concat(xn,"/branch")),un.get("".concat(xn,"/brand"))]);t(e.data),n(a.data),l(r.data),o(s.data)}catch(e){console.error("Error fetching data:",e)}finally{p(!1)}};(0,s.useEffect)((()=>{y()}),[]);const v=e=>{const{name:t,value:a}=e.target;b((e=>qt(qt({},e),{},{[t]:a})))},j=(e,t)=>{const a=e.target.value,n=e.target.checked;b((e=>qt(qt({},e),{},{[t]:n?[...e[t],a]:e[t].filter((e=>e!==a))})))},N=e=>{var t,a,n;b({itemId:(null===(t=e.itemId)||void 0===t?void 0:t._id)||"",type:e.type||"base",amount:e.amount||"",unit:e.unit||"",packSize:e.packSize||"",packUnit:e.packUnit||"x",description:e.description||"",branches:(null===(a=e.branches)||void 0===a?void 0:a.map((e=>e._id||e)))||[],brands:(null===(n=e.brands)||void 0===n?void 0:n.map((e=>e._id||e)))||[]}),m(e._id),d(!0)},w=async e=>{if(window.confirm("Are you sure you want to delete this packaging item?"))try{await un.delete("".concat(xn,"/packaging/").concat(e)),y()}catch(t){console.error("Error deleting packaging:",t)}},k=()=>{b({itemId:"",type:"base",amount:"",unit:"",packSize:"",packUnit:"x",description:"",branches:[],brands:[]}),m(null),d(!1)},S=e=>({base:"bg-purple-100 text-purple-800",pack:"bg-blue-100 text-blue-800",bulk:"bg-green-100 text-green-800",retail:"bg-yellow-100 text-yellow-800",wholesale:"bg-indigo-100 text-indigo-800",custom:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800");if(h)return(0,gn.jsx)("div",{className:"p-4",children:"Loading packaging data..."});const C=(()=>{const t={};return e.forEach((e=>{var a,n,r;const s=(null===(a=e.itemId)||void 0===a?void 0:a.nameEn)||(null===(n=e.itemId)||void 0===n?void 0:n.name)||"Unknown Item",l=(null===(r=e.itemId)||void 0===r?void 0:r._id)||"unknown",i="".concat(s,"_").concat(l);t[i]||(t[i]={itemName:s,itemId:l,packaging:[]}),t[i].packaging.push(e)})),t})();return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Packaging Management"}),(0,gn.jsxs)("div",{className:"flex gap-2",children:[(0,gn.jsx)("button",{onClick:()=>g(!x),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:x?"Show All":"Group by Item"}),(0,gn.jsx)("button",{onClick:async()=>{if(window.confirm("This will remove packaging records for deleted items. Continue?"))try{const e=await un.delete("".concat(xn,"/packaging/cleanup/orphaned"));if(e.data.success){const t=e.data.cleanedCount;t>0?alert("Cleanup completed! Removed ".concat(t," orphaned packaging record").concat(1!==t?"s":"",".")):alert("No orphaned packaging records found."),y()}}catch(e){console.error("Error cleaning up orphaned packaging:",e),alert("Error during cleanup. Please try again.")}},className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600",children:"Cleanup Orphaned"}),(0,gn.jsx)("button",{onClick:()=>d(!0),className:"bg-[#735dff] text-white px-4 py-2 rounded hover:bg-[#5a4bcc]",children:"Add Packaging"})]})]}),x?(0,gn.jsx)("div",{className:"space-y-4",children:Object.entries(C).map((e=>{let[t,a]=e;return(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold text-[#5B2685]",children:a.itemName}),(0,gn.jsxs)("span",{className:"text-sm text-gray-600",children:[a.packaging.length," packaging type",1!==a.packaging.length?"s":""]})]}),(0,gn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.packaging.map((e=>(0,gn.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,gn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(S(e.type)),children:e.type}),(0,gn.jsxs)("div",{className:"flex gap-1",children:[(0,gn.jsx)("button",{onClick:()=>N(e),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>w(e._id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),(0,gn.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,gn.jsxs)("div",{children:["Amount: ",e.amount," ",e.unit]}),e.packSize&&(0,gn.jsxs)("div",{children:["Pack Size: ",e.packSize," ",e.packUnit]}),e.description&&(0,gn.jsx)("div",{className:"mt-1 text-gray-600",children:e.description}),e.branches&&e.branches.length>0&&(0,gn.jsxs)("div",{className:"mt-1",children:[(0,gn.jsx)("span",{className:"font-medium",children:"Branches:"}),e.branches.map((e=>e.name||e)).join(", ")]}),e.brands&&e.brands.length>0&&(0,gn.jsxs)("div",{className:"mt-1",children:[(0,gn.jsx)("span",{className:"font-medium",children:"Brands:"}),e.brands.map((e=>e.nameEn||e)).join(", ")]})]})]},e._id)))})]},t)}))}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"w-full border border-gray-300 bg-white",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Item"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Type"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Amount"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Unit"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Pack Size"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Branches"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Brands"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>{var t,a,n,r;return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"p-2 border",children:(null===(t=e.itemId)||void 0===t?void 0:t.nameEn)||(null===(a=e.itemId)||void 0===a?void 0:a.name)||"Unknown"}),(0,gn.jsx)("td",{className:"p-2 border",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(S(e.type)),children:e.type})}),(0,gn.jsx)("td",{className:"p-2 border",children:e.amount}),(0,gn.jsx)("td",{className:"p-2 border",children:e.unit}),(0,gn.jsx)("td",{className:"p-2 border",children:e.packSize?"".concat(e.packSize," ").concat(e.packUnit):"-"}),(0,gn.jsx)("td",{className:"p-2 border",children:(null===(n=e.branches)||void 0===n?void 0:n.map((e=>e.name||e)).join(", "))||"-"}),(0,gn.jsx)("td",{className:"p-2 border",children:(null===(r=e.brands)||void 0===r?void 0:r.map((e=>e.nameEn||e)).join(", "))||"-"}),(0,gn.jsx)("td",{className:"p-2 border",children:(0,gn.jsxs)("div",{className:"flex gap-1",children:[(0,gn.jsx)("button",{onClick:()=>N(e),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>w(e._id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})})]},e._id)}))})]})}),c&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold text-[#5B2685]",children:u?"Edit Packaging":"Add Packaging"}),(0,gn.jsx)("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item *"}),(0,gn.jsxs)("select",{name:"itemId",value:f.itemId,onChange:e=>{const t=e.target.value,n=a.find((e=>e._id===t));b((e=>{var a,r;return qt(qt({},e),{},{itemId:t,unit:n&&((null===(a=n.baseUnit)||void 0===a?void 0:a.Symbol)||(null===(r=n.unit)||void 0===r?void 0:r.Symbol))||""})}))},className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Item"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Packaging Type *"}),(0,gn.jsx)("input",{type:"text",name:"type",value:f.type,onChange:v,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"e.g., base, pack, bulk, retail, wholesale, custom",required:!0})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),(0,gn.jsx)("input",{type:"number",name:"amount",value:f.amount,onChange:v,step:"0.01",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"1.0",required:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit * (Auto-detected)"}),(0,gn.jsx)("input",{type:"text",name:"unit",value:f.unit,onChange:v,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent bg-gray-50",placeholder:"Auto-detected from item",required:!0})]})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pack Size"}),(0,gn.jsx)("input",{type:"number",name:"packSize",value:f.packSize,onChange:v,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"10"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pack Unit"}),(0,gn.jsxs)("select",{name:"packUnit",value:f.packUnit,onChange:v,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",children:[(0,gn.jsx)("option",{value:"x",children:"x"}),(0,gn.jsx)("option",{value:"per",children:"per"}),(0,gn.jsx)("option",{value:"of",children:"of"})]})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branches"}),(0,gn.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto border rounded-md p-2",children:r.map((e=>(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",value:e._id,checked:f.branches.includes(e._id),onChange:e=>j(e,"branches"),className:"rounded"}),(0,gn.jsx)("span",{className:"text-sm",children:e.name})]},e._id)))})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brands"}),(0,gn.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto border rounded-md p-2",children:i.map((e=>(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",value:e._id,checked:f.brands.includes(e._id),onChange:e=>j(e,"brands"),className:"rounded"}),(0,gn.jsx)("span",{className:"text-sm",children:e.nameEn})]},e._id)))})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,gn.jsx)("textarea",{name:"description",value:f.description,onChange:v,rows:"3",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"Optional description..."})]})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,gn.jsx)("button",{onClick:k,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,gn.jsxs)("button",{onClick:async()=>{if(f.itemId&&f.amount&&f.unit)try{const e=qt(qt({},f),{},{amount:parseFloat(f.amount)},f.packSize&&{packSize:parseInt(f.packSize)});u?await un.put("".concat(xn,"/packaging/").concat(u),e):await un.post("".concat(xn,"/packaging"),e),k(),y()}catch(e){console.error("Error saving packaging:",e),alert("Error saving packaging item")}else alert("Please fill in all required fields")},className:"px-4 py-2 bg-[#5B2685] text-white rounded-md hover:bg-[#4A1F6F] transition-colors",children:[u?"Update":"Add"," Packaging"]})]})]})})]})},hr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)({name:"",experts:[]}),[c,d]=(0,s.useState)(null);(0,s.useEffect)((()=>{u()}),[]);const u=async()=>{const[e,a]=await Promise.all([un.get("".concat(xn,"/recipe-experts")),un.get("".concat(xn,"/users"))]);t(e.data),n(a.data)};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Recipe Experts"}),(0,gn.jsx)("button",{onClick:()=>{l(!0),o({name:"",experts:[]}),d(null)},className:"bg-[#735dff] text-white px-4 py-2 rounded",children:"Add Expert"})]}),(0,gn.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 border",children:"Name"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Experts"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"p-2 border text-center",children:e.name}),(0,gn.jsx)("td",{className:"p-2 border text-center",children:(e.experts||[]).map((e=>e.name)).join(", ")}),(0,gn.jsxs)("td",{className:"p-2 border space-x-2 flex justify-center",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{o({name:e.name,experts:e.experts.map((e=>e._id))}),d(e._id),l(!0)})(e),className:"text-blue-600 text-center",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this expert?")&&(await un.delete("".concat(xn,"/recipe-experts/").concat(e)),u())})(e._id),className:"text-red-600 text-center",children:"Delete"})]})]},e._id)))})]}),r&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-xl",children:[(0,gn.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-bold",children:c?"Edit Recipe Expert":"Add Recipe Expert"}),(0,gn.jsx)("button",{onClick:()=>l(!1),children:"Close"})]}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsx)("input",{type:"text",name:"name",value:i.name,onChange:e=>{o((t=>qt(qt({},t),{},{[e.target.name]:e.target.value})))},placeholder:"Name",className:"w-full border p-2 rounded"}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block font-medium mb-1",children:"Select Experts"}),(0,gn.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:a.map((e=>(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:i.experts.includes(e._id),onChange:()=>{return t=e._id,void o((e=>{const a=e.experts.includes(t)?e.experts.filter((e=>e!==t)):[...e.experts,t];return qt(qt({},e),{},{experts:a})}));var t}}),(0,gn.jsx)("span",{children:e.name})]},e._id)))})]}),(0,gn.jsx)("button",{onClick:async()=>{i.name.trim()&&(c?await un.put("".concat(xn,"/recipe-experts/").concat(c),i):await un.post("".concat(xn,"/recipe-experts"),i),o({name:"",experts:[]}),d(null),l(!1),u())},className:"bg-[#735dff] text-white px-6 py-2 rounded",children:c?"Update":"Save"})]})]})})]})},pr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),x=async()=>{const e=await un.get("".concat(xn,"/departments"));t(e.data)};(0,s.useEffect)((()=>{x(),(async()=>{const e=await un.get("".concat(xn,"/branch"));n(e.data)})()}),[]);const g=()=>{l(""),o(""),p(null),m(!1),d(!1)};return(0,gn.jsxs)("div",{className:"p-4 z-10",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Departments"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>d(!0),children:"Add Department"})]}),c&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/3",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:u?"Edit Department":"Add New Department"}),(0,gn.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"Enter department name",className:"w-full border p-2 mb-4 rounded"}),(0,gn.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full border p-2 mb-4 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Branch"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:g,className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:u?async()=>{r.trim()&&h&&i&&(await un.put("".concat(xn,"/departments/").concat(h),{name:r,branch:i}),g(),x())}:async()=>{r.trim()&&i&&(await un.post("".concat(xn,"/departments"),{name:r,branch:i}),g(),x())},className:"bg-green-500 text-white px-4 py-2 rounded",children:u?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"#"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Department Name"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Branch"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map(((e,t)=>{var a;return(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:t+1}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.name}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:(null===(a=e.branch)||void 0===a?void 0:a.name)||"N/A"}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{var t;m(!0),p(e._id),l(e.name),o((null===(t=e.branch)||void 0===t?void 0:t._id)||""),d(!0)})(e),className:"text-[#735dff] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this department?")&&(await un.delete("".concat(xn,"/departments/").concat(e)),x())})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)}))})]})]})},xr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[x,g]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),[E,A]=(0,s.useState)(!0),[P,_]=(0,s.useState)(!1),[T,O]=(0,s.useState)("Loading items data..."),[B,R]=(0,s.useState)(""),[I,D]=(0,s.useState)([]),L=ne(),[U,z]=(0,s.useState)({nameEn:"",nameAlt:"",baseUnit:"",category:"",tax:"",image:"",departments:[],name:"",subCategory:""}),M=async()=>{try{A(!0),O("Loading items data...");const e=[{url:"/items",key:"items"},{url:"/item-categories",key:"categories"},{url:"/sub-categories",key:"subCategories"},{url:"/departments",key:"departments"},{url:"/units",key:"units"},{url:"/tax",key:"taxes"},{url:"/gallery",key:"images"}],a=await Un(e);t(a.items||[]),n(a.categories||[]),l(a.subCategories||[]),o(a.departments||[]),d(a.units||[]),m(a.taxes||[]),p(a.images||[])}catch(e){console.error("Error fetching data:",e),O("Error loading data. Please refresh the page.")}finally{A(!1)}};(0,s.useEffect)((()=>{M()}),[]);const F=r.filter((e=>{var t;return!U.category||(null===(t=e.category)||void 0===t?void 0:t._id)===U.category})),q=e=>{const{name:t,value:a}=e.target;z((e=>{const n=qt(qt({},e),{},{[t]:a});return"category"===t&&(n.subCategory=""),n}))},V=e=>{var t,a,n,r,s,l;z({nameEn:e.nameEn||e.name||"",nameAlt:e.nameAlt||"",baseUnit:(null===(t=e.baseUnit)||void 0===t?void 0:t._id)||"",category:(null===(a=e.category)||void 0===a?void 0:a._id)||"",tax:(null===(n=e.tax)||void 0===n?void 0:n._id)||"",image:(null===(r=e.image)||void 0===r?void 0:r._id)||"",departments:(null===(s=e.departments)||void 0===s?void 0:s.map((e=>e._id)))||[],name:e.name||"",subCategory:(null===(l=e.subCategory)||void 0===l?void 0:l._id)||""}),C(e._id),g(!0)},H=async e=>{k(e),v(!0)},Q=e=>{N(e),b(!0)},W=[{key:"itemCode",header:"Item Code",sortable:!0,render:e=>(0,gn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-mono",children:e.itemCode||"Generating..."})},{key:"nameEn",header:"Item Name (Eng)",sortable:!0,render:e=>e.nameEn||e.name},{key:"nameAlt",header:"Item Name (Alt)",sortable:!0,render:e=>e.nameAlt||"N/A"},{key:"baseUnit",header:"Base Unit",sortable:!0,render:e=>{var t;return(0,gn.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:(null===(t=e.baseUnit)||void 0===t?void 0:t.name)||"N/A"})}},{key:"category",header:"Main Category",sortable:!0,render:e=>{var t;return(null===(t=e.category)||void 0===t?void 0:t.nameEn)||"N/A"}},{key:"subCategory",header:"Sub Category",sortable:!0,render:e=>{var t;return(null===(t=e.subCategory)||void 0===t?void 0:t.nameEn)||"N/A"}},{key:"section",header:"Section",sortable:!0,render:e=>{var t,a;return(null===(t=e.assignSection)||void 0===t?void 0:t.nameEn)||(null===(a=e.assignSection)||void 0===a?void 0:a.name)||"N/A"}},{key:"tax",header:"Tax",sortable:!0,render:e=>{var t;return(null===(t=e.tax)||void 0===t?void 0:t.name)||"N/A"}},{key:"image",header:"Image",render:e=>{var t;return null!==(t=e.image)&&void 0!==t&&t.url?(0,gn.jsx)("img",{src:e.image.url,alt:"Item",className:"w-12 h-12 object-cover mx-auto rounded-lg cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>Q(e.image.url)}):(0,gn.jsx)("span",{className:"text-gray-500 text-sm",children:"No image"})}}];return E?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:T}),(0,gn.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment due to server rate limiting..."})]})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold",children:"Items"}),(0,gn.jsx)("button",{onClick:()=>{z({nameEn:"",nameAlt:"",baseUnit:"",category:"",tax:"",image:"",departments:[],name:"",subCategory:""}),C(null),g(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Item"})]}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,gn.jsx)(qn,{title:"Items Management",columns:W,data:B?I:e,onEdit:V,onDelete:H,loading:E,searchQuery:B,onSearch:async e=>{if(R(e),e.trim())try{const t=await un.get("".concat(xn,"/items/search?query=").concat(encodeURIComponent(e)));D(t.data)}catch(t){console.error("Error searching items:",t),D([])}else D([])},mobileCardRender:(e,t)=>{var a,n,r,s,l,i,o;return(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[(0,gn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,gn.jsxs)("div",{className:"flex-1",children:[(0,gn.jsx)("h3",{className:"font-medium text-gray-900",children:e.nameEn||e.name}),(0,gn.jsx)("p",{className:"text-sm text-gray-500",children:e.nameAlt||"No alternative name"})]}),(0,gn.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-mono",children:e.itemCode||"Generating..."})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Base Unit"}),(0,gn.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:(null===(a=e.baseUnit)||void 0===a?void 0:a.name)||"N/A"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Tax"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:(null===(n=e.tax)||void 0===n?void 0:n.name)||"N/A"})]})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Category"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:(null===(r=e.category)||void 0===r?void 0:r.nameEn)||"N/A"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Sub Category"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:(null===(s=e.subCategory)||void 0===s?void 0:s.nameEn)||"N/A"})]})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Section"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:(null===(l=e.assignSection)||void 0===l?void 0:l.nameEn)||(null===(i=e.assignSection)||void 0===i?void 0:i.name)||"N/A"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Status"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:e.isActive?"Active":"Inactive"})]})]}),(null===(o=e.image)||void 0===o?void 0:o.url)&&(0,gn.jsxs)("div",{className:"mb-4",children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Image"}),(0,gn.jsx)("img",{src:e.image.url,alt:"Item",className:"w-20 h-20 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>Q(e.image.url)})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-100",children:[(0,gn.jsx)("button",{onClick:()=>L("/items/".concat(e._id,"/edit")),className:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"Details",children:"\ud83d\udccb"}),(0,gn.jsx)("button",{onClick:()=>V(e),className:"text-green-600 hover:text-green-800 p-1 rounded",title:"Edit",children:"\u270f\ufe0f"}),(0,gn.jsx)("button",{onClick:()=>H(e._id),className:"text-red-600 hover:text-red-800 p-1 rounded",title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]},e._id)}})}),(0,gn.jsx)(Kn,{isOpen:x,onClose:()=>{g(!1),C(null),z({nameEn:"",nameAlt:"",baseUnit:"",category:"",tax:"",image:"",departments:[],name:"",subCategory:""})},title:S?"Edit Item":"Add New Item",size:"lg",children:(0,gn.jsxs)(ar,{onSubmit:async e=>{var t;if(e.preventDefault(),null!==(t=U.nameEn)&&void 0!==t&&t.trim())if(U.baseUnit)if(U.category)if(U.subCategory)try{_(!0);const e=qt(qt({},U),{},{name:U.nameEn});S?await un.put("".concat(xn,"/items/").concat(S),e):await un.post("".concat(xn,"/items"),e),z({nameEn:"",nameAlt:"",baseUnit:"",category:"",tax:"",image:"",departments:[],name:"",subCategory:""}),C(null),g(!1),M()}catch(a){console.error("Error saving item:",a),alert("Error saving item. Please try again.")}finally{_(!1)}else alert("Sub Category is required");else alert("Category is required");else alert("Base Unit is required");else alert("Item Name (Eng) is required")},loading:P,submitText:S?"Update Item":"Add Item",children:[(0,gn.jsxs)(tr,{cols:2,children:[(0,gn.jsx)(Zn,{label:"Item Name (English)",required:!0,children:(0,gn.jsx)(Xn,{name:"nameEn",value:U.nameEn,onChange:q,placeholder:"Enter item name in English",required:!0})}),(0,gn.jsx)(Zn,{label:"Item Name (Arabic)",children:(0,gn.jsx)(Xn,{name:"nameAlt",value:U.nameAlt,onChange:q,placeholder:"Enter item name in Arabic"})})]}),(0,gn.jsxs)(tr,{cols:2,children:[(0,gn.jsx)(Zn,{label:"Base Unit",required:!0,children:(0,gn.jsxs)($n,{name:"baseUnit",value:U.baseUnit,onChange:q,required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Unit"}),c.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn},e._id)))]})}),(0,gn.jsx)(Zn,{label:"Tax",children:(0,gn.jsxs)($n,{name:"tax",value:U.tax,onChange:q,children:[(0,gn.jsx)("option",{value:"",children:"Select Tax"}),u.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]})})]}),(0,gn.jsxs)(tr,{cols:2,children:[(0,gn.jsx)(Zn,{label:"Main Category",required:!0,children:(0,gn.jsxs)($n,{name:"category",value:U.category,onChange:q,required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Category"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn},e._id)))]})}),(0,gn.jsx)(Zn,{label:"Sub Category",required:!0,children:(0,gn.jsxs)($n,{name:"subCategory",value:U.subCategory,onChange:q,required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Sub Category"}),F.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn},e._id)))]})})]}),(0,gn.jsx)(Zn,{label:"Image",children:(0,gn.jsxs)($n,{name:"image",value:U.image,onChange:q,children:[(0,gn.jsx)("option",{value:"",children:"Select Image"}),h.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.originalName},e._id)))]})}),(0,gn.jsx)(Zn,{label:"Departments",children:(0,gn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:i.map((e=>(0,gn.jsx)(er,{checked:U.departments.includes(e._id),onChange:()=>{return t=e._id,void z((e=>{const a=e.departments.includes(t)?e.departments.filter((e=>e!==t)):[...e.departments,t];return qt(qt({},e),{},{departments:a})}));var t},label:e.nameEn},e._id)))})})]})}),(0,gn.jsx)(Hn,{isOpen:y,onClose:()=>v(!1),onConfirm:async()=>{try{const e=await un.delete("".concat(xn,"/items/").concat(w));if(e.data&&void 0!==e.data.deletedPackagingCount){const t=e.data.deletedPackagingCount,a=e.data.itemName||"Item";t>0?alert('"'.concat(a,'" deleted successfully! Also removed ').concat(t," associated packaging item").concat(1!==t?"s":"",".")):alert('"'.concat(a,'" deleted successfully!'))}else alert("Item deleted successfully!");M()}catch(e){console.error("Error deleting item:",e),alert("Error deleting item. Please try again.")}finally{v(!1),k(null)}},title:"Delete Item",message:"Are you sure you want to delete this item? This will also delete all associated packaging for this item.",type:"danger"}),(0,gn.jsx)(Qn,{isOpen:f,onClose:()=>b(!1),imageUrl:j,imageAlt:"Item Image"})]})},gr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({name:"",baseUnit:"",unitType:"",symbol:""}),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null);(0,s.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)},n=await un.get("".concat(xn,"/units"),{headers:a});t(n.data)}catch(e){console.error("Failed to fetch units:",e)}},m=e=>{const{name:t,value:a}=e.target;n((e=>qt(qt({},e),{},{[t]:a})))},h=()=>{n({name:"",baseUnit:"",unitType:"",symbol:""}),l(!1),o(!1),d(null)};return(0,gn.jsxs)("div",{className:"p-4 z-10",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Units Management"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>l(!0),children:"Add Unit"})]}),(0,gn.jsx)("div",{className:"mb-4",children:(0,gn.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage your units based on the three base units: kg (weight), liter (volume), and pieces (count)."})}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Name"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Base Unit"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Unit Type"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Symbol"}),(0,gn.jsx)("th",{className:"p-2 border text-left",children:"Actions"})]})}),(0,gn.jsxs)("tbody",{children:[e.map((e=>(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"p-2 border font-medium",children:e.name}),(0,gn.jsx)("td",{className:"p-2 border",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("kg"===e.baseUnit?"bg-green-100 text-green-800":"liter"===e.baseUnit?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:e.baseUnit})}),(0,gn.jsx)("td",{className:"p-2 border",children:e.unitType||e.standardUnit||"-"}),(0,gn.jsx)("td",{className:"p-2 border",children:e.symbol||e.Symbol}),(0,gn.jsxs)("td",{className:"p-2 border",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{o(!0),d(e._id),n({name:e.name,baseUnit:e.baseUnit,unitType:e.unitType||e.standardUnit||"",symbol:e.symbol||e.Symbol}),l(!0)})(e),className:"text-blue-600 hover:underline mr-2",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this unit?"))try{const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)};await un.delete("".concat(xn,"/units/").concat(e),{headers:a}),u()}catch(t){console.error("Failed to delete unit:",t),alert("Failed to delete unit.")}})(e._id),className:"text-red-600 hover:underline",children:"Delete"})]})]},e._id))),0===e.length&&(0,gn.jsx)("tr",{children:(0,gn.jsx)("td",{colSpan:"5",className:"p-4 text-center text-gray-500",children:"No units found. Add your first unit to get started."})})]})]})}),r&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/2 max-h-[90vh] overflow-y-auto",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:i?"Edit Unit":"Add New Unit"}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Name *"}),(0,gn.jsx)("input",{type:"text",name:"name",value:a.name,onChange:m,placeholder:"Enter unit name (e.g., kg, gram, liter, ml, pieces)",className:"w-full border p-2 rounded"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Unit *"}),(0,gn.jsxs)("select",{name:"baseUnit",value:a.baseUnit,onChange:m,className:"w-full border p-2 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Base Unit *"}),["kg","liter","pieces"].map((e=>(0,gn.jsx)("option",{value:e,children:e},e)))]}),(0,gn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the base unit this unit belongs to: kg (weight), liter (volume), or pieces (count)"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Type *"}),(0,gn.jsxs)("select",{name:"unitType",value:a.unitType,onChange:m,className:"w-full border p-2 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Unit Type *"}),["Branch Unit","Standard Unit"].map((e=>(0,gn.jsx)("option",{value:e,children:e},e)))]}),(0,gn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Choose if this unit is a Branch Unit or a Standard Unit."})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symbol *"}),(0,gn.jsx)("input",{type:"text",name:"symbol",value:a.symbol,onChange:m,placeholder:"Enter symbol (e.g., kg, L, pcs)",className:"w-full border p-2 rounded"})]})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,gn.jsx)("button",{onClick:h,className:"text-gray-500 hover:underline",children:"Cancel"}),(0,gn.jsxs)("button",{onClick:i?async()=>{if(a.name.trim()&&a.baseUnit.trim()&&a.unitType.trim()&&a.symbol.trim()&&c)try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};await un.put("".concat(xn,"/units/").concat(c),a,{headers:t}),h(),u()}catch(e){console.error("Failed to update unit:",e),alert("Failed to update unit. Please check your input.")}else alert("Name, Base Unit, Unit Type, and Symbol are required fields.")}:async()=>{if(a.name.trim()&&a.baseUnit.trim()&&a.unitType.trim()&&a.symbol.trim())try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};await un.post("".concat(xn,"/units"),a,{headers:t}),h(),u()}catch(e){console.error("Failed to add unit:",e),alert("Failed to add unit. Please check your input.")}else alert("Name, Base Unit, Unit Type, and Symbol are required fields.")},className:"bg-[#735dff] text-white px-4 py-2 rounded hover:bg-[#5a4bcc]",children:[i?"Update":"Add"," Unit"]})]})]})})]})},fr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),u=async()=>{const e=await un.get("".concat(xn,"/roles"));t(e.data)};(0,s.useEffect)((()=>{u()}),[]);return(0,gn.jsxs)("div",{className:"p-4 z-10",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Roles"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>l(!0),children:"Add Role"})]}),r&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/3",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:i?"Edit Role":"Add New Role"}),(0,gn.jsx)("input",{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:"Enter role name",className:"w-full border p-2 mb-4 rounded"}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:()=>{l(!1),o(!1),n(""),d(null)},className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:i?async()=>{a.trim()&&c&&(await un.put("".concat(xn,"/roles/").concat(c),{name:a}),n(""),d(null),o(!1),l(!1),u())}:async()=>{a.trim()&&(await un.post("".concat(xn,"/roles"),{name:a}),n(""),l(!1),u())},className:"bg-green-500 text-white px-4 py-2 rounded",children:i?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"ID"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Role Name"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map(((e,t)=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:t+1}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.name}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{o(!0),d(e._id),n(e.name),l(!0)})(e),className:"text-[#735dff] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this role?")&&(await un.delete("".concat(xn,"/roles/").concat(e)),u())})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)))})]})]})},br=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null);console.log(e);const[h,p]=(0,s.useState)({nameEn:"",nameAr:"",branch:"",type:"",logo:""}),x=r.find((e=>e._id===h.logo)),g=async()=>{try{const e=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)},[r,s,i]=await Promise.all([un.get("".concat(xn,"/brand"),{headers:a}),un.get("".concat(xn,"/branch"),{headers:a}),un.get("".concat(xn,"/gallery"),{headers:a})]);t(r.data),n(s.data),l(i.data)}catch(e){console.error("Error fetching data:",e)}};(0,s.useEffect)((()=>{g()}),[]);const f=e=>{const{name:t,value:a}=e.target;p((e=>qt(qt({},e),{},{[t]:a})))};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Brands"}),(0,gn.jsx)("button",{onClick:()=>{p({nameEn:"",nameAr:"",branch:"",type:"",logo:""}),m(null),o(!0)},className:"bg-[#735dff] text-white px-4 py-2 rounded",children:"Add Brand"})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 border",children:"Name (EN)"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Name (AR)"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Branch"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Type"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Logo"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>{var t,a;return(0,gn.jsxs)("tr",{className:"text-center",children:[(0,gn.jsx)("td",{className:"p-2 border",children:e.nameEn}),(0,gn.jsx)("td",{className:"p-2 border",children:e.nameAr}),(0,gn.jsx)("td",{className:"p-2 border",children:(null===(t=e.branch)||void 0===t?void 0:t.name)||"N/A"}),(0,gn.jsx)("td",{className:"p-2 border",children:e.type}),(0,gn.jsx)("td",{className:"p-2 border",children:null!==(a=e.logo)&&void 0!==a&&a.url?(0,gn.jsx)("img",{src:e.logo.url,alt:"Logo",className:"w-12 h-12 object-cover mx-auto"}):"No logo"}),(0,gn.jsxs)("td",{className:"p-2 border space-x-2",children:[(0,gn.jsx)("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded text-sm",onClick:()=>(e=>{var t,a;p({nameEn:e.nameEn||"",nameAr:e.nameAr||"",branch:(null===(t=e.branch)||void 0===t?void 0:t._id)||"",type:e.type||"",logo:(null===(a=e.logo)||void 0===a?void 0:a._id)||""}),m(e._id),o(!0)})(e),children:"Edit"}),(0,gn.jsx)("button",{className:"bg-red-500 text-white px-2 py-1 rounded text-sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this brand?"))try{const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)};await un.delete("".concat(xn,"/brand/").concat(e),{headers:a}),g()}catch(t){console.error("Error deleting brand:",t)}})(e._id),children:"Delete"})]})]},e._id)}))})]})}),i&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-2xl",children:[(0,gn.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-bold",children:u?"Edit Brand":"Add Brand"}),(0,gn.jsx)("button",{onClick:()=>{o(!1),m(null),p({nameEn:"",nameAr:"",branch:"",type:"",logo:""})},children:"Close"})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsx)("input",{type:"text",name:"nameEn",value:h.nameEn,onChange:f,placeholder:"Name (EN)",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"nameAr",value:h.nameAr,onChange:f,placeholder:"Name (AR)",className:"border p-2 rounded"}),(0,gn.jsxs)("select",{name:"branch",value:h.branch,onChange:f,className:"border p-2 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Branch"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,gn.jsx)("input",{type:"text",name:"type",value:h.type,onChange:f,placeholder:"Type",className:"border p-2 rounded"}),(0,gn.jsxs)("div",{className:"col-span-2",children:[(0,gn.jsx)("label",{className:"block font-medium mb-1",children:"Logo"}),(0,gn.jsx)("div",{className:"w-32 h-32 border rounded flex items-center justify-center cursor-pointer overflow-hidden",onClick:()=>d(!0),children:x?(0,gn.jsx)("img",{src:x.url,alt:"Selected",className:"object-cover w-full h-full"}):(0,gn.jsx)("span",{children:"Select Logo"})})]})]}),(0,gn.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};u?await un.put("".concat(xn,"/brand/").concat(u),h,{headers:t}):await un.post("".concat(xn,"/brand"),h,{headers:t}),p({nameEn:"",nameAr:"",branch:"",type:"",logo:""}),m(null),o(!1),g()}catch(e){console.error("Error saving brand:",e)}},className:"bg-[#735dff] text-white px-6 py-2 rounded",children:[u?"Update":"Save"," Brand"]})]})}),c&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:(0,gn.jsxs)("div",{className:"bg-white p-4 rounded w-[80%] max-h-[80%] overflow-y-auto",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-bold",children:"Select Logo"}),(0,gn.jsx)("button",{onClick:()=>d(!1),children:"Close"})]}),(0,gn.jsx)("div",{className:"grid grid-cols-4 gap-4",children:r.map((e=>(0,gn.jsx)("img",{src:e.url,alt:"",className:"w-full h-32 object-cover cursor-pointer border hover:border-blue-500",onClick:()=>{p((t=>qt(qt({},t),{},{logo:e._id}))),d(!1)}},e._id)))})]})})]})},yr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({currencyName:"",symbol:""}),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),u=async()=>{const e=await un.get("".concat(xn,"/currency"));t(e.data)};(0,s.useEffect)((()=>{u()}),[]);return(0,gn.jsxs)("div",{className:"p-4 z-10",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Currencies"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>l(!0),children:"Add Currency"})]}),r&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/3",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:i?"Edit Currency":"Add New Currency"}),(0,gn.jsx)("input",{type:"text",value:a.currencyName,onChange:e=>n(qt(qt({},a),{},{currencyName:e.target.value})),placeholder:"Enter currency name",className:"w-full border p-2 mb-4 rounded"}),(0,gn.jsx)("input",{type:"text",value:a.symbol,onChange:e=>n(qt(qt({},a),{},{symbol:e.target.value})),placeholder:"Enter symbol",className:"w-full border p-2 mb-4 rounded"}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:()=>{l(!1),o(!1),n({currencyName:"",symbol:""}),d(null)},className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:i?async()=>{a.currencyName.trim()&&a.symbol.trim()&&c?(await un.put("".concat(xn,"/currency/").concat(c),a),n({currencyName:"",symbol:""}),d(null),o(!1),l(!1),u()):alert("Please enter both Currency Name and Symbol.")}:async()=>{a.currencyName.trim()&&a.symbol.trim()?(await un.post("".concat(xn,"/currency"),a),n({currencyName:"",symbol:""}),l(!1),u()):alert("Please enter both Currency Name and Symbol.")},className:"bg-green-500 text-white px-4 py-2 rounded",children:i?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"#"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Currency Name"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Symbol"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map(((e,t)=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:t+1}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.currencyName}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.symbol}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{o(!0),d(e._id),n({currencyName:e.currencyName,symbol:e.symbol}),l(!0)})(e),className:"text-[#735dff] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this currency?")&&(await un.delete("".concat(xn,"/currency/").concat(e)),u())})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)))})]})]})},vr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)({name:"",brand:""}),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null);(0,s.useEffect)((()=>{h(),p()}),[]);const h=async()=>{const e=await un.get("".concat(xn,"/menu"));t(e.data)},p=async()=>{const e=await un.get("".concat(xn,"/brand"));n(e.data)},x=()=>{l({name:"",brand:""}),o(!1),d(!1),m(null)};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Menu Category"}),(0,gn.jsx)("button",{className:"bg-purple-600 text-white px-4 py-2 rounded",onClick:()=>o(!0),children:"Add Menu Category"})]}),i&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded w-1/3",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:c?"Edit Menu Category":"Add Menu Category"}),(0,gn.jsx)("input",{type:"text",value:r.name,onChange:e=>l(qt(qt({},r),{},{name:e.target.value})),placeholder:"Item name",className:"w-full border p-2 mb-4 rounded"}),(0,gn.jsxs)("select",{value:r.brand,onChange:e=>l(qt(qt({},r),{},{brand:e.target.value})),className:"w-full border p-2 mb-4 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Brand"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn},e._id)))]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:x,className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:c?async()=>{r.name&&r.brand&&u&&(await un.put("".concat(xn,"/menu/").concat(u),r),x(),h())}:async()=>{r.name&&r.brand&&(await un.post("".concat(xn,"/menu"),r),x(),h())},className:"bg-green-500 text-white px-4 py-2 rounded",children:c?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"#"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Brand"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map(((e,t)=>{var a;return(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:t+1}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.name}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:(null===(a=e.brand)||void 0===a?void 0:a.nameEn)||"N/A"}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{d(!0),m(e._id),l({name:e.name,brand:e.brand._id}),o(!0)})(e),className:"text-purple-600 hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure?")&&(await un.delete("".concat(xn,"/menu/").concat(e)),h())})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)}))})]})]})},jr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({name:"",taxRate:""}),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),u=async()=>{const e=await un.get("".concat(xn,"/tax"));t(e.data)};(0,s.useEffect)((()=>{u()}),[]);const m=e=>{const{name:t,value:a}=e.target;n((e=>qt(qt({},e),{},{[t]:a})))},h=()=>{n({name:"",taxRate:""}),l(!1),o(null),d(!1)};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Taxes"}),(0,gn.jsx)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add Tax"})]}),c&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded w-1/3",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r?"Edit Tax":"Add Tax"}),(0,gn.jsx)("input",{type:"text",name:"name",value:a.name,onChange:m,placeholder:"Tax Name",className:"w-full mb-3 p-2 border rounded"}),(0,gn.jsx)("input",{type:"number",name:"taxRate",value:a.taxRate,onChange:m,placeholder:"Tax Rate",className:"w-full mb-4 p-2 border rounded"}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:h,className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{a.name&&a.taxRate&&(r?await un.put("".concat(xn,"/tax/").concat(i),a):await un.post("".concat(xn,"/tax"),a),h(),u())},className:"bg-green-500 text-white px-4 py-2 rounded",children:r?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Tax Rate"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.name}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center",children:[e.taxRate,"%"]}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{l(!0),n({name:e.name,taxRate:e.taxRate}),o(e._id),d(!0)})(e),className:"text-blue-500",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{window.confirm("Delete this tax?")&&(await un.delete("".concat(xn,"/tax/").concat(e)),u())})(e._id),className:"text-red-500",children:"Delete"})]})]},e._id)))})]})]})},Nr=()=>{const[e,t]=(0,s.useState)(""),[a,n]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=ne(),{login:m,user:h,loading:p}=jn();(0,s.useEffect)((()=>{!p&&h&&u("/dashboard")}),[h,p,u]);return p?(0,gn.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 md:h-32 md:w-32 border-b-2 border-blue-600"})}):h?null:(0,gn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:(0,gn.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"mx-auto h-12 w-12 md:h-16 md:w-16 bg-blue-600 rounded-full flex items-center justify-center",children:(0,gn.jsx)("svg",{className:"h-6 w-6 md:h-8 md:w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,gn.jsx)("h2",{className:"mt-6 text-2xl md:text-3xl font-bold text-gray-900",children:"Welcome Back"}),(0,gn.jsx)("p",{className:"mt-2 text-sm md:text-base text-gray-600",children:"Please sign in to your account"})]}),(0,gn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(""),d(!0);try{const t=await m(e,a);t.success?u("/dashboard"):l(t.message)}catch(n){l("An unexpected error occurred. Please try again.")}finally{d(!1)}},className:"mt-8 space-y-6 bg-white p-6 md:p-8 rounded-xl shadow-lg",name:"loginForm",id:"loginForm",children:[r&&(0,gn.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg relative",role:"alert",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,gn.jsx)("span",{className:"text-sm md:text-base",children:r})]})}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm md:text-base font-medium text-gray-700 mb-2",htmlFor:"email",children:"Email Address"}),(0,gn.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-3 md:px-4 md:py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm md:text-base",required:!0,autoComplete:"email",disabled:c})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm md:text-base font-medium text-gray-700 mb-2",htmlFor:"password",children:"Password"}),(0,gn.jsxs)("div",{className:"relative",children:[(0,gn.jsx)("input",{id:"password",name:"password",type:i?"text":"password",placeholder:"Enter your password",value:a,onChange:e=>n(e.target.value),className:"w-full px-3 py-3 md:px-4 md:py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm md:text-base",required:!0,autoComplete:"current-password",disabled:c}),(0,gn.jsx)("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors p-1","aria-label":i?"Hide password":"Show password",disabled:c,children:i?(0,gn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,gn.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,gn.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):(0,gn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),(0,gn.jsx)("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]})]}),(0,gn.jsx)("div",{className:"pt-4",children:(0,gn.jsx)("button",{type:"submit",className:"w-full py-3 md:py-4 px-4 rounded-lg text-sm md:text-base font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 ".concat(c?"bg-gray-400 cursor-not-allowed text-gray-600":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"),name:"submit",id:"submit",disabled:c,children:c?(0,gn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})}),(0,gn.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:(0,gn.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"Need help? Contact your administrator"})})]}),(0,gn.jsx)("div",{className:"text-center",children:(0,gn.jsx)("p",{className:"text-xs md:text-sm text-gray-500",children:"\xa9 2024 Your Company. All rights reserved."})})]})})};function wr(e){let{item:t}=e;return(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("h2",{className:"text-xl font-medium",children:["Edit Item - ",(0,gn.jsx)("span",{className:"text-green-600 font-semibold",children:(null===t||void 0===t?void 0:t.nameEn)||(null===t||void 0===t?void 0:t.name)||"Loading..."})]}),(0,gn.jsx)("button",{className:"bg-purple-600 text-white px-4 py-1 rounded",children:"Lock"})]})}function kr(e){var t,a,n,r;let{item:s}=e;return s?(0,gn.jsxs)("div",{className:"flex-1 bg-white p-4 rounded shadow-sm",children:[(0,gn.jsx)("h3",{className:"font-semibold text-md mb-4",children:"Basic Details"}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name (English) *"}),(0,gn.jsx)("input",{className:"w-full border p-2 rounded",defaultValue:s.nameEn||"",readOnly:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name (Alternative)"}),(0,gn.jsx)("input",{className:"w-full border p-2 rounded",defaultValue:s.nameAlt||"",readOnly:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Unit *"}),(0,gn.jsx)("input",{className:"w-full border p-2 rounded",defaultValue:(null===(t=s.baseUnit)||void 0===t?void 0:t.name)||(null===(a=s.unit)||void 0===a?void 0:a.name)||"",readOnly:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Code"}),(0,gn.jsx)("input",{className:"w-full border p-2 rounded",defaultValue:s.itemCode||"",readOnly:!0})]})]}),(0,gn.jsx)("h3",{className:"font-semibold text-md mt-6 mb-4",children:"Category Details"}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Category *"}),(0,gn.jsx)("input",{className:"w-full border p-2 rounded",defaultValue:(null===(n=s.category)||void 0===n?void 0:n.nameEn)||"",readOnly:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Category"}),(0,gn.jsx)("input",{className:"w-full border p-2 rounded",defaultValue:(null===(r=s.subCategory)||void 0===r?void 0:r.nameEn)||"",readOnly:!0})]})]})]}):null}const Sr=["Item Details","Packaging","Suppliers","Allergens","Inventory","Recipes"];function Cr(e){let{item:t}=e;const[a,n]=(0,s.useState)("Item Details"),{id:r}=re(),[l,i]=(0,s.useState)(t||null),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)({amount:"",unit:"",packSize:"",type:"",description:"",parentPackaging:null}),[p,x]=(0,s.useState)(null),[g,f]=(0,s.useState)([]),[b,y]=(0,s.useState)({}),[v,j]=(0,s.useState)(null),N=(0,s.useCallback)((async()=>{try{console.log("Loading suppliers for item:",r);const e=localStorage.getItem("token"),t=(await un.get("".concat(xn,"/supplier-items/item/").concat(r),{headers:{Authorization:"Bearer ".concat(e)}})).data;console.log("Loaded supplier items from backend:",t);const a={};t.forEach((e=>{let t;if("base"===e.packagingType)t="base";else if("pack"===e.packagingType)t="pack";else if("additional"===e.packagingType){var n;const a=(null===(n=e.packaging)||void 0===n?void 0:n._id)||e.packaging;t="additional_".concat(a),console.log("Processing additional packaging:",e.packaging,"extracted ID:",a)}else t="".concat(e.packagingType,"-").concat(e.packaging||"");console.log("Mapping supplier ".concat(e.supplier._id," to packaging key: ").concat(t)),a[t]||(a[t]=[]),a[t].push(e.supplier._id)})),console.log("Final suppliers by packaging:",a),y(a)}catch(e){console.error("Error loading supplier-item relationships:",e)}}),[r]),w=(0,s.useCallback)((async()=>{try{console.log("Saving suppliers for item:",r),console.log("Selected suppliers data:",b);const e=localStorage.getItem("token"),t=await un.post("".concat(xn,"/supplier-items"),{itemId:r,supplierPackagingData:b},{headers:{Authorization:"Bearer ".concat(e)}});return console.log("Supplier-item relationships saved successfully:",t.data),t.data}catch(t){var e;throw console.error("Error saving supplier-item relationships:",t),console.error("Error details:",null===(e=t.response)||void 0===e?void 0:e.data),t}}),[r,b]),k=(0,s.useCallback)((e=>{u(e),c(!0),h({amount:"",unit:"",packSize:"",type:e,description:"",parentPackaging:null})}),[]),S=(0,s.useCallback)((async()=>{try{const[e,t]=await Promise.all([un.get("".concat(xn,"/packaging/").concat(r)),un.get("".concat(xn,"/packaging")).then((e=>{console.log("Refreshing all packaging data:",e.data);const t=e.data.filter((e=>e.itemId?e.itemId._id===r:(console.warn("Package with no itemId found:",e),!1)));return console.log("Filtered packaging for current item:",t),t})).catch((e=>(console.error("Error fetching all packaging:",e),[])))]),a=e.data,n=a.find((e=>"base"===e.type)),s=a.find((e=>"pack"===e.type));i((e=>qt(qt({},e),{},{basePackaging:n,packPackaging:s,additionalPackaging:t}))),console.log("Updated item state:",{basePackaging:n,packPackaging:s,additionalPackaging:t})}catch(e){console.error("Error refreshing packaging data:",e)}}),[r]),C=(0,s.useCallback)((async e=>{if(e.preventDefault(),m.amount&&m.type)if("sub"===d||"item-base"===d||m.unit)try{if("item-base"===d){const e={unitCount:parseFloat(m.amount)};console.log("Updating item base packaging:",e),await un.put("".concat(xn,"/items/").concat(r),e),i((e=>qt(qt({},e),{},{unitCount:parseFloat(m.amount)})))}else if("base"===d||"pack"===d){var t,a;const e=qt({itemId:r,type:m.type,amount:m.amount,unit:m.unit},"pack"===d&&m.packSize&&{packSize:m.packSize});console.log("Submitting base/pack packaging:",e),console.log("Base packaging:",null===l||void 0===l?void 0:l.basePackaging),console.log("Pack packaging:",null===l||void 0===l?void 0:l.packPackaging),p?(console.log("Updating packaging with editingPackagingId:",p),await un.put("".concat(xn,"/packaging/").concat(p),e)):"base"===d&&null!==l&&void 0!==l&&null!==(t=l.basePackaging)&&void 0!==t&&t._id?(console.log("Updating existing base packaging with ID:",l.basePackaging._id),await un.put("".concat(xn,"/packaging/").concat(l.basePackaging._id),e)):"pack"===d&&null!==l&&void 0!==l&&null!==(a=l.packPackaging)&&void 0!==a&&a._id?(console.log("Updating existing pack packaging with ID:",l.packPackaging._id),await un.put("".concat(xn,"/packaging/").concat(l.packPackaging._id),e)):(console.log("Creating new base/pack packaging"),await un.post("".concat(xn,"/packaging/").concat(r),e))}else{var n;const e={itemId:r,type:m.type,amount:parseFloat(m.amount),unit:"sub"===d&&(null===(n=m.parentPackaging)||void 0===n?void 0:n.parentUnit)||m.unit,packSize:parseInt(m.packSize)||null,description:m.description};m.parentPackaging&&(e.parentType=m.parentPackaging.parentType,m.parentPackaging.parentId&&(e.parentPackaging=m.parentPackaging.parentId),console.log("Adding parent info to payload:",{parentType:e.parentType,parentPackaging:e.parentPackaging,originalParentData:m.parentPackaging})),console.log("Submitting additional packaging:",e),p?await un.put("".concat(xn,"/packaging/").concat(p),e):await un.post("".concat(xn,"/packaging"),e)}await S(),c(!1),x(null),alert("Packaging saved successfully!")}catch(h){var s,o,u;console.error("Error saving packaging:",h),console.error("Error details:",null===(s=h.response)||void 0===s?void 0:s.data),alert("Error saving packaging: ".concat((null===(o=h.response)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.message)||h.message))}else alert("Please fill in unit field");else alert("Please fill in quantity and package name")}),[m,d,p,r,S,null===l||void 0===l?void 0:l.basePackaging,null===l||void 0===l?void 0:l.packPackaging]),E=(0,s.useCallback)((()=>{c(!1),x(null),h({amount:"",unit:"",packSize:"",type:"",description:"",parentPackaging:null})}),[]);(0,s.useEffect)((()=>{if(t){const e=async()=>{try{const[e,a]=await Promise.all([un.get("".concat(xn,"/packaging/").concat(r)),un.get("".concat(xn,"/packaging")).then((e=>{console.log("All packaging data:",e.data);const t=e.data.filter((e=>(console.log("Checking package:",e,"itemId:",e.itemId),e.itemId&&e.itemId._id===r)));return console.log("Filtered packaging for item:",t),t})).catch((e=>(console.error("Error fetching all packaging:",e),[])))]),n=e.data,s=n.find((e=>"base"===e.type)),l=n.find((e=>"pack"===e.type));console.log("Packaging from API:",n),console.log("Found base packaging:",s),console.log("Found pack packaging:",l),i(qt(qt({},t),{},{basePackaging:s,packPackaging:l,additionalPackaging:a}))}catch(e){console.error("Error fetching packaging:",e),i(qt(qt({},t),{},{additionalPackaging:[]}))}};e()}}),[t,r]),(0,s.useEffect)((()=>{(async()=>{try{const e=await un.get("".concat(xn,"/suppliers"));f(e.data),r&&N()}catch(e){console.error("Error fetching suppliers:",e)}})()}),[r,N]),(0,s.useEffect)((()=>{if(r){const e=localStorage.getItem("activeTab_".concat(r));e&&n(e)}}),[r]),(0,s.useEffect)((()=>{o&&null!==l&&void 0!==l&&l.baseUnit&&!m.unit&&h((e=>{var t;return qt(qt({},e),{},{unit:l.baseUnit.symbol||l.baseUnit.Symbol||(null===(t=l.baseUnit.name)||void 0===t?void 0:t.toLowerCase())||"pcs"})}))}),[o,null===l||void 0===l?void 0:l.baseUnit,m.unit]),(0,s.useEffect)((()=>{const e=e=>{v&&!e.target.closest(".supplier-dropdown")&&j(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[v]);const A=(e,t,a)=>{a.stopPropagation(),console.log("Selecting supplier:",t,"for packaging:",e),y((a=>{const n=a[e]||[],r=n.includes(t);let s;return s=qt(qt({},a),{},r?{[e]:n.filter((e=>e!==t))}:{[e]:[...n,t]}),console.log("Updated selectedSuppliers state:",s),s}))},P=e=>b[e]||[],_=e=>{j(v===e?null:e)};if(!l)return(0,gn.jsx)("div",{className:"p-4",children:"Loading item..."});const T=function(e){var t,a,n,r;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u("sub"),c(!0);let i={};if("base"===e&&null!==l&&void 0!==l&&l.basePackaging)i={parentType:"base",parentAmount:l.basePackaging.amount,parentUnit:l.basePackaging.unit,parentName:l.basePackaging.type,parentDescription:"amount - ".concat(l.basePackaging.amount," unit - ").concat(l.basePackaging.unit," name - ").concat(l.basePackaging.type)};else if("base"===e&&null!==l&&void 0!==l&&l.unitCount&&null!==l&&void 0!==l&&l.baseUnit)i={parentType:"base",parentAmount:l.unitCount,parentUnit:l.baseUnit.name||l.baseUnit.Symbol||l.baseUnit.symbol,parentName:"base",parentDescription:"amount - ".concat(l.unitCount," unit - ").concat(l.baseUnit.name||l.baseUnit.Symbol||l.baseUnit.symbol," name - base")};else if("base"!==e||null===l||void 0===l||!l.additionalPackaging||null!==l&&void 0!==l&&l.basePackaging||null!==l&&void 0!==l&&l.unitCount)"pack"===e&&null!==l&&void 0!==l&&l.packPackaging?i={parentType:"pack",parentAmount:l.packPackaging.amount,parentUnit:l.packPackaging.unit,parentPackSize:l.packPackaging.packSize,parentName:l.packPackaging.type,parentDescription:"amount - ".concat(l.packPackaging.amount," unit - ").concat(l.packPackaging.unit," name - ").concat(l.packPackaging.type)}:"additional"===e&&s&&(console.log("Creating sub-packaging with additional parent:",s),i={parentType:"additional",parentId:s._id,parentAmount:s.amount,parentUnit:s.unit,parentPackSize:s.packSize,parentName:s.type,parentDescription:"amount - ".concat(s.amount," unit - ").concat(s.unit," name - ").concat(s.type)},console.log("Parent data created:",i));else{const e=l.additionalPackaging.find((e=>!e.parentType));e&&(i={parentType:"additional",parentId:e._id,parentAmount:e.amount,parentUnit:e.unit,parentName:e.type,parentDescription:"amount - ".concat(e.amount," unit - ").concat(e.unit," name - ").concat(e.type)})}h({amount:"",unit:i.parentUnit||(null===l||void 0===l||null===(t=l.baseUnit)||void 0===t?void 0:t.symbol)||(null===l||void 0===l||null===(a=l.baseUnit)||void 0===a?void 0:a.Symbol)||(null===l||void 0===l||null===(n=l.baseUnit)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase())||"pcs",packSize:"",type:"",description:"",parentPackaging:i})},O=()=>{var e,t,a,n;(console.log("Editing base packaging:",null===l||void 0===l?void 0:l.basePackaging),console.log("Item data:",l),u("base"),null!==l&&void 0!==l&&l.basePackaging)?(h({amount:l.basePackaging.amount.toString(),unit:l.basePackaging.unit,packSize:"",type:l.basePackaging.type||"base",description:l.basePackaging.description||"",parentPackaging:null}),x(l.basePackaging._id)):(h({amount:"",unit:(null===l||void 0===l||null===(e=l.baseUnit)||void 0===e?void 0:e.symbol)||(null===l||void 0===l||null===(t=l.baseUnit)||void 0===t?void 0:t.Symbol)||(null===l||void 0===l||null===(a=l.baseUnit)||void 0===a||null===(n=a.name)||void 0===n?void 0:n.toLowerCase())||"kg",packSize:"",type:"base",description:"",parentPackaging:null}),x(null));c(!0)},B=()=>{var e,t,a,n,r,s;(console.log("Editing pack packaging:",null===l||void 0===l?void 0:l.packPackaging),console.log("Pack packaging ID:",null===l||void 0===l||null===(e=l.packPackaging)||void 0===e?void 0:e._id),u("pack"),null!==l&&void 0!==l&&l.packPackaging)?(h({amount:l.packPackaging.amount.toString(),unit:l.packPackaging.unit,packSize:(null===(t=l.packPackaging.packSize)||void 0===t?void 0:t.toString())||"",type:l.packPackaging.type||"pack",description:l.packPackaging.description||"",parentPackaging:null}),x(l.packPackaging._id)):(h({amount:"",unit:(null===l||void 0===l||null===(a=l.baseUnit)||void 0===a?void 0:a.symbol)||(null===l||void 0===l||null===(n=l.baseUnit)||void 0===n?void 0:n.Symbol)||(null===l||void 0===l||null===(r=l.baseUnit)||void 0===r||null===(s=r.name)||void 0===s?void 0:s.toLowerCase())||"kg",packSize:"",type:"pack",description:"",parentPackaging:null}),x(null));c(!0)},R=s.memo((()=>{var e,t,a;const n=e=>{h((t=>qt(qt({},t),{},{amount:e.target.value})))};return(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-[600px] max-w-[90vw] max-h-[90vh] overflow-y-auto",children:[(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-[#5B2685] mb-4",children:[p?"Edit":"Add"," ","sub"===d?"Sub-Packaging":"Packaging"]}),(0,gn.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,gn.jsx)("input",{type:"text",value:(null===l||void 0===l?void 0:l.nameEn)||(null===l||void 0===l?void 0:l.name)||"",disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600"})]}),m.parentPackaging&&(0,gn.jsxs)("div",{className:"border rounded-md p-3",style:{backgroundColor:"#e66868",borderColor:"#d44545"},children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Base packaging"}),(0,gn.jsxs)("p",{className:"text-sm text-white",children:[m.parentPackaging.parentAmount," ",m.parentPackaging.parentUnit," ",m.parentPackaging.parentName||m.parentPackaging.parentType]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package Name *"}),(0,gn.jsx)("input",{type:"text",value:m.type||"",onChange:e=>{h((t=>qt(qt({},t),{},{type:e.target.value})))},placeholder:"Enter package name (e.g., bulk container, retail bag, wholesale box)",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",required:!0,autoComplete:"off",autoFocus:!p})]}),"sub"!==d&&"item-base"!==d?(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity in this package *"}),(0,gn.jsx)("input",{type:"number",step:"0.01",value:m.amount,onChange:n,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"Enter quantity (e.g., 1, 2.5, 10)",required:!0,autoComplete:"off",onFocus:e=>e.target.select()})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit * (Auto-detected from item)"}),(0,gn.jsx)("input",{type:"text",value:m.unit,disabled:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600",placeholder:"Auto-detected from item"})]})]}):"item-base"===d?(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Quantity *"}),(0,gn.jsx)("input",{type:"number",step:"0.01",value:m.amount,onChange:n,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"Enter base quantity (e.g., 1, 2.5, 10)",required:!0,autoComplete:"off",onFocus:e=>e.target.select()}),(0,gn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Unit: ",(null===l||void 0===l||null===(e=l.baseUnit)||void 0===e?void 0:e.name)||(null===l||void 0===l||null===(t=l.baseUnit)||void 0===t?void 0:t.Symbol)||(null===l||void 0===l||null===(a=l.baseUnit)||void 0===a?void 0:a.symbol)||"N/A"]})]}):(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity in this package *"}),(0,gn.jsx)("input",{type:"number",step:"0.01",value:m.amount,onChange:n,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#5B2685] focus:border-transparent",placeholder:"Enter quantity (e.g., 1, 2.5, 10)",required:!0,autoComplete:"off",onFocus:e=>e.target.select()})]}),(0,gn.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,gn.jsx)("button",{type:"button",onClick:E,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,gn.jsxs)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#5B2685] text-white rounded-md hover:bg-[#4A1F6F] transition-colors",children:[p?"Update":"Add"," Packaging"]})]})]})]})})}));return(0,gn.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-sm max-w-6xl mx-auto",children:[(0,gn.jsx)("div",{className:"border-b border-gray-300 flex gap-6",children:Sr.map((e=>(0,gn.jsx)("div",{onClick:()=>(e=>{n(e),localStorage.setItem("activeTab_".concat(r),e)})(e),className:"cursor-pointer pb-2 text-sm font-medium ".concat(a===e?"text-[#5B2685] border-b-2 border-[#5B2685]":"text-gray-500"),children:e},e)))}),(0,gn.jsx)("div",{children:(()=>{switch(a){case"Item Details":return(0,gn.jsx)("div",{className:"mt-6",children:(0,gn.jsx)(kr,{item:l})});case"Packaging":return(0,gn.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsx)("h2",{className:"text-xl font-semibold text-[#5B2685]",children:"Packaging"}),(0,gn.jsx)("button",{onClick:()=>k("base"),className:"bg-[#5B2685] text-white px-4 py-2 rounded-md hover:bg-[#4A1F6F] transition-colors",children:"Create Base Package"})]}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(null===l||void 0===l?void 0:l.unitCount)&&(null===l||void 0===l?void 0:l.baseUnit)&&(0,gn.jsx)("div",{className:"border rounded-lg p-4 shadow-sm",style:{backgroundColor:"#e66868",borderColor:"#d44545"},children:(0,gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h3",{className:"text-sm text-white font-bold mb-1",children:"Base"}),(0,gn.jsxs)("p",{className:"text-sm text-white",children:[l.unitCount," ",l.baseUnit.name," of ",l.nameEn||l.name]})]}),(0,gn.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,gn.jsx)("button",{onClick:()=>(()=>{var e,t,a,n,r,s;console.log("Editing item base packaging (unitCount):",null===l||void 0===l?void 0:l.unitCount,null===l||void 0===l?void 0:l.baseUnit),u("item-base"),h({amount:(null===l||void 0===l||null===(e=l.unitCount)||void 0===e?void 0:e.toString())||"",unit:(null===l||void 0===l||null===(t=l.baseUnit)||void 0===t?void 0:t.symbol)||(null===l||void 0===l||null===(a=l.baseUnit)||void 0===a?void 0:a.Symbol)||(null===l||void 0===l||null===(n=l.baseUnit)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase())||"kg",packSize:"",type:(null===l||void 0===l||null===(s=l.baseUnit)||void 0===s?void 0:s.name)||"base",description:"",parentPackaging:null}),x(null),c(!0)})(),className:"text-sm text-white hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>T("base"),className:"text-sm text-white hover:underline",children:"Add Sub-Packaging"}),(0,gn.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full",children:"Default"})]})]})}),(null===l||void 0===l?void 0:l.basePackaging)&&!(null!==l&&void 0!==l&&l.unitCount)&&(0,gn.jsx)("div",{className:"border rounded-lg p-4 shadow-sm",style:{backgroundColor:"#e66868",borderColor:"#d44545"},children:(0,gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h3",{className:"text-sm text-white font-bold mb-1",children:"Base (Custom)"}),(0,gn.jsxs)("p",{className:"text-sm text-white",children:[l.nameEn||l.name," ",l.basePackaging.amount,l.basePackaging.unit]})]}),(0,gn.jsxs)("div",{className:"flex gap-2",children:[(0,gn.jsx)("button",{onClick:O,className:"text-sm text-white hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>T("base"),className:"text-sm text-white hover:underline",children:"Add Sub-Packaging"}),(0,gn.jsx)("button",{onClick:()=>(async()=>{if(window.confirm("Are you sure you want to delete the base packaging?"))try{console.log("Deleting base packaging for item:",r),await un.delete("".concat(xn,"/packaging/").concat(r,"/base")),await S(),alert("Base packaging deleted successfully!")}catch(e){console.error("Error deleting base packaging:",e),alert("Error deleting base packaging")}})(),className:"text-sm text-white hover:underline",children:"Delete"})]})]})}),(null===l||void 0===l?void 0:l.packPackaging)&&(0,gn.jsx)("div",{className:"border border-[#3F88C5] rounded-lg p-4 bg-white shadow-sm",children:(0,gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h3",{className:"text-sm text-[#3F88C5] font-bold mb-1",children:"Pack"}),(0,gn.jsxs)("p",{className:"text-sm text-gray-800",children:[l.nameEn||l.name," ",l.packPackaging.packSize," x ",l.packPackaging.amount,l.packPackaging.unit]})]}),(0,gn.jsxs)("div",{className:"flex gap-2",children:[(0,gn.jsx)("button",{onClick:B,className:"text-sm text-[#3F88C5] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>T("pack"),className:"text-sm text-green-600 hover:underline",children:"Add Sub-Packaging"}),(0,gn.jsx)("button",{onClick:()=>(async()=>{if(window.confirm("Are you sure you want to delete the pack packaging?"))try{console.log("Deleting pack packaging for item:",r),await un.delete("".concat(xn,"/packaging/").concat(r,"/pack")),await S(),alert("Pack packaging deleted successfully!")}catch(e){console.error("Error deleting pack packaging:",e),alert("Error deleting pack packaging")}})(),className:"text-sm text-red-600 hover:underline",children:"Delete"})]})]})}),(null===l||void 0===l?void 0:l.additionalPackaging)&&[...l.additionalPackaging].reverse().map(((e,t)=>{let a=t>0;return(0,gn.jsx)("div",{className:"border rounded-lg p-4 shadow-sm ".concat(a?"border-blue-300 bg-blue-50 ml-8":"ml-0"),style:a?{}:{backgroundColor:"#e66868",borderColor:"#d44545"},children:(0,gn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,gn.jsxs)("div",{className:"flex-1",children:[(0,gn.jsxs)("h3",{className:"text-sm font-bold mb-1 capitalize ".concat(a?"text-blue-700":"text-white"),children:[a&&"\u21b3 ",e.type]}),(0,gn.jsx)("p",{className:"text-sm ".concat(a?"text-gray-800":"text-white"),children:a?(()=>{const t=[...l.additionalPackaging].reverse(),a=t.findIndex((t=>t._id===e._id));if(console.log("=== HIERARCHICAL CALCULATION DEBUG ==="),console.log("Package type:",e.type),console.log("Current index in hierarchy:",a),console.log("All packages in order:",t.map((e=>({type:e.type,amount:e.amount,unit:e.unit})))),a>0){const n=t[0];let r=n.amount,s=n.amount,l=[];for(let e=1;e<=a;e++){const a=t[e];l.push(a.amount),r*=a.amount,s/=a.amount}console.log("Hierarchical calculation:",{base:"".concat(n.amount," ").concat(n.unit),multipliers:l,totalAmount:r,unitValue:s,result:"".concat(e.amount," ").concat(e.type," \xd7 ").concat(r," ").concat(n.unit," total, ").concat(s.toFixed(3)," ").concat(n.unit," per ").concat(e.type)});let i=["".concat(n.amount," ").concat(n.unit)];for(let e=1;e<=a;e++){const a=t[e];i.push("\xd7 ".concat(a.amount))}console.log("=== END DEBUG ===");let o=n.amount;for(let e=1;e<a;e++)o*=t[e].amount;const c=o*e.amount;return"".concat(o," ").concat(n.unit," \xd7 ").concat(e.amount," ").concat(e.type," = ").concat(c," ").concat(n.unit)}return console.log("This is the base package"),console.log("=== END DEBUG ==="),"".concat(e.amount," ").concat(e.unit)})():"".concat(e.packSize?"".concat(e.packSize," x "):"").concat(e.amount," ").concat(e.unit)}),e.description&&(0,gn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]}),(0,gn.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{if(e.parentType){var t;u("sub");let a={};if("base"===e.parentType&&null!==l&&void 0!==l&&l.basePackaging)a={parentType:"base",parentAmount:l.basePackaging.amount,parentUnit:l.basePackaging.unit,parentDescription:"amount - ".concat(l.basePackaging.amount," unit - ").concat(l.basePackaging.unit," name - base")};else if("base"===e.parentType&&null!==l&&void 0!==l&&l.unitCount&&null!==l&&void 0!==l&&l.baseUnit)a={parentType:"base",parentAmount:l.unitCount,parentUnit:l.baseUnit.name||l.baseUnit.Symbol||l.baseUnit.symbol,parentDescription:"amount - ".concat(l.unitCount," unit - ").concat(l.baseUnit.name||l.baseUnit.Symbol||l.baseUnit.symbol," name - base")};else if("pack"===e.parentType&&null!==l&&void 0!==l&&l.packPackaging)a={parentType:"pack",parentAmount:l.packPackaging.amount,parentUnit:l.packPackaging.unit,parentPackSize:l.packPackaging.packSize,parentDescription:"amount - ".concat(l.packPackaging.amount," unit - ").concat(l.packPackaging.unit," name - pack")};else if("additional"===e.parentType&&null!==l&&void 0!==l&&l.additionalPackaging){const t=l.additionalPackaging.find((t=>t._id===e.parentPackaging));t&&(a={parentType:"additional",parentId:t._id,parentAmount:t.amount,parentUnit:t.unit,parentPackSize:t.packSize,parentDescription:"amount - ".concat(t.amount," unit - ").concat(t.unit," name - ").concat(t.type)})}h({amount:e.amount.toString(),unit:e.unit,packSize:(null===(t=e.packSize)||void 0===t?void 0:t.toString())||"",type:e.type,description:e.description||"",parentPackaging:a})}else{var a;u(e.type||"additional"),h({amount:e.amount.toString(),unit:e.unit,packSize:(null===(a=e.packSize)||void 0===a?void 0:a.toString())||"",type:e.type,description:e.description||"",parentPackaging:null})}x(e._id),c(!0)})(e),className:"text-sm hover:underline ".concat(a?"text-blue-600":"text-white"),children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>T("additional",e),className:"text-sm hover:underline ".concat(a?"text-green-600":"text-white"),children:"Add Sub-Packaging"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this packaging?"))try{console.log("Deleting additional packaging:",e),await un.delete("".concat(xn,"/packaging/").concat(e)),await S(),alert("Packaging deleted successfully!")}catch(t){console.error("Error deleting packaging:",t),alert("Error deleting packaging")}})(e._id),className:"text-sm hover:underline ".concat(a?"text-red-600":"text-white"),children:"Delete"})]})]})},t)})),!(null!==l&&void 0!==l&&l.unitCount)&&!(null!==l&&void 0!==l&&l.basePackaging)&&!(null!==l&&void 0!==l&&l.packPackaging)&&(!(null!==l&&void 0!==l&&l.additionalPackaging)||0===l.additionalPackaging.length)&&(0,gn.jsx)("div",{className:"text-center py-8 text-gray-500 border border-gray-200 rounded-lg",children:'No packaging configured. Click "Add More Packaging" to create packaging options.'})]})]});case"Suppliers":return(0,gn.jsxs)("div",{className:"mt-6",children:[(0,gn.jsx)("h2",{className:"text-xl font-semibold text-[#5B2685] mb-4",children:"Suppliers"}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full border border-[#E0E0E0] text-sm",children:[(0,gn.jsx)("thead",{className:"bg-[#F2F2F2] text-[#5B2685] font-semibold",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 text-left",children:"Package Item Name"}),(0,gn.jsx)("th",{className:"p-2 text-left",children:"Supplier Name"}),(0,gn.jsx)("th",{className:"p-2 text-left",children:"Item Name"}),(0,gn.jsx)("th",{className:"p-2 text-left",children:"Supplier Item Code"}),(0,gn.jsx)("th",{className:"p-2 text-left",children:"Pricing UOM"}),(0,gn.jsx)("th",{className:"p-2 text-left",children:"Unit Price (SAR)"}),(0,gn.jsx)("th",{className:"p-2 text-left",children:"Total Units"})]})}),(0,gn.jsxs)("tbody",{children:[(null===l||void 0===l?void 0:l.unitCount)&&(null===l||void 0===l?void 0:l.baseUnit)&&(0,gn.jsxs)(gn.Fragment,{children:[P("base").length>0?P("base").map(((e,t)=>{const a=g.find((t=>t._id===e));return(0,gn.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,gn.jsx)("td",{className:"p-2",children:0===t?"".concat(l.unitCount," x ").concat(l.baseUnit.name," of ").concat(l.nameEn||l.name):""}),(0,gn.jsx)("td",{className:"p-2",children:(null===a||void 0===a?void 0:a.legalName)||"Unknown Supplier"}),(0,gn.jsx)("td",{className:"p-2",children:l.nameEn||l.name}),(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("input",{type:"text",placeholder:"Item Code",className:"w-full p-1 border border-gray-300 rounded text-sm"})}),(0,gn.jsx)("td",{className:"p-2",children:l.baseUnit.name}),(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-full p-1 border border-gray-300 rounded text-sm"})}),(0,gn.jsx)("td",{className:"p-2 text-center",children:l.unitCount})]},"base-".concat(e))})):(0,gn.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,gn.jsxs)("td",{className:"p-2",children:[l.unitCount," x ",l.baseUnit.name," of ",l.nameEn||l.name]}),(0,gn.jsxs)("td",{className:"p-2 relative supplier-dropdown",children:[(0,gn.jsx)("button",{onClick:()=>_("base"),className:"text-blue-600 hover:text-blue-800 underline",children:"Add Suppliers"}),"base"===v&&(0,gn.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg z-10 min-w-48 max-h-60 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-2 border-b bg-gray-50 text-xs font-medium",children:"Select multiple suppliers"}),g.map((e=>(0,gn.jsx)("label",{className:"block w-full text-left px-3 py-2 hover:bg-gray-100 text-sm cursor-pointer ".concat(P("base").includes(e._id)?"bg-blue-50 text-blue-700":""),children:(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:P("base").includes(e._id),onChange:t=>A("base",e._id,t),className:"cursor-pointer"}),e.legalName]})},e._id)))]})]}),(0,gn.jsx)("td",{className:"p-2 text-gray-400",colSpan:"5",children:"Select suppliers to add pricing details"})]}),P("base").length>0&&(0,gn.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,gn.jsx)("td",{className:"p-2"}),(0,gn.jsxs)("td",{className:"p-2 relative supplier-dropdown",children:[(0,gn.jsx)("button",{onClick:()=>_("base"),className:"text-green-600 hover:text-green-800 underline text-sm",children:"+ Add More Suppliers"}),"base"===v&&(0,gn.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg z-10 min-w-48 max-h-60 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-2 border-b bg-gray-50 text-xs font-medium",children:"Select multiple suppliers"}),g.map((e=>(0,gn.jsx)("label",{className:"block w-full text-left px-3 py-2 hover:bg-gray-100 text-sm cursor-pointer ".concat(P("base").includes(e._id)?"bg-blue-50 text-blue-700":""),children:(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:P("base").includes(e._id),onChange:t=>A("base",e._id,t),className:"cursor-pointer"}),e.legalName]})},e._id)))]})]}),(0,gn.jsx)("td",{className:"p-2",colSpan:"5"})]})]}),(null===l||void 0===l?void 0:l.packPackaging)&&(0,gn.jsxs)(gn.Fragment,{children:[P("pack").length>0?P("pack").map(((e,t)=>{const a=g.find((t=>t._id===e));return(0,gn.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,gn.jsx)("td",{className:"p-2",children:0===t?"".concat(l.nameEn||l.name," ").concat(l.packPackaging.packSize," x ").concat(l.packPackaging.amount).concat(l.packPackaging.unit):""}),(0,gn.jsx)("td",{className:"p-2",children:(null===a||void 0===a?void 0:a.legalName)||"Unknown Supplier"}),(0,gn.jsx)("td",{className:"p-2",children:l.nameEn||l.name}),(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("input",{type:"text",placeholder:"Item Code",className:"w-full p-1 border border-gray-300 rounded text-sm"})}),(0,gn.jsxs)("td",{className:"p-2",children:[l.packPackaging.packSize," x ",l.packPackaging.unit]}),(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-full p-1 border border-gray-300 rounded text-sm"})}),(0,gn.jsx)("td",{className:"p-2 text-center",children:l.packPackaging.packSize*l.packPackaging.amount})]},"pack-".concat(e))})):(0,gn.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,gn.jsxs)("td",{className:"p-2",children:[l.nameEn||l.name," ",l.packPackaging.packSize," x ",l.packPackaging.amount,l.packPackaging.unit]}),(0,gn.jsxs)("td",{className:"p-2 relative supplier-dropdown",children:[(0,gn.jsx)("button",{onClick:()=>_("pack"),className:"text-blue-600 hover:text-blue-800 underline",children:"Add Suppliers"}),"pack"===v&&(0,gn.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg z-10 min-w-48 max-h-60 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-2 border-b bg-gray-50 text-xs font-medium",children:"Select multiple suppliers"}),g.map((e=>(0,gn.jsx)("label",{className:"block w-full text-left px-3 py-2 hover:bg-gray-100 text-sm cursor-pointer ".concat(P("pack").includes(e._id)?"bg-blue-50 text-blue-700":""),children:(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:P("pack").includes(e._id),onChange:t=>A("pack",e._id,t),className:"cursor-pointer"}),e.legalName]})},e._id)))]})]}),(0,gn.jsx)("td",{className:"p-2 text-gray-400",colSpan:"5",children:"Select suppliers to add pricing details"})]}),P("pack").length>0&&(0,gn.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,gn.jsx)("td",{className:"p-2"}),(0,gn.jsxs)("td",{className:"p-2 relative supplier-dropdown",children:[(0,gn.jsx)("button",{onClick:()=>_("pack"),className:"text-green-600 hover:text-green-800 underline text-sm",children:"+ Add More Suppliers"}),"pack"===v&&(0,gn.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg z-10 min-w-48 max-h-60 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-2 border-b bg-gray-50 text-xs font-medium",children:"Select multiple suppliers"}),g.map((e=>(0,gn.jsx)("label",{className:"block w-full text-left px-3 py-2 hover:bg-gray-100 text-sm cursor-pointer ".concat(P("pack").includes(e._id)?"bg-blue-50 text-blue-700":""),children:(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:P("pack").includes(e._id),onChange:t=>A("pack",e._id,t),className:"cursor-pointer"}),e.legalName]})},e._id)))]})]}),(0,gn.jsx)("td",{className:"p-2",colSpan:"5"})]})]}),(null===l||void 0===l?void 0:l.additionalPackaging)&&l.additionalPackaging.map(((e,t)=>{const a=e.parentPackaging||e.parentType;let n=e.packSize?e.packSize*e.amount:e.amount,r=1,i="";if(a){if("base"===e.parentType&&null!==l&&void 0!==l&&l.basePackaging)r=l.basePackaging.packSize?l.basePackaging.packSize*l.basePackaging.amount:l.basePackaging.amount,i="".concat(l.basePackaging.packSize?"".concat(l.basePackaging.packSize," x "):"").concat(l.basePackaging.amount," ").concat(l.basePackaging.unit);else if("pack"===e.parentType&&null!==l&&void 0!==l&&l.packPackaging)r=l.packPackaging.packSize*l.packPackaging.amount,i="".concat(l.packPackaging.packSize," x ").concat(l.packPackaging.amount," ").concat(l.packPackaging.unit);else if("additional"===e.parentType&&null!==l&&void 0!==l&&l.additionalPackaging){const t=l.additionalPackaging.find((t=>t._id===e.parentPackaging));t&&(r=t.packSize?t.packSize*t.amount:t.amount,i="".concat(t.packSize?"".concat(t.packSize," x "):"").concat(t.amount," ").concat(t.unit))}n*=r}const o="additional_".concat(e._id);return console.log("Generated packaging key:",o,"for package:",e),(0,gn.jsxs)(s.Fragment,{children:[P(o).length>0?P(o).map(((t,s)=>{const c=g.find((e=>e._id===t));return(0,gn.jsxs)("tr",{className:"border-t border-gray-200 ".concat(a?"bg-blue-50":""),children:[(0,gn.jsx)("td",{className:"p-2",children:0===s?(0,gn.jsxs)("div",{children:[a&&(0,gn.jsx)("span",{className:"text-blue-600 text-xs",children:"\u21b3 Sub: "}),"".concat(e.packSize?"".concat(e.packSize," x "):"").concat(e.amount," ").concat(e.unit," of ").concat(l.nameEn||l.name),a&&(0,gn.jsxs)("div",{className:"text-xs text-blue-500 mt-1",children:["\xd7 ",r," (",i,") = ",n," total units"]})]}):""}),(0,gn.jsx)("td",{className:"p-2",children:(null===c||void 0===c?void 0:c.legalName)||"Unknown Supplier"}),(0,gn.jsx)("td",{className:"p-2",children:l.nameEn||l.name}),(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("input",{type:"text",placeholder:"Item Code",className:"w-full p-1 border border-gray-300 rounded text-sm"})}),(0,gn.jsx)("td",{className:"p-2",children:e.unit}),(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-full p-1 border border-gray-300 rounded text-sm"})}),(0,gn.jsxs)("td",{className:"p-2 text-center",children:[(0,gn.jsx)("span",{className:"font-medium",children:n}),(0,gn.jsx)("div",{className:"text-xs text-gray-500",children:"Total Available"})]})]},"".concat(o,"-").concat(t))})):(0,gn.jsxs)("tr",{className:"border-t border-gray-200 ".concat(a?"bg-blue-50":""),children:[(0,gn.jsx)("td",{className:"p-2",children:(0,gn.jsx)("div",{children:a?(0,gn.jsxs)("span",{children:[i," \xd7 ",e.packSize?"".concat(e.packSize," x "):"",e.amount," ",e.unit," of ",l.nameEn||l.name," = ",n," total units"]}):(0,gn.jsxs)("span",{children:[e.packSize?"".concat(e.packSize," x "):"",e.amount," ",e.unit," of ",l.nameEn||l.name]})})}),(0,gn.jsxs)("td",{className:"p-2 relative supplier-dropdown",children:[(0,gn.jsx)("button",{onClick:()=>_(o),className:"text-blue-600 hover:text-blue-800 underline",children:"Add Suppliers"}),v===o&&(0,gn.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg z-10 min-w-48 max-h-60 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-2 border-b bg-gray-50 text-xs font-medium",children:"Select multiple suppliers"}),g.map((e=>(0,gn.jsx)("label",{className:"block w-full text-left px-3 py-2 hover:bg-gray-100 text-sm cursor-pointer ".concat(P(o).includes(e._id)?"bg-blue-50 text-blue-700":""),children:(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:P(o).includes(e._id),onChange:t=>A(o,e._id,t),className:"cursor-pointer"}),e.legalName]})},e._id)))]})]}),(0,gn.jsx)("td",{className:"p-2 text-gray-400",colSpan:"5",children:"Select suppliers"})]}),P(o).length>0&&(0,gn.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,gn.jsx)("td",{className:"p-2"}),(0,gn.jsxs)("td",{className:"p-2 relative supplier-dropdown",children:[(0,gn.jsx)("button",{onClick:()=>_(o),className:"text-green-600 hover:text-green-800 underline text-sm",children:"+ Add More Suppliers"}),v===o&&(0,gn.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg z-10 min-w-48 max-h-60 overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-2 border-b bg-gray-50 text-xs font-medium",children:"Select multiple suppliers"}),g.map((e=>(0,gn.jsx)("label",{className:"block w-full text-left px-3 py-2 hover:bg-gray-100 text-sm cursor-pointer ".concat(P(o).includes(e._id)?"bg-blue-50 text-blue-700":""),children:(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:P(o).includes(e._id),onChange:t=>A(o,e._id,t),className:"cursor-pointer"}),e.legalName]})},e._id)))]})]}),(0,gn.jsx)("td",{className:"p-2",colSpan:"5"})]})]},t)})),!(null!==l&&void 0!==l&&l.unitCount)&&!(null!==l&&void 0!==l&&l.packPackaging)&&(!(null!==l&&void 0!==l&&l.additionalPackaging)||0===l.additionalPackaging.length)&&(0,gn.jsx)("tr",{children:(0,gn.jsx)("td",{colSpan:"7",className:"p-4 text-center text-gray-500",children:"No packaging configured. Please add packaging in the Packaging tab to add supplier pricing."})})]})]})}),(0,gn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,gn.jsx)("button",{onClick:async()=>{try{await w(),alert("Suppliers saved successfully!")}catch(e){alert("Error saving suppliers. Please try again.")}},className:"px-4 py-2 bg-[#5B2685] text-white rounded hover:bg-[#4A1D6B] transition-colors",children:"Save Suppliers"})})]});default:return(0,gn.jsx)("div",{className:"text-gray-600 mt-6",children:"Coming Soon..."})}})()}),o&&(0,gn.jsx)(R,{})]})}function Er(){const{id:e}=re(),[t,a]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{try{const t=await un.get("".concat(xn,"/items/").concat(e));a(t.data)}catch(t){console.error("Error fetching item:",t)}})()}),[e]),t?(0,gn.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,gn.jsx)(wr,{item:t}),(0,gn.jsx)(Cr,{item:t}),(0,gn.jsx)("div",{className:"flex gap-6 mt-6"})]}):(0,gn.jsx)("div",{className:"p-4",children:"Loading item..."})}const Ar=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[r,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)("");(0,s.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=localStorage.getItem("token"),a=await un.get("".concat(xn,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data),l(!1)}catch(e){n("Failed to fetch users"),l(!1)}},d=e.filter((e=>{var t,a,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(i.toLowerCase()))||(null===(n=e.role)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase()))})),u=[{key:"name",header:"Name",sortable:!0,render:e=>(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,gn.jsx)("span",{className:"text-blue-600 font-medium text-sm",children:"string"===typeof e.name&&e.name.length>0?e.name.charAt(0).toUpperCase():"U"})}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,gn.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]})]})},{key:"email",header:"Email",sortable:!0,render:e=>(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.email})},{key:"role",header:"Role",sortable:!0,render:e=>(0,gn.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("admin"===e.role?"bg-green-100 text-green-800":"manager"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"string"===typeof e.role&&e.role.length>0?e.role.charAt(0).toUpperCase()+e.role.slice(1):"User"})},{key:"status",header:"Status",render:e=>(0,gn.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(!1!==e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:!1!==e.isActive?"Active":"Inactive"})},{key:"createdAt",header:"Joined",sortable:!0,render:e=>(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})}];return r?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Loading users..."})]})}):a?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsxs)("div",{className:"text-red-500 mb-6",children:[(0,gn.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,gn.jsx)("p",{className:"text-xl font-medium",children:a})]}),(0,gn.jsx)("button",{onClick:c,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Try Again"})]})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold",children:"User Management"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Manage and view all system users"})]}),(0,gn.jsx)("div",{className:"flex items-center gap-4",children:(0,gn.jsx)("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:(0,gn.jsxs)("span",{className:"font-semibold",children:["Total Users: ",e.length]})})})]}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,gn.jsx)(qn,{title:"System Users",columns:u,data:d,loading:r,searchQuery:i,onSearch:e=>{o(e)},mobileCardRender:(e,t)=>(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[(0,gn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,gn.jsx)("span",{className:"text-blue-600 font-medium text-lg",children:"string"===typeof e.name&&e.name.length>0?e.name.charAt(0).toUpperCase():"U"})}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,gn.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,gn.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("admin"===e.role?"bg-green-100 text-green-800":"manager"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"string"===typeof e.role&&e.role.length>0?e.role.charAt(0).toUpperCase()+e.role.slice(1):"User"})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Status"}),(0,gn.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(!1!==e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:!1!==e.isActive?"Active":"Inactive"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-xs text-gray-500",children:"Joined"}),(0,gn.jsx)("p",{className:"text-sm font-medium",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]})]},e._id),showActions:!1})})]})},Pr=()=>{const[e,t]=(0,s.useState)([]);return(0,s.useEffect)((()=>{un.get("".concat(xn,"/items")).then((e=>t(e.data)))}),[]),(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Items by Sub Category"}),["Methaai","Butter","Fresh Vegetables","Water"].map((t=>(0,gn.jsxs)("div",{className:"mb-8",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-2",children:t}),(0,gn.jsxs)("div",{className:"overflow-x-auto",children:[(0,gn.jsxs)("table",{className:"w-full border border-gray-300 mb-2",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"p-2 border",children:"Item Name (Eng)"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Item Name (Alt)"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Base Unit"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Category"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Sub Category"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Section"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Tax"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Assign Branch"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Assign Brand"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Number of Units"}),(0,gn.jsx)("th",{className:"p-2 border",children:"Image"})]})}),(0,gn.jsx)("tbody",{children:e.filter((e=>e.subCategory===t)).map((e=>{var t,a,n,r,s,l,i,o;return(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"p-2 border",children:e.nameEn||e.name}),(0,gn.jsx)("td",{className:"p-2 border",children:e.nameAlt}),(0,gn.jsx)("td",{className:"p-2 border",children:null===(t=e.baseUnit)||void 0===t?void 0:t.name}),(0,gn.jsx)("td",{className:"p-2 border",children:null===(a=e.category)||void 0===a?void 0:a.nameEn}),(0,gn.jsx)("td",{className:"p-2 border",children:e.subCategory}),(0,gn.jsx)("td",{className:"p-2 border",children:(null===(n=e.assignSection)||void 0===n?void 0:n.nameEn)||(null===(r=e.assignSection)||void 0===r?void 0:r.name)||"-"}),(0,gn.jsx)("td",{className:"p-2 border",children:null===(s=e.tax)||void 0===s?void 0:s.name}),(0,gn.jsx)("td",{className:"p-2 border",children:null===(l=e.assignBranch)||void 0===l?void 0:l.name}),(0,gn.jsx)("td",{className:"p-2 border",children:null===(i=e.assignBrand)||void 0===i?void 0:i.name}),(0,gn.jsx)("td",{className:"p-2 border",children:e.unitCount}),(0,gn.jsx)("td",{className:"p-2 border",children:null!==(o=e.image)&&void 0!==o&&o.url?(0,gn.jsx)("img",{src:e.image.url,alt:"",className:"h-8"}):""})]},e._id)}))})]}),0===e.filter((e=>e.subCategory===t)).length&&(0,gn.jsx)("div",{className:"text-gray-500",children:"No items in this sub category."})]})]},t)))]})},_r=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)({nameEn:"",nameAlt:"",category:""}),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)(!1),h=async()=>{try{d(!0);const[e,a]=await Promise.all([un.get("".concat(xn,"/sub-categories")),un.get("".concat(xn,"/item-categories"))]);t(e.data),n(a.data)}catch(e){console.error("Error fetching data:",e),alert("Error loading data")}finally{d(!1)}};(0,s.useEffect)((()=>{h()}),[]);const p=e=>{const{name:t,value:a}=e.target;l((e=>qt(qt({},e),{},{[t]:a})))};return c?(0,gn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,gn.jsx)("div",{className:"text-lg text-gray-600",children:"Loading..."})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Sub Categories Management"}),(0,gn.jsxs)("div",{className:"text-sm text-gray-600",children:["Total: ",e.length," sub categories"]})]}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:i?"Edit Sub Category":"Add New Sub Category"}),(0,gn.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),null!==(t=r.nameEn)&&void 0!==t&&t.trim()&&r.category)try{m(!0),i?await un.put("".concat(xn,"/sub-categories/").concat(i),r):await un.post("".concat(xn,"/sub-categories"),r),l({nameEn:"",nameAlt:"",category:""}),o(null),h()}catch(a){console.error("Error saving sub category:",a),alert("Error saving sub category")}finally{m(!1)}else alert("Sub Category Name and Main Category are required")},className:"space-y-4",children:[(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Category Name (English) *"}),(0,gn.jsx)("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent",name:"nameEn",placeholder:"Enter sub category name",value:r.nameEn,onChange:p,required:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Category Name (Alternative)"}),(0,gn.jsx)("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent",name:"nameAlt",placeholder:"Enter alternative name",value:r.nameAlt,onChange:p})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Category *"}),(0,gn.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent",name:"category",value:r.category,onChange:p,required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Main Category"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn},e._id)))]})]}),(0,gn.jsxs)("div",{className:"flex gap-3",children:[(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-6 py-2 rounded-lg hover:bg-[#5a4bcc] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",disabled:u,children:u?"Saving...":i?"Update Sub Category":"Add Sub Category"}),i&&(0,gn.jsx)("button",{type:"button",className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",onClick:()=>{o(null),l({nameEn:"",nameAlt:"",category:""})},children:"Cancel"})]})]})]}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,gn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,gn.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Sub Categories List"})}),0===e.length?(0,gn.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,gn.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc2"}),(0,gn.jsx)("div",{className:"text-lg font-medium mb-1",children:"No sub categories found"}),(0,gn.jsx)("div",{className:"text-sm",children:"Add your first sub category using the form above"})]}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"w-full",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name (English)"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name (Alternative)"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Main Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(((e,t)=>{var a;return(0,gn.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.nameEn}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.nameAlt||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,gn.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:(null===(a=e.category)||void 0===a?void 0:a.nameEn)||"N/A"})}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{var t;l({nameEn:e.nameEn,nameAlt:e.nameAlt||"",category:(null===(t=e.category)||void 0===t?void 0:t._id)||""}),o(e._id)})(e),className:"text-[#735dff] hover:text-[#5a4bcc] transition-colors",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this sub category?"))try{await un.delete("".concat(xn,"/sub-categories/").concat(e)),h()}catch(t){console.error("Error deleting sub category:",t),alert("Error deleting sub category")}})(e._id),className:"text-red-600 hover:text-red-800 transition-colors",children:"Delete"})]})]},e._id)}))})]})})]})]})},Tr=()=>{const[e,t]=(0,s.useState)("create-orders"),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[h,p]=(0,s.useState)([]),[x,g]=(0,s.useState)({item:"",quantity:"",notes:""}),[f,b]=(0,s.useState)([]),[y,v]=(0,s.useState)({branch:"",status:"",dateFrom:"",dateTo:""}),[j,N]=(0,s.useState)([]),[w,k]=(0,s.useState)({branch:"",item:""}),[S,C]=(0,s.useState)({autoApprovalLimit:"",orderDeadline:"",defaultBranch:"",notifications:!0});(0,s.useEffect)((()=>{E()}),[]);const E=async()=>{try{var e;d(!0);const[t,a,r]=await Promise.all([un.get("".concat(xn,"/branch")),un.get("".concat(xn,"/items")),un.get("".concat(xn,"/orders"))]);n(t.data||[]),l(a.data||[]),o(r.data||[]),b(r.data||[]),N((null===(e=r.data)||void 0===e?void 0:e.filter((e=>"pending"===e.status)))||[])}catch(t){console.error("Error fetching data:",t)}finally{d(!1)}},A=()=>(0,gn.jsx)("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg",children:[{id:"create-orders",label:"Create Orders",icon:"\ud83d\udcdd"},{id:"submit-order",label:"Submit Order",icon:"\ud83d\udce4"},{id:"order-history",label:"Order History",icon:"\ud83d\udccb"},{id:"order-fulfilment",label:"Order Fulfilment",icon:"\u2705"},{id:"stock-count",label:"Stock Count",icon:"\ud83d\udcca"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"}].map((a=>(0,gn.jsxs)("button",{onClick:()=>t(a.id),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(e===a.id?"bg-[#735dff] text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"),children:[(0,gn.jsx)("span",{className:"mr-2",children:a.icon}),a.label]},a.id)))}),P=()=>(0,gn.jsx)("div",{className:"space-y-6",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Order"}),(0,gn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Branch"}),(0,gn.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,gn.jsx)("option",{value:"",children:"Select a branch..."}),a.map((e=>(0,gn.jsxs)("option",{value:e._id,children:[e.name," (",e.code,")"]},e._id)))]})]})}),(0,gn.jsxs)("div",{className:"border-t pt-4",children:[(0,gn.jsx)("h4",{className:"text-md font-medium mb-3",children:"Add Items"}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[(0,gn.jsxs)("select",{value:x.item,onChange:e=>g(qt(qt({},x),{},{item:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2",children:[(0,gn.jsx)("option",{value:"",children:"Select item..."}),r.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]}),(0,gn.jsx)("input",{type:"number",placeholder:"Quantity",value:x.quantity,onChange:e=>g(qt(qt({},x),{},{quantity:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2"}),(0,gn.jsx)("input",{type:"text",placeholder:"Notes (optional)",value:x.notes,onChange:e=>g(qt(qt({},x),{},{notes:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2"}),(0,gn.jsx)("button",{onClick:()=>{if(x.item&&x.quantity){const e=r.find((e=>e._id===x.item));p([...h,qt(qt({},x),{},{itemName:(null===e||void 0===e?void 0:e.nameEn)||(null===e||void 0===e?void 0:e.name)||"Unknown Item",id:Date.now()})]),g({item:"",quantity:"",notes:""})}else alert("Please select an item and enter quantity")},className:"bg-[#735dff] text-white px-4 py-2 rounded-md hover:bg-[#5a47d6]",children:"Add Item"})]})]}),h.length>0&&(0,gn.jsxs)("div",{className:"mt-6",children:[(0,gn.jsx)("h4",{className:"text-md font-medium mb-3",children:"Order Items"}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{className:"bg-gray-50",children:[(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Item"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Quantity"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Notes"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:h.map((e=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.itemName}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.quantity}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.notes||"-"}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(0,gn.jsx)("button",{onClick:()=>{return t=e.id,void p(h.filter((e=>e.id!==t)));var t},className:"text-red-500 hover:underline",children:"Remove"})})]},e.id)))})]})}),(0,gn.jsx)("div",{className:"mt-4 flex justify-end",children:(0,gn.jsx)("button",{onClick:async()=>{if(u&&0!==h.length)try{const e={branch:u,items:h.map((e=>({item:e.item,quantity:parseInt(e.quantity),notes:e.notes}))),status:"draft",createdAt:new Date};await un.post("".concat(xn,"/orders"),e),p([]),m(""),alert("Order created successfully!"),E()}catch(e){console.error("Error creating order:",e),alert("Error creating order")}else alert("Please select a branch and add at least one item")},className:"bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600",children:"Create Order"})})]})]})}),_=()=>{const e=i.filter((e=>"draft"===e.status));return(0,gn.jsx)("div",{className:"space-y-6",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Submit Orders"}),0===e.length?(0,gn.jsx)("p",{className:"text-gray-500",children:"No draft orders available to submit."}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{className:"bg-gray-50",children:[(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Order ID"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Branch"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Items Count"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Created"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>{var t,a,n;return(0,gn.jsxs)("tr",{children:[(0,gn.jsxs)("td",{className:"py-2 px-4 border-b",children:["#",null===(t=e._id)||void 0===t?void 0:t.slice(-6)]}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(null===(a=e.branch)||void 0===a?void 0:a.name)||"Unknown"}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(null===(n=e.items)||void 0===n?void 0:n.length)||0}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:new Date(e.createdAt).toLocaleDateString()}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(0,gn.jsx)("button",{onClick:()=>(async e=>{try{await un.put("".concat(xn,"/orders/").concat(e),{status:"submitted"}),alert("Order submitted successfully!"),E()}catch(t){console.error("Error submitting order:",t),alert("Error submitting order")}})(e._id),className:"bg-[#735dff] text-white px-4 py-1 rounded hover:bg-[#5a47d6]",children:"Submit"})})]},e._id)}))})]})})]})})},T=()=>{const e=(0,s.useMemo)((()=>{let e=f;return y.branch&&(e=e.filter((e=>{var t;return(null===(t=e.branch)||void 0===t?void 0:t._id)===y.branch}))),y.status&&(e=e.filter((e=>e.status===y.status))),y.dateFrom&&(e=e.filter((e=>new Date(e.createdAt)>=new Date(y.dateFrom)))),y.dateTo&&(e=e.filter((e=>new Date(e.createdAt)<=new Date(y.dateTo)))),e}),[y.branch,y.status,y.dateFrom,y.dateTo,f]),t=e=>{switch(e){case"draft":default:return"bg-gray-100 text-gray-800";case"submitted":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"fulfilled":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-red-100 text-red-800"}};return(0,gn.jsx)("div",{className:"space-y-6",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order History"}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,gn.jsxs)("select",{value:y.branch,onChange:e=>v(qt(qt({},y),{},{branch:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2",children:[(0,gn.jsx)("option",{value:"",children:"All Branches"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,gn.jsxs)("select",{value:y.status,onChange:e=>v(qt(qt({},y),{},{status:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2",children:[(0,gn.jsx)("option",{value:"",children:"All Status"}),(0,gn.jsx)("option",{value:"draft",children:"Draft"}),(0,gn.jsx)("option",{value:"submitted",children:"Submitted"}),(0,gn.jsx)("option",{value:"approved",children:"Approved"}),(0,gn.jsx)("option",{value:"fulfilled",children:"Fulfilled"}),(0,gn.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,gn.jsx)("input",{type:"date",value:y.dateFrom,onChange:e=>v(qt(qt({},y),{},{dateFrom:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2"}),(0,gn.jsx)("input",{type:"date",value:y.dateTo,onChange:e=>v(qt(qt({},y),{},{dateTo:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2"})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{className:"bg-gray-50",children:[(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Order ID"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Branch"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Items"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Status"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Created"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>{var a,n,r,s;return(0,gn.jsxs)("tr",{children:[(0,gn.jsxs)("td",{className:"py-2 px-4 border-b",children:["#",null===(a=e._id)||void 0===a?void 0:a.slice(-6)]}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(null===(n=e.branch)||void 0===n?void 0:n.name)||"Unknown"}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(null===(r=e.items)||void 0===r?void 0:r.length)||0}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(t(e.status)),children:null===(s=e.status)||void 0===s?void 0:s.toUpperCase()})}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:new Date(e.createdAt).toLocaleDateString()}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(0,gn.jsx)("button",{className:"text-[#735dff] hover:underline",children:"View Details"})})]},e._id)}))})]})})]})})},O=()=>(0,gn.jsx)("div",{className:"space-y-6",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Fulfilment"}),0===j.length?(0,gn.jsx)("p",{className:"text-gray-500",children:"No pending orders to fulfill."}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{className:"bg-gray-50",children:[(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Order ID"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Branch"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Items"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Priority"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:j.map((e=>{var t,a,n;return(0,gn.jsxs)("tr",{children:[(0,gn.jsxs)("td",{className:"py-2 px-4 border-b",children:["#",null===(t=e._id)||void 0===t?void 0:t.slice(-6)]}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(null===(a=e.branch)||void 0===a?void 0:a.name)||"Unknown"}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(null===(n=e.items)||void 0===n?void 0:n.length)||0}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:"NORMAL"})}),(0,gn.jsxs)("td",{className:"py-2 px-4 border-b space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(async e=>{try{await un.put("".concat(xn,"/orders/").concat(e),{status:"fulfilled"}),alert("Order fulfilled successfully!"),E()}catch(t){console.error("Error fulfilling order:",t),alert("Error fulfilling order")}})(e._id),className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600",children:"Fulfill"}),(0,gn.jsx)("button",{className:"text-[#735dff] hover:underline",children:"View Details"})]})]},e._id)}))})]})})]})}),B=()=>{const e=(0,s.useMemo)((()=>r.length>0?r.map((e=>({_id:e._id,name:e.nameEn||e.name,currentStock:Math.floor(100*Math.random()),minStock:Math.floor(20*Math.random()),maxStock:Math.floor(150*Math.random())+100,lastUpdated:new Date}))):[]),[r]);return(0,gn.jsx)("div",{className:"space-y-6",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Stock Count"}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,gn.jsxs)("select",{value:w.branch,onChange:e=>k(qt(qt({},w),{},{branch:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2",children:[(0,gn.jsx)("option",{value:"",children:"All Branches"}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,gn.jsx)("input",{type:"text",placeholder:"Search items...",value:w.item,onChange:e=>k(qt(qt({},w),{},{item:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2"})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{className:"bg-gray-50",children:[(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Item"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Current Stock"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Min Stock"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Max Stock"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Status"}),(0,gn.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Last Updated"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>{const t=(a=e.currentStock,n=e.minStock,r=e.maxStock,a<=n?{status:"Low",color:"bg-red-100 text-red-800"}:a>=r?{status:"High",color:"bg-blue-100 text-blue-800"}:{status:"Normal",color:"bg-green-100 text-green-800"});var a,n,r;return(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.name}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.currentStock}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.minStock}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:e.maxStock}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(t.color),children:t.status})}),(0,gn.jsx)("td",{className:"py-2 px-4 border-b",children:new Date(e.lastUpdated).toLocaleDateString()})]},e._id)}))})]})})]})})},R=()=>(0,gn.jsx)("div",{className:"space-y-6",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Branch Orders Settings"}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto Approval Limit ($)"}),(0,gn.jsx)("input",{type:"number",value:S.autoApprovalLimit,onChange:e=>C(qt(qt({},S),{},{autoApprovalLimit:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Enter amount"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Deadline (Hours)"}),(0,gn.jsx)("input",{type:"number",value:S.orderDeadline,onChange:e=>C(qt(qt({},S),{},{orderDeadline:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Enter hours"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Branch"}),(0,gn.jsxs)("select",{value:S.defaultBranch,onChange:e=>C(qt(qt({},S),{},{defaultBranch:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,gn.jsx)("option",{value:"",children:"Select default branch..."}),a.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("input",{type:"checkbox",checked:S.notifications,onChange:e=>C(qt(qt({},S),{},{notifications:e.target.checked})),className:"mr-2"}),(0,gn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable Email Notifications"})]})]}),(0,gn.jsx)("div",{className:"mt-6 flex justify-end",children:(0,gn.jsx)("button",{onClick:async()=>{try{alert("Settings saved successfully!")}catch(e){console.error("Error saving settings:",e),alert("Error saving settings")}},className:"bg-[#735dff] text-white px-6 py-2 rounded-md hover:bg-[#5a47d6]",children:"Save Settings"})})]})});return c?(0,gn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,gn.jsx)("div",{className:"text-lg",children:"Loading..."})}):(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Branch Orders"}),(0,gn.jsx)("div",{className:"text-sm text-gray-600",children:"Manage orders, stock, and branch operations"})]}),(0,gn.jsx)(A,{}),(()=>{switch(e){case"create-orders":default:return(0,gn.jsx)(P,{});case"submit-order":return(0,gn.jsx)(_,{});case"order-history":return(0,gn.jsx)(T,{});case"order-fulfilment":return(0,gn.jsx)(O,{});case"stock-count":return(0,gn.jsx)(B,{});case"settings":return(0,gn.jsx)(R,{})}})()]})},Or=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[f,b]=(0,s.useState)({name:"",code:"",description:"",isActive:!0,branch:""}),y=async()=>{try{d(!0),p("");const e=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)},[r,s]=await Promise.all([Ln.sections.getAll(),un.get("".concat(xn,"/branch"),{headers:a})]),l=Array.isArray(r.data)?r.data:[],i=Array.isArray(s.data)?s.data:[];t(l),n(i)}catch(h){console.error("Error fetching data:",h),p("Failed to load data. Please refresh the page."),t([]),n([])}finally{d(!1)}};(0,s.useEffect)((()=>{y()}),[]);const v=e=>{const{name:t,value:a,type:n,checked:r}=e.target;b((e=>qt(qt({},e),{},{[t]:"checkbox"===n?r:a})))},j=()=>{b({name:"",code:"",description:"",isActive:!0,branch:""}),o(null),l(!1),p("")};return c?(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,gn.jsx)("div",{className:"text-lg",children:"Loading sections..."})})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,gn.jsx)("button",{onClick:()=>l(!0),className:"bg-[#735dff] text-white px-4 py-2 rounded-lg hover:bg-[#5a4bcc] transition-colors",children:"Add Section"})}),h&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),x&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:x}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section Name"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{var t;return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.code})}),(0,gn.jsx)("td",{className:"px-6 py-4",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:e.description||"-"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.branch)||void 0===t?void 0:t.name)||"-"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("button",{onClick:()=>(async e=>{try{await Ln.sections.update(e._id,qt(qt({},e),{},{isActive:!e.isActive})),y()}catch(h){console.error("Error toggling section status:",h),p("Failed to update section status")}})(e),className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{var t;b({name:e.name,code:e.code,description:e.description||"",isActive:e.isActive,branch:(null===(t=e.branch)||void 0===t?void 0:t._id)||""}),o(e._id),l(!0)})(e),className:"text-[#735dff] hover:text-[#5a4bcc] mr-3",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this section?"))try{await Ln.sections.delete(e),g("Section deleted successfully!"),y(),setTimeout((()=>g("")),3e3)}catch(h){console.error("Error deleting section:",h),p("Failed to delete section")}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id)}))})]})})}),r&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold",children:i?"Edit Section":"Add Section"}),(0,gn.jsx)("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0),p("");try{i?(await Ln.sections.update(i,f),g("Section updated successfully!")):(await Ln.sections.create(f),g("Section created successfully!")),y(),j(),setTimeout((()=>g("")),3e3)}catch(h){var t,a;console.error("Error saving section:",h),p((null===(t=h.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to save section")}finally{m(!1)}},className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Name *"}),(0,gn.jsx)("input",{type:"text",name:"name",value:f.name,onChange:v,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent",required:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Code *"}),(0,gn.jsx)("input",{type:"text",name:"code",value:f.code,onChange:v,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent",required:!0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,gn.jsx)("textarea",{name:"description",value:f.description,onChange:v,rows:"3",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,gn.jsxs)("select",{name:"branch",value:f.branch,onChange:v,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#735dff] focus:border-transparent",children:[(0,gn.jsx)("option",{value:"",children:"Select Branch (Optional)"}),a.map((e=>(0,gn.jsxs)("option",{value:e._id,children:[e.name," (",e.code,")"]},e._id)))]})]}),(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("input",{type:"checkbox",name:"isActive",checked:f.isActive,onChange:v,className:"h-4 w-4 text-[#735dff] focus:ring-[#735dff] border-gray-300 rounded"}),(0,gn.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,gn.jsx)("button",{type:"button",onClick:j,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,gn.jsx)("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-[#735dff] text-white rounded-md hover:bg-[#5a4bcc] transition-colors disabled:opacity-50",children:u?"Saving...":i?"Update":"Create"})]})]})]})})]})},Br=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)({nameEn:"",nameUr:""}),u=async()=>{try{const e=await un.get("".concat(xn,"/purchase-categories"));t(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Error fetching purchase categories:",e),t([])}};(0,s.useEffect)((()=>{u()}),[]);const m=e=>{const{name:t,value:a}=e.target;d((e=>qt(qt({},e),{},{[t]:a})))},h=()=>{d({nameEn:"",nameUr:""}),n(!1),l(!1),o(null)};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Purchase Categories"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>n(!0),children:"Add Purchase Category"})]}),a&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/2",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r?"Edit Purchase Category":"Add New Purchase Category"}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsx)("input",{type:"text",name:"nameEn",value:c.nameEn,onChange:m,placeholder:"Name (English)",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"nameUr",value:c.nameUr,onChange:m,placeholder:"Name (Urdu)",className:"border p-2 rounded"})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:h,className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{if(c.nameEn.trim())try{r?await un.put("".concat(xn,"/purchase-categories/").concat(i),c):await un.post("".concat(xn,"/purchase-categories"),c),h(),u()}catch(e){console.error("Error saving purchase category:",e),alert("Failed to save purchase category")}},className:"bg-green-500 text-white px-4 py-2 rounded",children:r?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name (English)"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name (Urdu)"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Total Items"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.nameEn}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.nameUr}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.totalItems||0}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{l(!0),o(e._id),d({nameEn:e.nameEn,nameUr:e.nameUr}),n(!0)})(e),className:"text-[#735dff] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this purchase category?"))try{await un.delete("".concat(xn,"/purchase-categories/").concat(e)),u()}catch(t){console.error("Error deleting purchase category:",t),alert("Failed to delete purchase category")}})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)))})]})]})},Rr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)({nameEn:"",nameUr:""}),u=async()=>{try{const e=await un.get("".concat(xn,"/item-categories"));t(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Error fetching menu categories:",e),t([])}};(0,s.useEffect)((()=>{u()}),[]);const m=e=>{const{name:t,value:a}=e.target;d((e=>qt(qt({},e),{},{[t]:a})))},h=()=>{d({nameEn:"",nameUr:""}),n(!1),l(!1),o(null)};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Menu Categories"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>n(!0),children:"Add Menu Category"})]}),a&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/2",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r?"Edit Menu Category":"Add New Menu Category"}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsx)("input",{type:"text",name:"nameEn",value:c.nameEn,onChange:m,placeholder:"Name (English)",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"nameUr",value:c.nameUr,onChange:m,placeholder:"Name (Urdu)",className:"border p-2 rounded"})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:h,className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{if(c.nameEn.trim())try{r?await un.put("".concat(xn,"/item-categories/").concat(i),c):await un.post("".concat(xn,"/item-categories"),c),h(),u()}catch(e){console.error("Error saving menu category:",e),alert("Failed to save menu category")}},className:"bg-green-500 text-white px-4 py-2 rounded",children:r?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name (English)"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name (Urdu)"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Total Items"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.nameEn}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.nameUr}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.totalItems||0}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{l(!0),o(e._id),d({nameEn:e.nameEn,nameUr:e.nameUr}),n(!0)})(e),className:"text-[#735dff] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this menu category?"))try{await un.delete("".concat(xn,"/item-categories/").concat(e)),u()}catch(t){console.error("Error deleting menu category:",t),alert("Failed to delete menu category")}})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)))})]})]})},Ir=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)({nameEn:"",nameUr:""}),u=async()=>{try{const e=await un.get("".concat(xn,"/branch-categories"));t(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Error fetching branch categories:",e),t([])}};(0,s.useEffect)((()=>{u()}),[]);const m=e=>{const{name:t,value:a}=e.target;d((e=>qt(qt({},e),{},{[t]:a})))},h=()=>{d({nameEn:"",nameUr:""}),n(!1),l(!1),o(null)};return(0,gn.jsxs)("div",{className:"p-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h2",{className:"text-xl font-bold",children:"Branch Categories"}),(0,gn.jsx)("button",{className:"bg-[#735dff] text-white px-4 py-2 rounded",onClick:()=>n(!0),children:"Add Branch Category"})]}),a&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center",children:(0,gn.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-1/2",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:r?"Edit Branch Category":"Add New Branch Category"}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,gn.jsx)("input",{type:"text",name:"nameEn",value:c.nameEn,onChange:m,placeholder:"Name (English)",className:"border p-2 rounded"}),(0,gn.jsx)("input",{type:"text",name:"nameUr",value:c.nameUr,onChange:m,placeholder:"Name (Urdu)",className:"border p-2 rounded"})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gn.jsx)("button",{onClick:h,className:"text-gray-500",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{if(c.nameEn.trim())try{r?await un.put("".concat(xn,"/branch-categories/").concat(i),c):await un.post("".concat(xn,"/branch-categories"),c),h(),u()}catch(e){console.error("Error saving branch category:",e),alert("Failed to save branch category")}},className:"bg-green-500 text-white px-4 py-2 rounded",children:r?"Update":"Save"})]})]})}),(0,gn.jsxs)("table",{className:"min-w-full bg-white border mt-4",children:[(0,gn.jsx)("thead",{children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name (English)"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Name (Urdu)"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Total Items"}),(0,gn.jsx)("th",{className:"py-2 border-b",children:"Actions"})]})}),(0,gn.jsx)("tbody",{children:e.map((e=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.nameEn}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.nameUr}),(0,gn.jsx)("td",{className:"py-2 border-b text-center",children:e.totalItems||0}),(0,gn.jsxs)("td",{className:"py-2 border-b text-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{l(!0),o(e._id),d({nameEn:e.nameEn,nameUr:e.nameUr}),n(!0)})(e),className:"text-[#735dff] hover:underline",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this branch category?"))try{await un.delete("".concat(xn,"/branch-categories/").concat(e)),u()}catch(t){console.error("Error deleting branch category:",t),alert("Failed to delete branch category")}})(e._id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e._id)))})]})]})},Dr=()=>(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Branch Management"}),(0,gn.jsx)("p",{className:"text-gray-600 mb-4",children:"Manage branch operations and configurations."}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,gn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,gn.jsx)("h3",{className:"font-semibold text-blue-800",children:"Create Order"}),(0,gn.jsx)("p",{className:"text-sm text-blue-600",children:"Create new orders for the branch"})]}),(0,gn.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,gn.jsx)("h3",{className:"font-semibold text-green-800",children:"Order Submission"}),(0,gn.jsx)("p",{className:"text-sm text-green-600",children:"Submit orders to central kitchen"})]}),(0,gn.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,gn.jsx)("h3",{className:"font-semibold text-purple-800",children:"Order History"}),(0,gn.jsx)("p",{className:"text-sm text-purple-600",children:"Track order history and status"})]}),(0,gn.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,gn.jsx)("h3",{className:"font-semibold text-orange-800",children:"Inventory Control"}),(0,gn.jsx)("p",{className:"text-sm text-orange-600",children:"Manage inventory and stock levels"})]})]})]})}),Lr=()=>(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Central Kitchen"}),(0,gn.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:"Manage central kitchen operations and production"})]})}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,gn.jsxs)("div",{className:"text-center py-16",children:[(0,gn.jsx)("div",{className:"mx-auto h-32 w-32 bg-orange-100 rounded-full flex items-center justify-center mb-8",children:(0,gn.jsx)("span",{className:"text-6xl",children:"\ud83d\udc68\u200d\ud83c\udf73"})}),(0,gn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Coming Soon"}),(0,gn.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Central Kitchen management features are currently under development. This module will include production planning, recipe management, and kitchen operations tracking."}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udccb"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Production Planning"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Plan and schedule production activities"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcd6"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Recipe Management"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Manage recipes and cooking instructions"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\u2699\ufe0f"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Kitchen Operations"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Track kitchen efficiency and operations"})]})]})]})})]}),Ur=()=>(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Reports and Analysis"}),(0,gn.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:"Comprehensive reporting and analytics for branch operations"})]})}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,gn.jsxs)("div",{className:"text-center py-16",children:[(0,gn.jsx)("div",{className:"mx-auto h-32 w-32 bg-purple-100 rounded-full flex items-center justify-center mb-8",children:(0,gn.jsx)("span",{className:"text-6xl",children:"\ud83d\udcca"})}),(0,gn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Coming Soon"}),(0,gn.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Advanced reporting and analytics features are currently under development. This module will provide comprehensive insights into branch performance, order analytics, and operational metrics."}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcc8"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Performance Analytics"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Track branch performance metrics"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udccb"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Order Reports"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Detailed order analysis and trends"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcb0"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Financial Reports"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Revenue and cost analysis"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Custom Dashboards"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Personalized reporting views"})]})]})]})})]}),zr=()=>(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Settings"}),(0,gn.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:"Configure branch order system settings and preferences"})]})}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,gn.jsxs)("div",{className:"text-center py-16",children:[(0,gn.jsx)("div",{className:"mx-auto h-32 w-32 bg-gray-100 rounded-full flex items-center justify-center mb-8",children:(0,gn.jsx)("span",{className:"text-6xl",children:"\u2699\ufe0f"})}),(0,gn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Coming Soon"}),(0,gn.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"System settings and configuration features are currently under development. This module will allow you to customize branch order workflows, notifications, and system preferences."}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udd14"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notifications"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Configure order notifications and alerts"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udd04"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Workflow Settings"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Customize order approval workflows"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udc65"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"User Permissions"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Manage user roles and access rights"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"System Preferences"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Configure system defaults and options"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udd10"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Security Settings"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Manage security and authentication"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcf1"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Integration"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Connect with external systems"})]})]})]})})]}),Mr=["Urgent","Routine","Schedule"],Fr=()=>{const{user:e}=jn(),[t,a]=(0,s.useState)(null),[n,r]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)("Urgent"),[d]=(0,s.useState)("Draft"),[u,m]=(0,s.useState)(""),[h]=(0,s.useState)(new Date),[p,x]=(0,s.useState)(""),[g,f]=(0,s.useState)((new Date).toISOString().split("T")[0]),[b,y]=(0,s.useState)({}),[v,j]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[C,E]=(0,s.useState)([]),[A,P]=(0,s.useState)(!0),[_,T]=(0,s.useState)(""),[O,B]=(0,s.useState)(""),[R,I]=(0,s.useState)(!1),[D,L]=(0,s.useState)(""),[U,z]=(0,s.useState)(""),[M,F]=(0,s.useState)([]),[q,V]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{P(!0);const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},[a,n,r,s]=await Promise.all([un.get("".concat(xn,"/items"),{headers:t}).catch((e=>(console.error("Error fetching items:",e),{data:[]}))),un.get("".concat(xn,"/branch"),{headers:t}).catch((()=>({data:[]}))),un.get("".concat(xn,"/item-categories"),{headers:t}).catch((()=>({data:[]}))),un.get("".concat(xn,"/sections"),{headers:t}).catch((()=>({data:[]})))]);console.log("API Responses:",{items:a.data,branches:n.data,categories:r.data,sections:s.data}),S(Array.isArray(a.data)?a.data.filter((e=>e&&e._id&&"object"===typeof e)):[]),j(Array.isArray(n.data)?n.data:[]),w(Array.isArray(s.data)?s.data:[]),E(Array.isArray(r.data)?r.data.filter((e=>e&&e._id)):[]),console.log("Loaded categories:",r.data),console.log("Loaded sections:",s.data)}catch(rs){console.error("Failed to load required data:",rs)}finally{P(!1)}})()}),[]),(0,s.useEffect)((()=>{l&&(m((()=>{const e=new Date;return"ORD-".concat(e.getFullYear()).concat(String(e.getMonth()+1).padStart(2,"0")).concat(String(e.getDate()).padStart(2,"0"),"-").concat(Math.floor(900*Math.random()+100))})()),console.log("Modal opened - Items state:",{allItems:k.length,selectedBranch:null===t||void 0===t?void 0:t.name,categoriesCount:C.length}))}),[l,k.length,t,C.length]);const H=(0,s.useMemo)((()=>k.filter((e=>{if(!e)return!1;const a=!t||e.assignBranch&&!Array.isArray(e.assignBranch)&&e.assignBranch._id===t._id||Array.isArray(e.assignBranch)&&e.assignBranch.some((e=>"string"===typeof e?e===t._id:!("object"!==typeof e||!e)&&e._id===t._id))||e.branch&&e.branch._id===t._id||Array.isArray(e.branches)&&e.branches.some((e=>"string"===typeof e?e===t._id:!("object"!==typeof e||!e)&&e._id===t._id)),n=!M||0===M.length||e.assignSection&&M.some((t=>t===e.assignSection._id))||e.section&&M.some((t=>t===e.section._id))||e.sectionId&&M.some((t=>t===e.sectionId)),r=!U||(e.nameEn||e.name||"").toLowerCase().includes(U.toLowerCase())||(e.itemCode||e.code||"").toLowerCase().includes(U.toLowerCase());return a&&n&&r}))),[k,t,U,M]),Q=(0,s.useMemo)((()=>q?v.filter((e=>e.name.toLowerCase().includes(q.toLowerCase()))):v),[v,q]),W=()=>{i(!1),y({}),T(""),B(""),z(""),r(null)},K=()=>{if(Object.keys(b).length===H.length&&H.length>0)y({});else{const e={};H.filter((e=>e&&e._id)).forEach((t=>{var a;e[t._id]={qty:1,item:t,subCategory:(null===t||void 0===t||null===(a=t.subCategory)||void 0===a?void 0:a._id)||(null===t||void 0===t?void 0:t.subCategory)||""}})),y(e)}},G=(e,t)=>{y(t>0?a=>{const n=a[e];if(!n||!n.item){var r;const n=k.find((t=>t&&t._id===e));return n?qt(qt({},a),{},{[e]:{qty:t,item:qt({},n),subCategory:(null===n||void 0===n||null===(r=n.subCategory)||void 0===r?void 0:r._id)||(null===n||void 0===n?void 0:n.subCategory)||""}}):(console.error("Item not found for ID:",e),a)}return qt(qt({},a),{},{[e]:qt(qt({},n),{},{qty:t})})}:t=>{const a=qt({},t);return delete a[e],a})},Y=Object.keys(b).length,J=Object.values(b).reduce(((e,t)=>e+(t.qty||0)),0);return A?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Loading order creation..."})]})}):(0,gn.jsx)(On,{fallback:(0,gn.jsx)("div",{className:"text-red-600 font-bold p-8",children:"Access denied. Master admin only."}),children:(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,gn.jsxs)("div",{className:"max-w-6xl mx-auto py-8 px-4",children:[(0,gn.jsx)("div",{className:"mb-8",children:(0,gn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 shadow-2xl",children:[(0,gn.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-10 h-10 mr-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Order"]}),(0,gn.jsx)("p",{className:"text-blue-100 text-lg",children:"Select branch and create your order efficiently"})]})}),(0,gn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 hover:shadow-2xl transition-all duration-300",children:[(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 mb-6",children:(0,gn.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Select Branch"]})}),(0,gn.jsxs)("div",{className:"space-y-4",children:[(0,gn.jsxs)("div",{className:"relative",children:[(0,gn.jsx)("input",{type:"text",placeholder:"Search branches...",value:q,onChange:e=>V(e.target.value),className:"w-full p-4 border-2 border-blue-200 rounded-xl bg-white focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-200 font-medium shadow-sm"}),(0,gn.jsx)("svg",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]}),(0,gn.jsx)("div",{className:"max-h-80 overflow-y-auto border-2 border-blue-200 rounded-xl bg-white shadow-sm",children:Q.length>0?Q.map((e=>(0,gn.jsx)("button",{onClick:()=>(e=>{a(e),i(!0)})(e),className:"w-full text-left p-4 hover:bg-blue-50 focus:bg-blue-50 focus:outline-none border-b border-gray-100 last:border-b-0 transition-all duration-200 ".concat((null===t||void 0===t?void 0:t._id)===e._id?"bg-blue-100 border-blue-300":""),children:(0,gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),(0,gn.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]}),(null===t||void 0===t?void 0:t._id)===e._id&&(0,gn.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},e._id))):(0,gn.jsx)("div",{className:"p-6 text-center text-gray-500",children:q?"No branches found matching your search.":"No branches available."})}),t&&(0,gn.jsx)("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,gn.jsxs)("span",{className:"font-semibold text-green-800",children:["Selected: ",t.name]})]})})]})]})}),l&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] backdrop-blur-sm",children:(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden relative",children:[(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 border-b border-gray-200 rounded-t-xl relative z-20",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Order"]}),(0,gn.jsxs)("p",{className:"text-blue-100 mt-1",children:[null===t||void 0===t?void 0:t.name," ",n?"- ".concat(null===n||void 0===n?void 0:n.name):""]})]}),(0,gn.jsx)("button",{onClick:W,className:"text-white hover:text-blue-200 text-2xl font-bold transition-colors duration-200",type:"button",children:"\xd7"})]})}),(0,gn.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,gn.jsx)("div",{className:"w-1/3 border-r border-gray-200 p-6 overflow-y-auto bg-gray-50",children:(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsxs)("div",{className:"modern-card p-4",children:[(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Order Details"]}),(0,gn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Order No:"}),(0,gn.jsx)("span",{className:"font-medium",children:u})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Branch:"}),(0,gn.jsx)("span",{className:"font-medium",children:null===t||void 0===t?void 0:t.name})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,gn.jsx)("span",{className:"font-medium",children:d})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,gn.jsx)("select",{className:"border rounded px-2 py-1 text-sm",value:o,onChange:e=>c(e.target.value),children:Mr.map((e=>(0,gn.jsx)("option",{value:e,children:e},e)))})]}),"Schedule"===o&&(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Schedule Date:"}),(0,gn.jsx)("input",{type:"date",value:p,onChange:e=>x(e.target.value),className:"border rounded px-2 py-1 text-sm",min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,gn.jsx)("span",{className:"font-medium",children:new Date(h).toLocaleDateString()})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Delivery Date:"}),(0,gn.jsx)("input",{type:"date",value:g,onChange:e=>f(e.target.value),className:"border rounded px-2 py-1 text-sm",min:(new Date).toISOString().split("T")[0]})]})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Items"}),(0,gn.jsxs)("div",{className:"relative",children:[(0,gn.jsx)("input",{type:"text",placeholder:"Search by item name or code...",value:U,onChange:e=>z(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,gn.jsx)("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Section"}),(0,gn.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3 bg-white",children:(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:0===M.length,onChange:e=>{e.target.checked&&F([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,gn.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:"All Sections"})]}),N.map((e=>(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:M.includes(e._id),onChange:t=>{return a=e._id,n=t.target.checked,void F("all"===a?[]:n?e=>[...e,a]:e=>e.filter((e=>e!==a)));var a,n},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,gn.jsx)("span",{className:"text-sm text-gray-700",children:e.nameEn||e.name||"Unknown Section"})]},e._id)))]})}),M.length>0&&(0,gn.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Selected: ",M.length," section",1!==M.length?"s":""]})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsx)("button",{onClick:K,className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:Object.keys(b).length===H.length&&H.length>0?"Deselect All":"Select All Items"}),(0,gn.jsx)("button",{onClick:()=>{const e={};H.forEach((t=>{var a;e[t._id]={qty:1,item:t,subCategory:(null===t||void 0===t||null===(a=t.subCategory)||void 0===a?void 0:a._id)||(null===t||void 0===t?void 0:t.subCategory)||""}})),y(e)},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium",children:"Fill All to Par"})]}),(0,gn.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Order Summary"}),(0,gn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"# of Items:"}),(0,gn.jsx)("span",{className:"font-medium",children:Y})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Total Quantity:"}),(0,gn.jsx)("span",{className:"font-medium",children:J})]})]})]})]})}),(0,gn.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,gn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,gn.jsx)("div",{className:"flex justify-between items-center",children:(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Available Items (",H.length,")"]})})}),(0,gn.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600 sticky top-0",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider w-12",children:(0,gn.jsx)("input",{type:"checkbox",onChange:K,checked:Object.keys(b).length===H.length&&H.length>0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Item Code"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Item Name"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Sub Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Unit"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Quantity"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:H.filter((e=>e&&e._id)).map((e=>{var t,a,n,r,s,l,i,o,c;return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(b[e._id]?"bg-blue-50":""),children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("input",{type:"checkbox",checked:!!b[e._id],onChange:()=>(e=>{e&&e._id&&(b[e._id]?y((t=>{const a=qt({},t);return delete a[e._id],a})):y((t=>{var a;return qt(qt({},t),{},{[e._id]:{qty:1,item:qt({},e),subCategory:(null===e||void 0===e||null===(a=e.subCategory)||void 0===a?void 0:a._id)||(null===e||void 0===e?void 0:e.subCategory)||""}})})))})(e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===e||void 0===e?void 0:e.itemCode)||(null===e||void 0===e?void 0:e.code)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===e||void 0===e?void 0:e.nameEn)||(null===e||void 0===e?void 0:e.name)||"Unknown Item"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.nameEn)||(null===e||void 0===e||null===(a=e.category)||void 0===a?void 0:a.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===e||void 0===e||null===(n=e.subCategory)||void 0===n?void 0:n.nameEn)||(null===e||void 0===e||null===(r=e.subCategory)||void 0===r?void 0:r.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===e||void 0===e||null===(s=e.unit)||void 0===s?void 0:s.name)||(null===e||void 0===e||null===(l=e.baseUnit)||void 0===l?void 0:l.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{var t;const a=(null===(t=b[e])||void 0===t?void 0:t.qty)||0;G(e,a>1?a-1:0)})(e._id),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 hover:text-gray-800 disabled:opacity-50",disabled:(null===(i=b[e._id])||void 0===i?void 0:i.qty)<=1,children:"-"}),(0,gn.jsx)("input",{type:"number",min:"0.01",step:"0.01",className:"w-16 text-center border border-gray-300 rounded px-2 py-1 text-sm",value:(null===(o=b[e._id])||void 0===o?void 0:o.qty)||"",onChange:t=>{const a=parseFloat(t.target.value)||0;G(e._id,a)},placeholder:"0"}),(0,gn.jsx)("button",{onClick:()=>(e=>{var t;const a=(null===(t=b[e])||void 0===t?void 0:t.qty)||0;G(e,a+1)})(e._id),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 hover:text-gray-800 disabled:opacity-50",disabled:(null===(c=b[e._id])||void 0===c?void 0:c.qty)>=999,children:"+"})]})})]},e._id)}))})]}),0===H.length&&(0,gn.jsxs)("div",{className:"text-center py-12",children:[(0,gn.jsx)("div",{className:"text-gray-500 text-lg",children:"No items found matching your criteria"}),(0,gn.jsx)("button",{onClick:()=>{z("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Clear Filters"})]})]})]})]}),(0,gn.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50 relative z-10",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("div",{className:"text-sm text-gray-600",children:[_&&(0,gn.jsx)("div",{className:"text-red-600",children:_}),O&&(0,gn.jsx)("div",{className:"text-green-600",children:O})]}),(0,gn.jsxs)("div",{className:"flex space-x-3",children:[(0,gn.jsx)("button",{onClick:W,className:"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors font-medium",type:"button",children:"Cancel"}),(0,gn.jsx)("button",{onClick:()=>{console.log("Save as Draft button clicked"),L("draft"),I(!0)},className:"px-6 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors font-medium",disabled:0===Y,type:"button",children:"Save as Draft"}),(0,gn.jsx)("button",{onClick:()=>{console.log("Review Order button clicked"),L("approval"),I(!0)},className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors font-medium",disabled:0===Y,type:"button",children:"Review Order"})]})]})})]})}),R&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000] backdrop-blur-sm",children:(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-y-auto relative",children:[(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 border-b border-gray-200 rounded-t-xl",children:(0,gn.jsxs)("h3",{className:"text-xl font-semibold text-white flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",clipRule:"evenodd"})}),"draft"===D?"Confirm Save as Draft":"Order #".concat(u)]})}),(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,gn.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Information"}),(0,gn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Order No:"}),(0,gn.jsx)("span",{className:"font-medium",children:u})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,gn.jsx)("span",{className:"font-medium",children:"draft"===D?"Draft":"Under Review"})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"User:"}),(0,gn.jsx)("span",{className:"font-medium",children:(null===e||void 0===e?void 0:e.name)||"Unknown User"})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,gn.jsx)("span",{className:"font-medium",children:o})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Date & Time:"}),(0,gn.jsx)("span",{className:"font-medium",children:new Date(h).toLocaleString()})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Delivery Date:"}),(0,gn.jsx)("span",{className:"font-medium",children:g?new Date(g).toLocaleDateString():"Not set"})]})]})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,gn.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Location Details"}),(0,gn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Branch:"}),(0,gn.jsx)("span",{className:"font-medium",children:(null===t||void 0===t?void 0:t.name)||"-"})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Section:"}),(0,gn.jsx)("span",{className:"font-medium",children:(null===n||void 0===n?void 0:n.name)||"General"})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Items Count:"}),(0,gn.jsx)("span",{className:"font-medium",children:Y})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Total Quantity:"}),(0,gn.jsx)("span",{className:"font-medium",children:J})]})]})]})]}),(0,gn.jsxs)("div",{className:"mb-6",children:[(0,gn.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Selected Items"}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,gn.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-white uppercase",children:"Item Code"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-white uppercase",children:"Item Name"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-white uppercase",children:"Category"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-white uppercase",children:"Sub Category"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-white uppercase",children:"Unit"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-white uppercase",children:"Order Qty"})]})}),(0,gn.jsx)("tbody",{className:"divide-y divide-gray-200",children:Object.values(b).filter((e=>{if(!e||e.qty<=0)return!1;if(!e.item){const a=(t=e._id||Object.keys(b).find((t=>b[t]===e)),k.find((e=>e&&e._id===t))||null);return!!a&&(e.item=a,!0)}var t;return!0})).map(((e,t)=>{var a,n,r,s,l,i,o,c,d,u,m,h,p,x,g,f;const b=null!==e&&void 0!==e&&e.subCategory?(e=>{if(!e)return"-";if("string"===typeof e&&!e.includes("("))return e;if("object"===typeof e&&null!==e)return e.nameEn||e.name||e._id||"-";if("string"===typeof e){for(const t of C)if(t.subCategories&&Array.isArray(t.subCategories)){const a=t.subCategories.find((t=>t._id===e));if(a)return a.nameEn||a.name||a._id||"-"}return e.replace(/[()]/g,"")||"-"}return"-"})(e.subCategory):(null===e||void 0===e||null===(a=e.item)||void 0===a||null===(n=a.subCategory)||void 0===n?void 0:n.nameEn)||(null===e||void 0===e||null===(r=e.item)||void 0===r||null===(s=r.subCategory)||void 0===s?void 0:s.name)||"-";return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:(0,gn.jsx)("input",{type:"text",value:(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.itemCode)||(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.code)||"-",readOnly:!0,className:"w-full bg-gray-100 border-none text-gray-900 text-sm"})}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:(0,gn.jsx)("input",{type:"text",value:(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.nameEn)||(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.name)||"Unknown Item",readOnly:!0,className:"w-full bg-gray-100 border-none text-gray-900 text-sm font-medium"})}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:(0,gn.jsx)("input",{type:"text",value:(null===e||void 0===e||null===(d=e.item)||void 0===d||null===(u=d.category)||void 0===u?void 0:u.nameEn)||(null===e||void 0===e||null===(m=e.item)||void 0===m||null===(h=m.category)||void 0===h?void 0:h.name)||"-",readOnly:!0,className:"w-full bg-gray-100 border-none text-gray-500 text-sm"})}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:(0,gn.jsx)("input",{type:"text",value:b,readOnly:!0,className:"w-full bg-gray-100 border-none text-gray-500 text-sm"})}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:(0,gn.jsx)("input",{type:"text",value:(null===e||void 0===e||null===(p=e.item)||void 0===p||null===(x=p.unit)||void 0===x?void 0:x.name)||(null===e||void 0===e||null===(g=e.item)||void 0===g||null===(f=g.baseUnit)||void 0===f?void 0:f.name)||"-",readOnly:!0,className:"w-full bg-gray-100 border-none text-gray-500 text-sm"})}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:(0,gn.jsx)("input",{type:"number",value:e.qty,readOnly:!0,className:"w-full bg-gray-100 border-none text-gray-900 text-sm font-medium"})})]},t)}))})]})})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,gn.jsx)("button",{onClick:()=>I(!1),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",type:"button",children:"Cancel"}),(0,gn.jsx)("button",{onClick:()=>{if(console.log("Confirm action called with pendingAction:",D),!t)return console.log("Validation failed: No branch selected"),T("Please ensure branch is selected."),I(!1),void L("");if(0===Object.keys(b).length)return console.log("Validation failed: No items selected"),T("Please select at least one item."),I(!1),void L("");if(0===Object.values(b).filter((e=>e&&e.qty>0)).length)return console.log("Validation failed: No items with quantity > 0"),T("Please ensure at least one item has quantity greater than 0."),I(!1),void L("");if("Schedule"===o&&!p)return console.log("Validation failed: No schedule date for scheduled order"),T("Please select a schedule date for scheduled orders."),I(!1),void L("");console.log("Validation passed, submitting order...");(async a=>{console.log("doSubmit called with status:",a);try{if(null===t||void 0===t||!t.name)throw console.log("Validation failed: Missing branch information"),new Error("Missing required branch information");const r=localStorage.getItem("token"),s=r?{Authorization:"Bearer ".concat(r)}:{},l={orderNo:u,dateTime:h.toISOString(),scheduleDate:p||null,deliveryDate:g,status:a,orderType:o,branch:null===t||void 0===t?void 0:t.name,section:(null===n||void 0===n?void 0:n.name)||"General",userName:(null===e||void 0===e?void 0:e.name)||"Unknown User",items:Object.values(b).filter((e=>e&&e.item)).map((e=>{var t,a,n,r,s,l,i,o,c,d,u,m,h,p,x,g;return{itemCode:(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.itemCode)||(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.code)||"",itemName:(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.nameEn)||(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.name)||"",unit:(null===e||void 0===e||null===(s=e.item)||void 0===s||null===(l=s.unit)||void 0===l?void 0:l.name)||(null===e||void 0===e||null===(i=e.item)||void 0===i||null===(o=i.baseUnit)||void 0===o?void 0:o.name)||"",category:(null===e||void 0===e||null===(c=e.item)||void 0===c||null===(d=c.category)||void 0===d?void 0:d.nameEn)||(null===e||void 0===e||null===(u=e.item)||void 0===u||null===(m=u.category)||void 0===m?void 0:m.name)||"",subCategory:(null===e||void 0===e?void 0:e.subCategory)||(null===e||void 0===e||null===(h=e.item)||void 0===h||null===(p=h.subCategory)||void 0===p?void 0:p.nameEn)||(null===e||void 0===e||null===(x=e.item)||void 0===x||null===(g=x.subCategory)||void 0===g?void 0:g.name)||"",orderQty:Number(e.qty)}}))};console.log("Submitting order with payload:",l);const i=await un.post("".concat(xn,"/orders"),l,{headers:s});console.log("Order submission response:",i.data),i.data&&(B("Order ".concat("Draft"===a?"saved as draft":"submitted for approval"," successfully!")),setTimeout((()=>{W(),B("")}),2e3))}catch(c){var r,s,l,i;console.error("Submit error:",c),T((null===(r=c.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||(null===(l=c.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)||"Failed to submit order")}})("draft"===D?"Draft":"Under Review"),I(!1),L("")},className:"px-8 py-3 text-white rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 ".concat("draft"===D?"bg-blue-500 hover:bg-blue-600 shadow-lg hover:shadow-xl":"bg-green-500 hover:bg-green-600 shadow-lg hover:shadow-xl"),type:"button",children:"draft"===D?"Yes":"Submit Order"})]})]})]})})]})})})},qr=["Urgent","Regular","Schedule"],Vr=()=>{var e,t,a,n;const[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),[f,b]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(new Set),[w,k]=(0,s.useState)([]),[S,C]=(0,s.useState)([]),[E,A]=(0,s.useState)([]),[P,_]=(0,s.useState)([]),[T,O]=(0,s.useState)([]),[B,R]=(0,s.useState)(""),[I,D]=(0,s.useState)([]),[L,U]=(0,s.useState)({}),[z,M]=(0,s.useState)("Urgent"),[F,q]=(0,s.useState)(""),[V,H]=(0,s.useState)((new Date).toISOString().split("T")[0]);(0,s.useEffect)((()=>{(async()=>{try{o(!0),d("");const e=await Ln.orders.getAll(),t=Array.isArray(null===e||void 0===e?void 0:e.data)?e.data.filter((e=>"Draft"===e.status||"Under Review"===e.status)):[];l(t)}catch(rs){var e,t;d((null===(e=rs.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||rs.message||"Failed to load orders")}finally{o(!1)}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},[a,n,r]=await Promise.all([un.get("".concat(xn,"/items"),{headers:t}).catch((()=>({data:[]}))),un.get("".concat(xn,"/branch"),{headers:t}).catch((()=>({data:[]}))),un.get("".concat(xn,"/sections"),{headers:t}).catch((()=>({data:[]})))]);A(Array.isArray(a.data)?a.data.filter((e=>e&&e._id)):[]),k(Array.isArray(n.data)?n.data:[]),C(Array.isArray(r.data)?r.data:[])}catch(rs){console.error("Failed to load form data:",rs)}})()}),[]),(0,s.useEffect)((()=>{if(null!==f&&void 0!==f&&f.selectedBranch){const e=S.filter((e=>{const t=e.branch,a=e.branchId,n=e.branches;return t===f.selectedBranch._id||t===f.selectedBranch||(a===f.selectedBranch._id||a===f.selectedBranch||(!(!Array.isArray(n)||!n.includes(f.selectedBranch._id||f.selectedBranch))||(!(!t||"object"!==typeof t||t._id!==f.selectedBranch._id)||!(!a||"object"!==typeof a||a._id!==f.selectedBranch._id))))}));_(e)}else _(S)}),[null===f||void 0===f?void 0:f.selectedBranch,S]),(0,s.useEffect)((()=>{if(x&&E.length>0){console.log("=== FILTERING ITEMS FOR EDIT MODAL ==="),console.log("All items available:",E.length),console.log("Search term:",B),console.log("Section filter:",I);let e=E.filter((e=>{if(!e||!e._id)return!1;if(B){const t=B.toLowerCase(),a=(e.nameEn||e.name||"").toLowerCase(),n=(e.itemCode||e.code||"").toLowerCase();if(!a.includes(t)&&!n.includes(t))return!1}if(I.length>0){var t;const a=null===(t=e.assignSection)||void 0===t?void 0:t._id;if(!a||!I.includes(a))return!1}return!0}));O(e),console.log("Filtered items for edit modal:",e.length,"items")}}),[x,E,B,I]),(0,s.useEffect)((()=>{if(f&&x){console.log("=== INITIALIZING FORM DATA ==="),console.log("Editing order:",f),console.log("Editing order items:",f.items),M(f.orderType||"Urgent"),q(f.scheduleDate||""),H(f.deliveryDate||(new Date).toISOString().split("T")[0]);const e={};Array.isArray(f.items)?(console.log("Processing editingOrder items array..."),f.items.forEach(((t,a)=>{console.log("Processing editingOrder item ".concat(a,":"),t);const n=t.itemId||t._id||t.id,r=t.itemName||t.name||t.nameEn,s=t.itemCode||t.code,l=t.qty||t.quantity||0,i=t.unit||t.unitName,o=t.subCategory||t.subCategoryId||"";console.log("EditingOrder item ".concat(a," processed:"),{itemId:n,itemName:r,itemCode:s,qty:l,unit:i,subCategory:o}),n?e[n]={itemId:n,itemName:r,itemCode:s,unit:i,qty:l,subCategory:o}:console.warn("EditingOrder item ".concat(a," has no valid ID:"),t)}))):console.warn("EditingOrder items is not an array:",f.items),console.log("Form data initialized with items:",e),console.log("Form data items keys:",Object.keys(e)),U(e),console.log("=== FORM DATA INITIALIZATION COMPLETE ===")}}),[f,x]),(0,s.useEffect)((()=>{if(f&&x&&w.length>0&&S.length>0){console.log("=== RE-INITIALIZING FORM DATA ==="),console.log("Current editing order:",f),console.log("Available branches:",w.length),console.log("Available sections:",S.length);let e=null;f.selectedBranch&&(e="string"===typeof f.selectedBranch?w.find((e=>e._id===f.selectedBranch||e.name===f.selectedBranch||e.nameEn===f.selectedBranch)):w.find((e=>e._id===f.selectedBranch._id||e.name===f.selectedBranch.name||e.nameEn===f.selectedBranch.nameEn)));let t=null;f.selectedSection&&(t="string"===typeof f.selectedSection?S.find((e=>e._id===f.selectedSection||e.name===f.selectedSection||e.nameEn===f.selectedSection)):S.find((e=>e._id===f.selectedSection._id||e.name===f.selectedSection.name||e.nameEn===f.selectedSection.nameEn))),console.log("Re-found branch:",e),console.log("Re-found section:",t);const a=qt(qt({},f),{},{selectedBranch:e,selectedSection:t});console.log("Updated editing order:",a),b(a),e&&t&&console.log("Triggering item filtering with branch and section"),console.log("=== RE-INITIALIZATION COMPLETE ===")}}),[f,x,w,S]),(0,s.useEffect)((()=>{if(x&&f&&T.length>0&&f.items){console.log("=== AUTO-SELECTING EXISTING ITEMS ==="),console.log("Filtered items:",T.length),console.log("Editing order items:",f.items),console.log("Current selectedItems:",Object.keys(L).length);const e=qt({},L);let t=0;T.forEach((a=>{if(!a||!a._id)return;const n=Array.isArray(f.items)?f.items.find((e=>e.itemId===a._id||(e._id===a._id||(e.id===a._id||(e.itemCode===a.itemCode||(e.code===a.itemCode||(e.itemName===(a.nameEn||a.name)||(e.name===(a.nameEn||a.name)||e.nameEn===(a.nameEn||a.name))))))))):null;if(n&&!e[a._id]){var r,s,l;console.log("Auto-selecting item: ".concat(a.itemCode," with quantity: ").concat(n.qty||n.quantity||1));const i=n.qty||n.quantity||1;e[a._id]={itemId:a._id,itemName:a.nameEn||a.name,itemCode:a.itemCode,unit:(null===(r=a.unit)||void 0===r?void 0:r.name)||(null===(s=a.baseUnit)||void 0===s?void 0:s.name),qty:i,subCategory:(null===(l=a.subCategory)||void 0===l?void 0:l._id)||""},t++}})),t>0&&(console.log("Auto-selected ".concat(t," items")),U(e))}}),[x,null===f||void 0===f?void 0:f.items,T]);const Q=()=>{m(!1),p(null)},W=()=>{g(!1),b(null)},K=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e||h;if(null!==t&&void 0!==t&&t._id){console.log("=== SENDING ORDER TO CENTRAL KITCHEN ==="),console.log("Target order:",t),console.log("Order ID:",t._id),console.log("Current status:",t.status),N((e=>new Set(e).add(t._id)));try{const a=qt(qt({},t),{},{status:"Sent to Central Kitchen"});console.log("Sending payload:",a);const n=await Ln.orders.update(t._id,a);console.log("Update response:",n),l((e=>e.filter((e=>e._id!==t._id)))),e||Q(),console.log("Order successfully sent to Central Kitchen")}catch(rs){var a,n;console.error("Error sending to Central Kitchen:",rs),d((null===(a=rs.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||rs.message||"Failed to send to Central Kitchen")}finally{N((e=>{const a=new Set(e);return a.delete(t._id),a}))}}},G=e=>{const t=Array.isArray(e.items)?e.items.map((e=>e.itemName)).filter(Boolean):[],a=t.slice(0,2).join(", "),n=t.length>2?" +".concat(t.length-2," more"):"";return"".concat(t.length," item").concat(1!==t.length?"s":"").concat(t.length?" (".concat(a).concat(n,")"):"")};return(0,gn.jsxs)(gn.Fragment,{children:[(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Order Submission"}),(0,gn.jsx)("p",{className:"text-gray-600 mb-6",children:"Orders submitted for approval appear here. You can review and edit item details, then send the order to Central Kitchen."}),c&&(0,gn.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),i?(0,gn.jsxs)("div",{className:"text-center py-12",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading orders..."})]}):0===r.length?(0,gn.jsx)("div",{className:"text-center py-12",children:(0,gn.jsx)("p",{className:"text-gray-600",children:"No orders in Under Review."})}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full border border-gray-300",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"Order No"}),(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"User"}),(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"Section"}),(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"Items"}),(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"Created"}),(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"Delivery Date"}),(0,gn.jsx)("th",{className:"px-3 py-2 text-left",children:"Status"}),(0,gn.jsx)("th",{className:"px-3 py-2"})]})}),(0,gn.jsx)("tbody",{children:r.map((e=>(0,gn.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,gn.jsx)("td",{className:"px-3 py-2",children:e.orderNo}),(0,gn.jsx)("td",{className:"px-3 py-2",children:e.userName}),(0,gn.jsx)("td",{className:"px-3 py-2",children:e.section}),(0,gn.jsx)("td",{className:"px-3 py-2",children:G(e)}),(0,gn.jsx)("td",{className:"px-3 py-2",children:new Date(e.createdAt||e.dateTime).toLocaleString()}),(0,gn.jsx)("td",{className:"px-3 py-2",children:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():"Not set"}),(0,gn.jsx)("td",{className:"px-3 py-2",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Draft"===e.status?"bg-yellow-100 text-yellow-800":"Under Review"===e.status?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.status})}),(0,gn.jsx)("td",{className:"px-3 py-2 text-right",children:(0,gn.jsxs)("div",{className:"flex gap-2",children:[(0,gn.jsx)("button",{onClick:()=>(e=>{p(e),m(!0)})(e),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"View"}),"Under Review"===e.status&&(0,gn.jsx)("button",{onClick:()=>(e=>{console.log("=== OPENING EDIT MODAL ==="),console.log("Full order object:",e),console.log("Order branch data:",{branch:e.branch,branchName:e.branchName,branches:e.branches,section:e.section,assignSection:e.assignSection}),console.log("Order items:",e.items),console.log("Order items type:",typeof e.items),console.log("Order items length:",Array.isArray(e.items)?e.items.length:"Not an array"),console.log("Available branches:",w.length),console.log("Available sections:",S.length),Array.isArray(e.items)&&e.items.forEach(((e,t)=>{console.log("Item ".concat(t,":"),e)}));let t=null;e.branch?t=w.find((t=>t._id===e.branch||t.name===e.branch||t.nameEn===e.branch)):e.branchName?t=w.find((t=>t.name===e.branchName||t.nameEn===e.branchName)):e.branches&&e.branches.length>0&&(t=w.find((t=>t._id===e.branches[0]||t.name===e.branches[0]||t.nameEn===e.branches[0])));let a=null;e.section?a=S.find((t=>t._id===e.section||t.name===e.section||t.nameEn===e.section)):e.assignSection&&(a=S.find((t=>t._id===e.assignSection||t.name===e.assignSection||t.nameEn===e.assignSection))),console.log("Found branch:",t),console.log("Found section:",a);const n={_id:e._id,orderNo:e.orderNo,orderType:e.orderType||"Regular",selectedBranch:t,selectedSection:a,deliveryDate:e.deliveryDate,scheduleDate:e.scheduleDate,items:e.items||[],status:e.status,dateTime:e.dateTime||e.createdAt,branch:e.branch,branchName:e.branchName,section:e.section,assignSection:e.assignSection};console.log("Setting editing order data:",n),b(n),M(e.orderType||"Urgent"),q(e.scheduleDate||""),H(e.deliveryDate||(new Date).toISOString().split("T")[0]);const r={};Array.isArray(e.items)?(console.log("Processing order items array..."),e.items.forEach(((e,t)=>{console.log("Processing item ".concat(t,":"),e);const a=e.itemId||e._id||e.id,n=e.itemName||e.name||e.nameEn,s=e.itemCode||e.code,l=e.qty||e.quantity||0,i=e.unit||e.unitName,o=e.subCategory||e.subCategoryId||"";console.log("Item ".concat(t," processed:"),{itemId:a,itemName:n,itemCode:s,qty:l,unit:i,subCategory:o}),a?r[a]={itemId:a,itemName:n,itemCode:s,unit:i,qty:l,subCategory:o}:console.warn("Item ".concat(t," has no valid ID:"),e)}))):console.warn("Order items is not an array:",e.items),console.log("Final selectedItems object:",r),console.log("SelectedItems keys:",Object.keys(r)),U(r),R(""),D([]),console.log("=== EDIT MODAL SETUP COMPLETE ==="),g(!0)})(e),className:"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:"Edit"}),"Draft"===e.status&&(0,gn.jsx)("button",{onClick:()=>(async e=>{if(null!==e&&void 0!==e&&e._id){N((t=>new Set(t).add(e._id)));try{const t=qt(qt({},e),{},{status:"Under Review"});await Ln.orders.update(e._id,t),l((a=>a.map((a=>a._id===e._id?t:a))))}catch(rs){var t,a;d((null===(t=rs.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||rs.message||"Failed to change status to Under Review")}finally{N((t=>{const a=new Set(t);return a.delete(e._id),a}))}}})(e),disabled:j.has(e._id),className:"px-3 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:bg-gray-400 text-sm",children:j.has(e._id)?"Processing...":"Send to Review"}),"Under Review"===e.status&&(0,gn.jsx)("button",{onClick:()=>K(e),disabled:j.has(e._id),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 text-sm",children:j.has(e._id)?"Sending...":"Send to Central Kitchen"})]})})]},e._id)))})]})})]}),(0,gn.jsxs)(gn.Fragment,{children:[u&&h&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl p-6",children:[(0,gn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,gn.jsxs)("h3",{className:"text-xl font-semibold",children:["Order #",h.orderNo]}),(0,gn.jsx)("button",{onClick:Q,className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"font-medium",children:"Status:"})," ",h.status]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"font-medium",children:"Date & Time:"})," ",new Date(h.dateTime).toLocaleString()]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"font-medium",children:"User:"})," ",h.userName]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"font-medium",children:"Order Type:"})," ",h.orderType||h.type||"-"]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"font-medium",children:"Branch:"})," ",h.branchName||h.branch||h.branchNameEn||h.branchNameAr||"-"]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"font-medium",children:"Section:"})," ",h.section]})]}),(0,gn.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,gn.jsxs)("table",{className:"min-w-full border text-xs",children:[(0,gn.jsx)("thead",{className:"bg-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"border px-2 py-1",children:"Item Code"}),(0,gn.jsx)("th",{className:"border px-2 py-1",children:"Item Name"}),(0,gn.jsx)("th",{className:"border px-2 py-1",children:"Item Category"}),(0,gn.jsx)("th",{className:"border px-2 py-1",children:"Unit"}),(0,gn.jsx)("th",{className:"border px-2 py-1",children:"Order Qty"})]})}),(0,gn.jsx)("tbody",{children:h.items.map(((e,t)=>(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"border px-2 py-1",children:(0,gn.jsx)("input",{className:"w-28 border rounded px-1 py-0.5 bg-gray-100",value:e.itemCode,readOnly:!0})}),(0,gn.jsx)("td",{className:"border px-2 py-1",children:(0,gn.jsx)("input",{className:"w-40 border rounded px-1 py-0.5 bg-gray-100",value:e.itemName,readOnly:!0})}),(0,gn.jsx)("td",{className:"border px-2 py-1",children:(0,gn.jsx)("input",{className:"w-36 border rounded px-1 py-0.5 bg-gray-100",value:e.category,readOnly:!0})}),(0,gn.jsx)("td",{className:"border px-2 py-1",children:(0,gn.jsx)("input",{className:"w-28 border rounded px-1 py-0.5 bg-gray-100",value:e.unit,readOnly:!0})}),(0,gn.jsx)("td",{className:"border px-2 py-1",children:(0,gn.jsx)("input",{type:"number",className:"w-20 border rounded px-1 py-0.5 bg-gray-100",value:e.orderQty,readOnly:!0})})]},"".concat(e.itemCode,"-").concat(t))))})]})}),(0,gn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,gn.jsx)("button",{onClick:Q,className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,gn.jsx)("button",{onClick:()=>K(),disabled:j.has(h._id),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400",children:j.has(h._id)?"Sending...":"Submit Order"})]})]})}),x&&f&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] backdrop-blur-sm",children:(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden relative",children:[(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 border-b border-gray-200 rounded-t-xl relative z-20",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Edit Order"]}),(0,gn.jsxs)("p",{className:"text-blue-100 mt-1",children:[null===(e=f.selectedBranch)||void 0===e?void 0:e.name," ",f.selectedSection?"- ".concat(null===(t=f.selectedSection)||void 0===t?void 0:t.name):""]})]}),(0,gn.jsx)("button",{onClick:W,className:"text-white hover:text-blue-200 text-2xl font-bold transition-colors duration-200",type:"button",children:"\xd7"})]})}),(0,gn.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,gn.jsx)("div",{className:"w-1/3 border-r border-gray-200 p-6 overflow-y-auto bg-gray-50",children:(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsxs)("div",{className:"modern-card p-4",children:[(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Order Details"]}),(0,gn.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Order No:"}),(0,gn.jsx)("span",{className:"font-medium",children:f.orderNo})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Branch:"}),(0,gn.jsx)("span",{className:"font-medium",children:(null===(a=f.selectedBranch)||void 0===a?void 0:a.name)||(null===(n=f.selectedBranch)||void 0===n?void 0:n.nameEn)||f.branch||f.branchName||"Not selected"})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,gn.jsx)("span",{className:"font-medium",children:f.status})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,gn.jsx)("select",{className:"border rounded px-2 py-1 text-sm",value:z,onChange:e=>M(e.target.value),children:qr.map((e=>(0,gn.jsx)("option",{value:e,children:e},e)))})]}),"Schedule"===z&&(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Schedule Date:"}),(0,gn.jsx)("input",{type:"date",value:F,onChange:e=>q(e.target.value),className:"border rounded px-2 py-1 text-sm",min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,gn.jsx)("span",{className:"font-medium",children:new Date(f.dateTime||new Date).toLocaleDateString()})]}),(0,gn.jsxs)("div",{className:"flex justify-between",children:[(0,gn.jsx)("span",{className:"text-gray-600",children:"Delivery Date:"}),(0,gn.jsx)("input",{type:"date",value:V,onChange:e=>H(e.target.value),className:"border rounded px-2 py-1 text-sm",min:(new Date).toISOString().split("T")[0]})]})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Items"}),(0,gn.jsxs)("div",{className:"relative",children:[(0,gn.jsx)("input",{type:"text",placeholder:"Search by item name or code...",value:B,onChange:e=>R(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,gn.jsx)("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Section"}),(0,gn.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3 bg-white",children:(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:0===I.length,onChange:e=>{e.target.checked&&D([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,gn.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:"All Sections"})]}),S.map((e=>(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",checked:I.includes(e._id),onChange:t=>{t.target.checked?D((t=>[...t,e._id])):D((t=>t.filter((t=>t!==e._id))))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,gn.jsx)("span",{className:"text-sm text-gray-700",children:e.nameEn||e.name||"Unknown Section"})]},e._id)))]})}),I.length>0&&(0,gn.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Selected: ",I.length," section",1!==I.length?"s":""]})]}),(0,gn.jsx)("div",{children:(0,gn.jsx)("button",{onClick:()=>{const e={};T.forEach((t=>{if(t&&t._id){var a,n,r;const s=Array.isArray(f.items)?f.items.find((e=>e.itemId===t._id)):null;e[t._id]={itemId:t._id,itemName:t.nameEn||t.name,itemCode:t.itemCode,unit:(null===(a=t.unit)||void 0===a?void 0:a.name)||(null===(n=t.baseUnit)||void 0===n?void 0:n.name),qty:s?s.qty:0,subCategory:(null===(r=t.subCategory)||void 0===r?void 0:r._id)||""}}})),U(e)},className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",type:"button",children:"Select All Items"})})]})}),(0,gn.jsx)("div",{className:"w-2/3 p-6 overflow-y-auto",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 rounded-t-lg",children:(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Available Items (",T.length,")"]})}),(0,gn.jsxs)("div",{className:"overflow-x-auto",children:[(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:(0,gn.jsx)("input",{type:"checkbox",checked:T.length>0&&T.every((e=>L[e._id])),onChange:e=>{if(e.target.checked){const e={};T.forEach((t=>{if(t&&t._id){var a,n,r;const s=Array.isArray(f.items)?f.items.find((e=>e.itemId===t._id)):null;e[t._id]={itemId:t._id,itemName:t.nameEn||t.name,itemCode:t.itemCode,unit:(null===(a=t.unit)||void 0===a?void 0:a.name)||(null===(n=t.baseUnit)||void 0===n?void 0:n.name),qty:s?s.qty:0,subCategory:(null===(r=t.subCategory)||void 0===r?void 0:r._id)||""}}})),U(e)}else U({})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Item Code"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Item Name"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Sub Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Unit"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Quantity"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.filter((e=>e&&e._id)).map((e=>{var t,a,n,r,s,l,i;const o=Array.isArray(null===f||void 0===f?void 0:f.items)?f.items.find((t=>t.itemId===e._id||(t._id===e._id||(t.id===e._id||(t.itemCode===e.itemCode||(t.code===e.itemCode||(t.itemName===(e.nameEn||e.name)||(t.name===(e.nameEn||e.name)||t.nameEn===(e.nameEn||e.name))))))))):null,c=!!L[e._id],d=(null===(t=L[e._id])||void 0===t?void 0:t.qty)||0;return o&&console.log("Found existing item for ".concat(e.itemCode,":"),{itemId:e._id,existingItem:o,isSelected:c,currentQty:d}),(0,gn.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(c?"bg-blue-50":""),children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("input",{type:"checkbox",checked:c,onChange:()=>{if(c)U((t=>{const a=qt({},t);return delete a[e._id],a}));else{const t=o&&(o.qty||o.quantity)||1;U((a=>{var n,r,s;return qt(qt({},a),{},{[e._id]:{itemId:e._id,itemName:e.nameEn||e.name,itemCode:e.itemCode,unit:(null===(n=e.unit)||void 0===n?void 0:n.name)||(null===(r=e.baseUnit)||void 0===r?void 0:r.name),qty:t,subCategory:(null===(s=e.subCategory)||void 0===s?void 0:s._id)||""}})}))}},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===e||void 0===e?void 0:e.itemCode)||(null===e||void 0===e?void 0:e.code)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===e||void 0===e?void 0:e.nameEn)||(null===e||void 0===e?void 0:e.name)||"Unknown Item"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===e||void 0===e||null===(a=e.category)||void 0===a?void 0:a.nameEn)||(null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===e||void 0===e||null===(r=e.subCategory)||void 0===r?void 0:r.nameEn)||(null===e||void 0===e||null===(s=e.subCategory)||void 0===s?void 0:s.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===e||void 0===e||null===(l=e.unit)||void 0===l?void 0:l.name)||(null===e||void 0===e||null===(i=e.baseUnit)||void 0===i?void 0:i.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>{const t=Math.max(0,d-1);U((a=>qt(qt({},a),{},{[e._id]:qt(qt({},a[e._id]),{},{qty:t})})))},className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 hover:text-gray-800 disabled:opacity-50",disabled:!c,children:"-"}),(0,gn.jsx)("input",{type:"number",min:"0.01",step:"0.01",className:"w-16 text-center border border-gray-300 rounded px-2 py-1 text-sm",value:d,onChange:t=>{const a=parseFloat(t.target.value)||0;U((t=>qt(qt({},t),{},{[e._id]:qt(qt({},t[e._id]),{},{qty:a})})))},placeholder:"0",disabled:!c}),(0,gn.jsx)("button",{onClick:()=>{const t=d+1;U((a=>qt(qt({},a),{},{[e._id]:qt(qt({},a[e._id]),{},{qty:t})})))},className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 hover:text-gray-800 disabled:opacity-50",disabled:!c,children:"+"})]})})]},e._id)}))})]}),0===T.length&&(0,gn.jsxs)("div",{className:"text-center py-12",children:[(0,gn.jsx)("div",{className:"text-gray-500 text-lg",children:"No items found matching your criteria"}),(0,gn.jsx)("button",{onClick:()=>{R(""),D([])},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Clear Filters"})]})]})]})})]}),(0,gn.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50 relative z-10",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsx)("div",{className:"text-sm text-gray-600",children:c&&(0,gn.jsx)("div",{className:"text-red-600",children:c})}),(0,gn.jsxs)("div",{className:"flex space-x-3",children:[(0,gn.jsx)("button",{onClick:W,className:"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors font-medium",type:"button",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{if(null!==f&&void 0!==f&&f._id)try{v(!0);const e=Object.values(L).map((e=>({itemId:e.itemId,itemName:e.itemName,itemCode:e.itemCode,unit:e.unit,qty:e.qty,subCategory:e.subCategory}))),t=qt(qt({},f),{},{orderType:z,deliveryDate:V,scheduleDate:"Schedule"===z?F:void 0,items:e});await Ln.orders.update(f._id,t),l((e=>e.map((e=>e._id===f._id?t:e)))),W(),alert("Order updated successfully!")}catch(rs){var e,t;d((null===(e=rs.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||rs.message||"Failed to update order")}finally{v(!1)}},className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors font-medium",disabled:0===Object.keys(L).length||y,type:"button",children:y?"Saving...":"Save Changes"})]})]})})]})})]})]})},Hr=()=>{const{user:e}=jn(),[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)({branch:"",status:"",dateFrom:"",dateTo:"",searchTerm:""}),[d,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[p,x]=(0,s.useState)(null);null===e||void 0===e||e.role;(0,s.useEffect)((()=>{g()}),[]);const g=async()=>{try{r(!0);const e=await Ln.orders.getAll(),t=Array.isArray(e.data)?e.data:[];a(t)}catch(n){var e,t;i((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message||"Failed to fetch orders"),a([])}finally{r(!1)}},f=e=>{switch(e){case"Draft":default:return"bg-gray-100 text-gray-800";case"Under Review":return"bg-blue-100 text-blue-800";case"Sent to Central Kitchen":return"bg-purple-100 text-purple-800";case"Under Process":case"Received":return"bg-green-100 text-green-800";case"Shipped":return"bg-yellow-100 text-yellow-800";case"Rejected":return"bg-red-100 text-red-800"}},b=e=>"Under Process"===e?"Accepted from Central Kitchen":e,y=Array.isArray(t)?t.filter((e=>(!o.status||e.status===o.status)&&(!(o.branch&&!e.section.toLowerCase().includes(o.branch.toLowerCase()))&&(!(o.searchTerm&&!e.orderNo.includes(o.searchTerm))&&(!(o.dateFrom&&new Date(e.dateTime)<new Date(o.dateFrom))&&!(o.dateTo&&new Date(e.dateTime)>new Date(o.dateTo))))))):[],v=e=>new Date(e).toLocaleDateString();return n?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Loading order history..."})]})}):(0,gn.jsxs)(On,{fallback:(0,gn.jsx)("div",{className:"text-red-600 font-bold p-8",children:"Access denied. Master admin only."}),children:[(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,gn.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[(0,gn.jsx)("div",{className:"mb-8",children:(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 shadow-2xl",children:(0,gn.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-10 h-10 mr-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Order History & Tracking"]}),(0,gn.jsx)("p",{className:"text-blue-100 text-lg",children:"Monitor order status and track delivery progress"})]})})})}),l&&(0,gn.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),l]}),(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mb-8",children:[(0,gn.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L9.414 9H17a1 1 0 110 2H9.414l2.293 2.293A1 1 0 0112 15H4a1 1 0 01-1-1V4z",clipRule:"evenodd"})}),"Filters"]}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,gn.jsxs)("select",{value:o.status,onChange:e=>c(qt(qt({},o),{},{status:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 font-medium",children:[(0,gn.jsx)("option",{value:"",children:"All Status"}),(0,gn.jsx)("option",{value:"Draft",children:"Draft"}),(0,gn.jsx)("option",{value:"Under Review",children:"Under Review"}),(0,gn.jsx)("option",{value:"Sent to Central Kitchen",children:"Sent to Central Kitchen"}),(0,gn.jsx)("option",{value:"Shipped",children:"Shipped"}),(0,gn.jsx)("option",{value:"Received",children:"Received"}),(0,gn.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Section"}),(0,gn.jsx)("input",{type:"text",placeholder:"Search section...",value:o.branch,onChange:e=>c(qt(qt({},o),{},{branch:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 font-medium"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Order Number"}),(0,gn.jsx)("input",{type:"text",placeholder:"Search order number...",value:o.searchTerm,onChange:e=>c(qt(qt({},o),{},{searchTerm:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 font-medium"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"From Date"}),(0,gn.jsx)("input",{type:"date",value:o.dateFrom,onChange:e=>c(qt(qt({},o),{},{dateFrom:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 font-medium"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"To Date"}),(0,gn.jsx)("input",{type:"date",value:o.dateTo,onChange:e=>c(qt(qt({},o),{},{dateTo:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 font-medium"})]})]})]}),(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,gn.jsxs)("div",{className:"px-6 py-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600",children:[(0,gn.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Order List"]}),(0,gn.jsxs)("p",{className:"text-blue-100 mt-2",children:["Showing ",y.length," orders"]})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Details"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((e=>(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.orderNo}),(0,gn.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id]})]})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.section})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(f(e.status)),children:b(e.status)})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,gn.jsxs)("div",{children:["Order: ",v(e.dateTime)]}),e.scheduleDate&&(0,gn.jsxs)("div",{className:"text-gray-500",children:["Schedule: ",v(e.scheduleDate)]})]})}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,gn.jsxs)("div",{className:"text-sm text-gray-900",children:[Array.isArray(e.items)?e.items.length:0," items"]}),(0,gn.jsxs)("div",{className:"text-sm text-gray-500",children:[Array.isArray(e.items)&&e.items.slice(0,2).map((e=>e.itemName)).join(", "),Array.isArray(e.items)&&e.items.length>2&&"..."]})]})]},e._id)))})]})})]}),0===y.length&&!n&&(0,gn.jsxs)("div",{className:"text-center py-12",children:[(0,gn.jsx)("div",{className:"text-gray-500 text-lg",children:"No orders found matching your criteria"}),(0,gn.jsx)("button",{onClick:()=>c({status:"",dateFrom:"",dateTo:"",branch:"",searchTerm:""}),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Clear Filters"})]})]})}),m&&p&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full max-h-full overflow-y-auto",children:[(0,gn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Details"}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Order Number:"}),(0,gn.jsx)("p",{className:"text-lg font-bold text-gray-900",children:p.orderNo})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Status:"}),(0,gn.jsx)("p",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(f(p.status)),children:b(p.status)})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Section:"}),(0,gn.jsx)("p",{className:"text-lg text-gray-900",children:p.section})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Order Date:"}),(0,gn.jsx)("p",{className:"text-lg text-gray-900",children:v(p.dateTime)})]}),p.scheduleDate&&(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Schedule Date:"}),(0,gn.jsx)("p",{className:"text-lg text-gray-900",children:v(p.scheduleDate)})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Total Items:"}),(0,gn.jsx)("p",{className:"text-lg text-gray-900",children:Array.isArray(p.items)?p.items.length:0})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Items:"}),(0,gn.jsx)("ul",{className:"list-disc list-inside text-gray-800 text-lg",children:Array.isArray(p.items)&&p.items.map(((e,t)=>(0,gn.jsxs)("li",{children:[e.itemName," (",e.quantity,")"]},t)))})]})]}),(0,gn.jsx)("div",{className:"flex justify-end gap-3",children:(0,gn.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Close"})})]})})]})},Qr=()=>(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Inventory Control"}),(0,gn.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:"Manage and monitor branch inventory levels"})]})}),(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,gn.jsxs)("div",{className:"text-center py-16",children:[(0,gn.jsx)("div",{className:"mx-auto h-32 w-32 bg-red-100 rounded-full flex items-center justify-center mb-8",children:(0,gn.jsx)("span",{className:"text-6xl",children:"\ud83d\udcca"})}),(0,gn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Coming Soon"}),(0,gn.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Inventory control features are currently under development. This module will provide comprehensive inventory management, stock monitoring, and automated reorder capabilities."}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udce6"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Stock Monitoring"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time stock level monitoring"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\u26a0\ufe0f"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Low Stock Alerts"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Automated low stock notifications"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udd04"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Auto Reorder"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Automatic reorder suggestions"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcc8"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Usage Analytics"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Track item usage patterns"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udccb"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Stock Count"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Physical inventory counting tools"})]}),(0,gn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,gn.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,gn.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Inventory Reports"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600",children:"Generate inventory reports"})]})]})]})})]}),Wr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)({receivedItems:[],missingItems:[],qualityIssues:[],notes:""}),[u,m]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1);(0,s.useEffect)((()=>{x()}),[]);const x=async()=>{try{l(!0);const e=await Ln.orders.getAll(),a=(Array.isArray(e.data)?e.data:[]).filter((e=>"Shipped"===e.status));t(a)}catch(n){var e,a;console.error("Error fetching orders:",n),o((null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||n.message||"Failed to fetch orders"),t([])}finally{l(!1)}},g=e=>0===e?"\u2713":e>0?"\u25b2":"\u25bc";return r?(0,gn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,gn.jsx)("div",{className:"p-6 bg-gray-50 min-h-screen",children:(0,gn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,gn.jsxs)("div",{className:"mb-8",children:[(0,gn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Receiving Order"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Track received quantities and identify variances or missing items."})]}),i&&(0,gn.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[(0,gn.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,gn.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Shipped Orders"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Orders ready for receiving"})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order No"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(e)&&e.filter((e=>"Shipped"===e.status)).map((t=>{return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.orderNo})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:t.section})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:t.deliveryDate?new Date(t.deliveryDate).toLocaleDateString():(a=t.dateTime,new Date(a).toLocaleDateString())})}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,gn.jsxs)("div",{className:"text-sm text-gray-900",children:[Array.isArray(t.items)?t.items.length:0," items"]}),(0,gn.jsx)("div",{className:"text-sm text-gray-500",children:Array.isArray(t.items)&&t.items.map((e=>"".concat(e.itemName," (").concat(e.shippedQty||e.orderQty," ").concat(e.unit,")"))).join(", ")})]}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,gn.jsx)("button",{onClick:()=>(t=>{const a=e.find((e=>e._id===t));if(a){n(a);const e={};Array.isArray(a.items)&&a.items.forEach((t=>{e[t.itemCode]={itemCode:t.itemCode,itemName:t.itemName,category:t.category,unit:t.unit,orderQty:t.orderQty,shippedQty:t.shippedQty||t.orderQty,receivedQty:"",variance:0,notes:""}})),m(e),d({receivedItems:Array.isArray(a.items)?a.items.map((e=>qt({},e))):[],missingItems:[],qualityIssues:[],notes:""})}})(t._id),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-3 py-1 rounded-md",children:"Receive Order"})})]},t._id);var a}))})]})})]}),a&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Receive Order: ",a.orderNo]}),(0,gn.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Branch: ",a.branch||"N/A"," \u2022 Delivery: ",a.deliveryDate?new Date(a.deliveryDate).toLocaleDateString():"Not set"]})]}),(0,gn.jsx)("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:(0,gn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,gn.jsxs)("div",{className:"mb-6",children:[(0,gn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Items Receiving"}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Code"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Name"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order Qty"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shipped Qty"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Received Qty"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variance"}),(0,gn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(a.items)&&a.items.map((e=>{const t=u[e.itemCode]||{};return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.itemCode}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.itemName}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.category}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.unit}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.orderQty}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-blue-600",children:e.shippedQty||e.orderQty}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,gn.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.receivedQty||"",onChange:t=>((e,t)=>{const a=u[e],n=parseFloat(a.shippedQty)||0,r=(parseFloat(t)||0)-n;m((a=>qt(qt({},a),{},{[e]:qt(qt({},a[e]),{},{receivedQty:t,variance:r})})))})(e.itemCode,t.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,gn.jsxs)("span",{className:"font-medium ".concat((a=t.variance||0,0===a?"text-green-600":a>0?"text-blue-600":"text-red-600")),children:[g(t.variance||0)," ",t.variance||0]})}),(0,gn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,gn.jsx)("input",{type:"text",value:t.notes||"",onChange:t=>{return a=e.itemCode,n=t.target.value,void m((e=>qt(qt({},e),{},{[a]:qt(qt({},e[a]),{},{notes:n})})));var a,n},className:"w-32 border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Notes..."})})]},e.itemCode);var a}))})]})})]}),(0,gn.jsxs)("div",{className:"mb-6",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"General Receiving Notes"}),(0,gn.jsx)("textarea",{value:c.notes,onChange:e=>d(qt(qt({},c),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about the receiving process..."})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,gn.jsx)("button",{onClick:()=>n(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{try{p(!0);const e=a.items.map((e=>{const t=u[e.itemCode];return qt(qt({},e),{},{receivedQty:parseFloat(t.receivedQty)||0,variance:t.variance||0,receivingNotes:t.notes||""})})),r=e.filter((e=>{const t=u[e.itemCode];return(parseFloat(t.receivedQty)||0)<(parseFloat(t.shippedQty)||0)})),s=qt(qt({},a),{},{items:e,status:"Received",receivingNotes:c.notes,missingItems:r.length>0?r.map((e=>({itemCode:e.itemCode,itemName:e.itemName,expectedQty:e.shippedQty,receivedQty:u[e.itemCode].receivedQty,variance:u[e.itemCode].variance}))):[]});await Ln.orders.update(a._id,s),t((e=>e.map((e=>e._id===a._id?qt(qt({},e),{},{status:"Received"}):e)))),n(null),d({receivedItems:[],missingItems:[],qualityIssues:[],notes:""}),m({})}catch(s){var e,r;console.error("Error updating order status:",s),o((null===(e=s.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||s.message||"Failed to update order status")}finally{p(!1)}},disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:h?"Confirming...":"Confirm Receiving"})]})]})})]})})},Kr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)([]),[h,p]=(0,s.useState)({section:"",countDate:(new Date).toISOString().split("T")[0],items:[],notes:""});(0,s.useEffect)((()=>{const e=[{id:1,name:"Chicken Breast",category:"Meat",unit:"kg",currentStock:25,section:"Freezer"},{id:2,name:"Rice",category:"Grains",unit:"kg",currentStock:50,section:"Dry Storage"},{id:3,name:"Tomatoes",category:"Vegetables",unit:"kg",currentStock:15,section:"Refrigerator"},{id:4,name:"Beef",category:"Meat",unit:"kg",currentStock:30,section:"Freezer"},{id:5,name:"Onions",category:"Vegetables",unit:"kg",currentStock:20,section:"Dry Storage"},{id:6,name:"Fish",category:"Seafood",unit:"kg",currentStock:12,section:"Freezer"},{id:7,name:"Potatoes",category:"Vegetables",unit:"kg",currentStock:35,section:"Dry Storage"},{id:8,name:"Milk",category:"Dairy",unit:"L",currentStock:8,section:"Refrigerator"}],a=[{id:1,section:"Freezer",countDate:"2024-01-15",status:"Completed",totalItems:3,variance:2,notes:"Regular monthly count"},{id:2,section:"Dry Storage",countDate:"2024-01-14",status:"In Progress",totalItems:4,variance:0,notes:"Weekly count"}];setTimeout((()=>{n(e),t(a),l(!1)}),1e3)}),[]);const x=e=>{switch(e){case"In Progress":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return r?(0,gn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,gn.jsx)("div",{className:"p-6 bg-gray-50 min-h-screen",children:(0,gn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,gn.jsxs)("div",{className:"mb-8",children:[(0,gn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Stock Count"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Create stock count by section or by particular item and submit it"})]}),(0,gn.jsx)("div",{className:"mb-6",children:(0,gn.jsxs)("button",{onClick:()=>{o(!0),p({section:"",countDate:(new Date).toISOString().split("T")[0],items:[],notes:""})},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create New Stock Count"]})}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[(0,gn.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,gn.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Stock Counts"}),(0,gn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage stock count records"})]}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count Date"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Counted"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variance"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.section})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.countDate})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(x(e.status)),children:e.status})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"text-sm text-gray-900",children:[e.totalItems," items"]})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"text-sm font-medium ".concat(e.variance>0?"text-red-600":"text-green-600"),children:[e.variance," units"]})}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,gn.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"View Details"}),(0,gn.jsx)("button",{className:"text-green-600 hover:text-green-900",children:"Export"})]})]},e.id)))})]})})]}),i&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Stock Count"}),(0,gn.jsx)("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:(0,gn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Section"}),(0,gn.jsxs)("select",{value:c,onChange:e=>{return t=e.target.value,d(t),p(qt(qt({},h),{},{section:t})),void m("All Sections"===t?a:a.filter((e=>e.section===t)));var t},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gn.jsx)("option",{value:"",children:"Choose a section..."}),["Freezer","Refrigerator","Dry Storage","Pantry","All Sections"].map((e=>(0,gn.jsx)("option",{value:e,children:e},e)))]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Count Date"}),(0,gn.jsx)("input",{type:"date",value:h.countDate,onChange:e=>p(qt(qt({},h),{},{countDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.length>0&&(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Items to Count"}),(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Current Stock"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Counted Qty"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variance"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((e=>{var t;const a=(null===(t=h.items.find((t=>t.id===e.id)))||void 0===t?void 0:t.countedQty)||0,n=a-e.currentStock;return(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.category})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.unit})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("input",{type:"number",min:"0",value:a,onChange:t=>((e,t)=>{p((a=>qt(qt({},a),{},{items:a.items.map((a=>a.id===e?qt(qt({},a),{},{countedQty:parseInt(t)||0}):a))})))})(e.id,t.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{className:"text-sm font-medium ".concat(0!==n?n>0?"text-red-600":"text-green-600":"text-gray-900"),children:[n>0?"+":"",n]})})]},e.id)}))})]})})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,gn.jsx)("textarea",{value:h.notes,onChange:e=>p(qt(qt({},h),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any notes about this stock count..."})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,gn.jsx)("button",{onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,gn.jsx)("button",{onClick:()=>{const e=qt(qt({},h),{},{id:Date.now(),status:"Completed",totalItems:h.items.length,variance:h.items.reduce(((e,t)=>e+Math.abs(t.countedQty-t.currentStock)),0)});t((t=>[e,...t])),o(!1),d(""),m([])},disabled:!c||0===u.length,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Submit Stock Count"})]})]})]})})]})})},Gr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)([]),[h,p]=(0,s.useState)(!0),[x,g]=(0,s.useState)({branch:"",section:"",eventDate:(new Date).toISOString().split("T")[0],eventName:"",media:null,itemName:"",itemCode:"",unit:"",qty:"",wastageType:""}),f=(0,s.useRef)(x.section);(0,s.useEffect)((()=>{f.current=x.section}),[x.section]),(0,s.useEffect)((()=>{y(),v()}),[]),(0,s.useEffect)((()=>{if(x.branch){console.log("Selected branch ID:",x.branch),console.log("All sections:",a);const e=a.filter((e=>{const t=e.branch,a=e.branchId,n=e.branches;return console.log("Section:",e.name,"Branch fields:",{branch:t,branchId:a,branches:n}),t===x.branch?(console.log("Match found: direct branch reference"),!0):a===x.branch?(console.log("Match found: branchId reference"),!0):Array.isArray(n)&&n.includes(x.branch)?(console.log("Match found: branches array"),!0):t&&"object"===typeof t&&t._id===x.branch?(console.log("Match found: branch object with _id"),!0):!(!a||"object"!==typeof a||a._id!==x.branch)&&(console.log("Match found: branchId object with _id"),!0)}));console.log("Filtered sections for branch:",e),l(e),e.find((e=>e._id===f.current))||(console.log("Clearing section selection - current section not available for selected branch"),g((e=>qt(qt({},e),{},{section:""}))))}else console.log("No branch selected - showing all sections"),l(a),g((e=>qt(qt({},e),{},{section:""})))}),[x.branch,a]);const b=x.branch||x.section?i.filter((e=>{let t=!1,a=!1;return x.branch?(Array.isArray(e.assignBranch)&&e.assignBranch.some((e=>"string"===typeof e?e===x.branch:!("object"!==typeof e||!e)&&e._id===x.branch))||e.branch&&e.branch._id===x.branch||Array.isArray(e.branches)&&e.branches.some((e=>"string"===typeof e?e===x.branch:!("object"!==typeof e||!e)&&e._id===x.branch)))&&(t=!0):t=!0,x.section?(e.assignSection&&e.assignSection._id===x.section||e.section&&e.section._id===x.section||e.sectionId&&e.sectionId===x.section)&&(a=!0):a=!0,t&&a})):i,y=async()=>{try{d(!0);const e=localStorage.getItem("token");if(!e)return alert("Please log in to access this page"),void d(!1);console.log("Fetching data with token:",e?"Token exists":"No token"),console.log("Fetching branches...");const a=await Ln.branches.getAll();console.log("Branches response:",a),t(a.data||[]),console.log("Fetching sections...");const r=await Ln.sections.getActive();console.log("Sections response:",r),n(r.data||[]),l(r.data||[]),console.log("Fetching items...");const s=await Ln.items.getAll();console.log("Items response:",s),o(s.data||[]),d(!1)}catch(r){var e,a;console.error("Error fetching data:",r),401===(null===(e=r.response)||void 0===e?void 0:e.status)?alert("Authentication failed. Please log in again."):(null===(a=r.response)||void 0===a?void 0:a.status)>=500?alert("Server error. Please try again later."):alert("Error loading data. Please refresh the page."),d(!1)}},v=async()=>{try{p(!0);if(!localStorage.getItem("token"))return void p(!1);const e=await Ln.wastage.getAll();console.log("Fetched wastage records:",e),console.log("Response structure:",{hasResponse:!!e,hasData:!(!e||!e.data),dataType:e&&e.data?typeof e.data:"undefined",isArray:!(!e||!e.data)&&Array.isArray(e.data),dataKeys:e&&e.data?Object.keys(e.data):[]});let t=[];e&&e.data&&(e.data.success&&e.data.data&&Array.isArray(e.data.data)||e.data.data&&Array.isArray(e.data.data)?t=e.data.data:Array.isArray(e.data)&&(t=e.data)),console.log("Processed wastage data:",t),m(t)}catch(e){console.error("Error fetching wastage records:",e),m([])}finally{p(!1)}},j=e=>{const{name:t,value:a}=e.target;if(g((e=>qt(qt({},e),{},{[t]:a}))),"itemName"===t){console.log("Item selected:",a),console.log("Available items:",b);const e=b.find((e=>e._id===a));if(console.log("Selected item:",e),e){const t=e.itemCode||e.code||e.nameEn||e.name||"";let a="";a=e.unit&&e.unit.name?e.unit.name:e.baseUnit&&e.baseUnit.name?e.baseUnit.name:e.unit?e.unit:e.baseUnit?e.baseUnit:e.unitType||e.unitName||"",console.log("Auto-filling - Item Code:",t,"Unit:",a),console.log("Unit object:",e.unit),console.log("Base Unit object:",e.baseUnit),g((e=>qt(qt({},e),{},{itemCode:t,unit:a})))}else g((e=>qt(qt({},e),{},{itemCode:"",unit:""})))}};return c?(0,gn.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,gn.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[(0,gn.jsx)("div",{className:"mb-8",children:(0,gn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 shadow-lg",children:[(0,gn.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z",clipRule:"evenodd"})}),"Wastage Management"]}),(0,gn.jsx)("p",{className:"text-blue-100",children:"Track and manage wastage records efficiently"})]})}),(0,gn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg",children:[(0,gn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-t-xl p-6",children:(0,gn.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add New Wastage Record"]})}),(0,gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;e.append("branch",x.branch),e.append("section",x.section),e.append("eventDate",x.eventDate),e.append("eventName",x.eventName),e.append("itemName",x.itemName),e.append("itemCode",x.itemCode),e.append("unit",x.unit),e.append("qty",x.qty),e.append("wastageType",x.wastageType),x.media&&e.append("media",x.media),console.log("Submitting wastage data:",x);const t=await Ln.wastage.create(e);console.log("Wastage submission response:",t),t&&t.data&&t.data.success?(alert("Wastage record created successfully!"),g({branch:"",section:"",eventDate:(new Date).toISOString().split("T")[0],eventName:"",media:null,itemName:"",itemCode:"",unit:"",qty:"",wastageType:""}),v()):(console.error("Unexpected response format:",t),alert("Error: Unexpected response from server"))}catch(a){if(console.error("Error submitting wastage:",a),a.response){var t;const e=(null===(t=a.response.data)||void 0===t?void 0:t.message)||"Server error occurred";alert("Error: ".concat(e))}else a.request?alert("Error: Network connection failed. Please check your internet connection."):alert("Error: ".concat(a.message))}},className:"p-6",children:[(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Select Branch"]}),(0,gn.jsxs)("select",{name:"branch",value:x.branch,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Branch"}),e.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-4 h-4 mr-2 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z",clipRule:"evenodd"})}),"Select Section"]}),(0,gn.jsxs)("select",{name:"section",value:x.section,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!x.branch,required:!0,children:[(0,gn.jsx)("option",{value:"",children:x.branch?"Select Section":"Select Branch First"}),r.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),x.branch&&0===r.length&&(0,gn.jsx)("p",{className:"text-sm text-red-500",children:"No sections available for this branch"})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Event Date"]}),(0,gn.jsx)("input",{type:"date",name:"eventDate",value:x.eventDate,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-4 h-4 mr-2 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Event Name"]}),(0,gn.jsx)("input",{type:"text",name:"eventName",value:x.eventName,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"Enter event name",required:!0})]})]}),(0,gn.jsxs)("div",{className:"mb-8",children:[(0,gn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-4 h-4 mr-2 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Media Upload"]}),(0,gn.jsx)("input",{type:"file",name:"media",onChange:e=>{g((t=>qt(qt({},t),{},{media:e.target.files[0]})))},accept:"image/*",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"})]}),(0,gn.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,gn.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,gn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Item Wastage Details",x.branch&&x.section&&(0,gn.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",b.length," items available)"]})]})}),(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Item Code"}),(0,gn.jsx)("input",{type:"text",name:"itemCode",value:x.itemCode,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Item Name"}),(0,gn.jsxs)("select",{name:"itemName",value:x.itemName,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0,children:[(0,gn.jsx)("option",{value:"",children:x.branch&&x.section?b.length>0?"Select Item":"No items available":"Select Branch and Section First"}),b.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Unit"}),(0,gn.jsx)("input",{type:"text",name:"unit",value:x.unit,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,gn.jsx)("input",{type:"number",name:"qty",value:x.qty,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",min:"0.01",step:"0.01",placeholder:"Enter quantity",required:!0})]}),(0,gn.jsxs)("div",{className:"space-y-2",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Wastage Type"}),(0,gn.jsxs)("select",{name:"wastageType",value:x.wastageType,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Type"}),(0,gn.jsx)("option",{value:"Expired",children:"Expired"}),(0,gn.jsx)("option",{value:"Unsold",children:"Unsold"}),(0,gn.jsx)("option",{value:"Spill Over",children:"Spill Over"})]})]})]})})]}),(0,gn.jsx)("div",{className:"mt-8 flex justify-end",children:(0,gn.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105",children:"Submit Wastage"})})]})]}),(0,gn.jsx)("div",{className:"mt-8",children:(0,gn.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg shadow-sm",children:[(0,gn.jsx)("div",{className:"px-6 py-4 border-b border-gray-300",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Wastage Records"}),(0,gn.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Showing ",Array.isArray(u)?u.length:0," records"]})]}),(0,gn.jsx)("button",{onClick:()=>{console.log("Current wastage list:",u),console.log("Wastage list length:",u.length),console.log("Is array:",Array.isArray(u)),v()},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Debug: Refresh"})]})}),h?(0,gn.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,gn.jsx)("span",{className:"ml-2",children:"Loading wastage records..."})]}):(0,gn.jsxs)("div",{className:"overflow-x-auto",children:[(0,gn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Details"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch & Section"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wastage Type"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Media"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(u)&&u.map((e=>{var t,a,n,r;return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsxs)("div",{children:[(0,gn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.eventName}),(0,gn.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.eventDate).toLocaleDateString()})]})}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:Array.isArray(e.branches)&&e.branches.length>0&&((null===(t=e.branches[0])||void 0===t?void 0:t.name)||e.branches[0])||"-"}),(0,gn.jsx)("div",{className:"text-sm text-gray-500",children:(null===(a=e.section)||void 0===a?void 0:a.name)||e.section||"-"})]}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,gn.jsx)("div",{className:"text-sm text-gray-900",children:(null===(n=e.itemName)||void 0===n?void 0:n.nameEn)||(null===(r=e.itemName)||void 0===r?void 0:r.name)||e.itemName||"-"}),(0,gn.jsxs)("div",{className:"text-sm text-gray-500",children:[e.itemCode||"-"," \u2022 ",e.qty||0," ",e.unit||""]})]}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:e.wastageType})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.media?(0,gn.jsx)("img",{src:e.media,alt:"Wastage",className:"h-12 w-12 object-cover rounded"}):(0,gn.jsx)("span",{className:"text-gray-400",children:"No image"})})]},e._id)}))})]}),(!Array.isArray(u)||0===u.length)&&(0,gn.jsx)("div",{className:"text-center py-8",children:(0,gn.jsx)("p",{className:"text-gray-500",children:"No wastage records found"})})]})]})})]})})},Yr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(new Set),[u,m]=(0,s.useState)({received:0,accepted:0,rejected:0,shipped:0});(0,s.useEffect)((()=>{h()}),[]);const h=async()=>{try{n(!0);const e=await Ln.orders.getAll(),a=(e.data||[]).filter((e=>["Sent to Central Kitchen","Under Process","Shipped","Rejected"].includes(e.status)));t(a);const r={received:a.filter((e=>"Sent to Central Kitchen"===e.status)).length,accepted:a.filter((e=>"Under Process"===e.status)).length,rejected:a.filter((e=>"Rejected"===e.status)).length,shipped:a.filter((e=>"Shipped"===e.status)).length};m(r)}catch(e){l("Failed to fetch orders"),console.error("Error fetching orders:",e)}finally{n(!1)}},p=()=>e.filter((e=>"Sent to Central Kitchen"===e.status)).slice(0,10).sort(((e,t)=>new Date(t.createdAt||t.dateTime)-new Date(e.createdAt||e.dateTime))),x=e=>{switch(e){case"Sent to Central Kitchen":return"bg-blue-100 text-blue-800";case"Under Process":return"bg-yellow-100 text-yellow-800";case"Shipped":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=e=>{const t=Array.isArray(e.items)?e.items.map((e=>e.itemName)).filter(Boolean):[],a=t.slice(0,2).join(", "),n=t.length>2?" +".concat(t.length-2," more"):"";return"".concat(t.length," item").concat(1!==t.length?"s":"").concat(t.length?" (".concat(a).concat(n,")"):"")};return a?(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,gn.jsxs)("div",{className:"text-center py-8",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading Central Kitchen Dashboard..."})]})})}):(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,gn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 rounded-lg mb-6",children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Central Kitchen Dashboard"}),(0,gn.jsx)("p",{className:"text-blue-100 mt-1",children:"Manage and process branch orders efficiently"})]}),r&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:r}),i&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:i}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,gn.jsx)("div",{className:"bg-blue-100 p-6 rounded-lg border border-blue-200",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"p-3 bg-blue-500 rounded-full",children:(0,gn.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,gn.jsxs)("div",{className:"ml-4",children:[(0,gn.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Orders Received"}),(0,gn.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:u.received})]})]})}),(0,gn.jsx)("div",{className:"bg-green-100 p-6 rounded-lg border border-green-200",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"p-3 bg-green-500 rounded-full",children:(0,gn.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,gn.jsxs)("div",{className:"ml-4",children:[(0,gn.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Accepted"}),(0,gn.jsx)("p",{className:"text-2xl font-bold text-green-900",children:u.accepted})]})]})}),(0,gn.jsx)("div",{className:"bg-red-100 p-6 rounded-lg border border-red-200",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"p-3 bg-red-500 rounded-full",children:(0,gn.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,gn.jsxs)("div",{className:"ml-4",children:[(0,gn.jsx)("p",{className:"text-sm font-medium text-red-600",children:"Rejected"}),(0,gn.jsx)("p",{className:"text-2xl font-bold text-red-900",children:u.rejected})]})]})}),(0,gn.jsx)("div",{className:"bg-purple-100 p-6 rounded-lg border border-purple-200",children:(0,gn.jsxs)("div",{className:"flex items-center",children:[(0,gn.jsx)("div",{className:"p-3 bg-purple-500 rounded-full",children:(0,gn.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,gn.jsxs)("div",{className:"ml-4",children:[(0,gn.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Orders Shipped"}),(0,gn.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:u.shipped})]})]})})]}),(0,gn.jsxs)("div",{className:"mb-8",children:[(0,gn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Orders Pending Approval"}),0===p().length?(0,gn.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[(0,gn.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,gn.jsx)("p",{className:"text-gray-500",children:"No orders pending approval"})]}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order No"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"divide-y divide-gray-200",children:p().map((e=>(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.orderNo}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.branchName||e.branch||e.branchNameEn||"N/A"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.section||"N/A"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(e)}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():"Not set"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(x(e.status)),children:e.status})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,gn.jsxs)("div",{className:"flex space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(async e=>{try{console.log("=== ACCEPTING ORDER ==="),console.log("Order ID:",e),d((t=>new Set(t).add(e))),l(""),o("");const t=await Ln.orders.update(e,{status:"Under Process"});console.log("Accept response:",t),await h(),console.log("Order accepted successfully"),o("Order accepted successfully!"),setTimeout((()=>o("")),3e3)}catch(t){console.error("Error accepting order:",t),l("Failed to accept order")}finally{d((t=>{const a=new Set(t);return a.delete(e),a}))}})(e._id),disabled:c.has(e._id),className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c.has(e._id)?"Processing...":"Accept"}),(0,gn.jsx)("button",{onClick:()=>(async e=>{try{console.log("=== REJECTING ORDER ==="),console.log("Order ID:",e),d((t=>new Set(t).add(e))),l(""),o("");const t=await Ln.orders.update(e,{status:"Rejected"});console.log("Reject response:",t),await h(),console.log("Order rejected successfully"),o("Order rejected successfully!"),setTimeout((()=>o("")),3e3)}catch(t){console.error("Error rejecting order:",t),l("Failed to reject order")}finally{d((t=>{const a=new Set(t);return a.delete(e),a}))}})(e._id),disabled:c.has(e._id),className:"bg-red-600 text-white px-3 py-1 rounded text-xs hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c.has(e._id)?"Processing...":"Reject"})]})})]},e._id)))})]})})]})]})})},Jr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)({branch:"",status:"",dateFrom:"",dateTo:"",urgency:"",searchTerm:""}),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null);(0,s.useEffect)((()=>{x(),g()}),[]);const x=async()=>{try{n(!0);const e=await Ln.get("/orders");if(Array.isArray(e.data)){const a=e.data.filter((e=>"Under Process"===e.status||"Rejected"===e.status));t(a)}else t([])}catch(e){console.error("Error fetching orders:",e),l("Failed to fetch orders"),t([])}finally{n(!1)}},g=async()=>{try{console.log("Fetching branches...");const e=await Ln.branches.getAll();console.log("Branches response:",e),Array.isArray(e.data)?(d(e.data),console.log("Branches set:",e.data.length)):(console.log("Branches response is not an array:",e),d([]))}catch(e){console.error("Error fetching branches:",e),d([])}},f=(e,t)=>{o((a=>qt(qt({},a),{},{[e]:t})))},b=e.filter((e=>"Under Process"===e.status)),y=e.filter((e=>"Rejected"===e.status)),v=e=>e.filter((e=>{if(i.searchTerm){var t,a,n,r;const s=i.searchTerm.toLowerCase();if(!((null===(t=e.orderNo)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(a=e.branch)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(n=e.section)||void 0===n?void 0:n.toLowerCase().includes(s))||(null===(r=e.userName)||void 0===r?void 0:r.toLowerCase().includes(s))))return!1}if(i.branch&&e.branch!==i.branch)return!1;if(i.urgency&&e.urgency!==i.urgency)return!1;if(i.dateFrom||i.dateTo){const t=new Date(e.dateTime);if(i.dateFrom&&t<new Date(i.dateFrom))return!1;if(i.dateTo&&t>new Date(i.dateTo))return!1}return!0})),j=v(b),N=v(y),w=e=>{p(e),m(!0)},k=e=>{switch(e){case"Under Process":case"Accepted":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=[{key:"orderNo",header:"Order No",render:e=>(0,gn.jsx)("span",{className:"font-mono text-sm",children:(null===e||void 0===e?void 0:e.orderNo)||"N/A"})},{key:"branch",header:"Branch",render:e=>(0,gn.jsx)("span",{className:"font-medium",children:(null===e||void 0===e?void 0:e.branch)||"N/A"})},{key:"section",header:"Section",render:e=>(0,gn.jsx)("span",{className:"text-gray-600",children:(null===e||void 0===e?void 0:e.section)||"N/A"})},{key:"userName",header:"Ordered By",render:e=>(0,gn.jsx)("span",{className:"text-gray-700",children:(null===e||void 0===e?void 0:e.userName)||"N/A"})},{key:"dateTime",header:"Order Date",render:e=>(0,gn.jsx)("span",{className:"text-sm text-gray-600",children:null!==e&&void 0!==e&&e.dateTime?new Date(e.dateTime).toLocaleDateString():"N/A"})},{key:"status",header:"Status",render:e=>{const t=null===e||void 0===e?void 0:e.status;if(!t)return(0,gn.jsx)("span",{className:"text-gray-400",children:"N/A"});const a="Under Process"===t?"Accepted":t;return(0,gn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(k(t)),children:a})}}];return a?(0,gn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,gn.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"mb-6",children:[(0,gn.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Branch Orders & History"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"View accepted and rejected orders from Central Kitchen"})]}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters & Search"}),(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,gn.jsxs)("div",{className:"lg:col-span-2",children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,gn.jsx)("input",{type:"text",placeholder:"Search by order no, branch, section, or user...",value:i.searchTerm,onChange:e=>f("searchTerm",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,gn.jsxs)("select",{value:i.branch,onChange:e=>f("branch",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,gn.jsx)("option",{value:"",children:"All Branches"}),c.map((e=>{const t=e.name||e.nameEn||e.branchName||e._id||"Unknown";return console.log("Branch option:",e,"Name:",t),(0,gn.jsx)("option",{value:t,children:t},e._id)}))]}),(0,gn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[c.length," branches loaded"]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,gn.jsx)("input",{type:"date",value:i.dateFrom,onChange:e=>f("dateFrom",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,gn.jsx)("input",{type:"date",value:i.dateTo,onChange:e=>f("dateTo",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,gn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-green-50",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-green-800",children:["Accepted Orders (",j.length,")"]}),(0,gn.jsx)("button",{onClick:x,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors text-sm",children:"Refresh"})]})}),r&&(0,gn.jsx)("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:(0,gn.jsx)("p",{className:"text-red-600",children:r})}),(0,gn.jsx)(qn,{data:j,columns:S,loading:a,emptyMessage:"No accepted orders found",onView:w})]}),(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,gn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-red-50",children:(0,gn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-red-800",children:["Rejected Orders (",N.length,")"]}),(0,gn.jsx)("button",{onClick:x,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors text-sm",children:"Refresh"})]})}),r&&(0,gn.jsx)("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:(0,gn.jsx)("p",{className:"text-red-600",children:r})}),(0,gn.jsx)(qn,{data:N,columns:S,loading:a,emptyMessage:"No rejected orders found",onView:w})]}),(0,gn.jsx)(Kn,{isOpen:u,onClose:()=>m(!1),title:"Order Details",size:"lg",children:h&&(0,gn.jsxs)("div",{className:"space-y-6",children:[(0,gn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Order No"}),(0,gn.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.orderNo})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Branch"}),(0,gn.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.branch})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),(0,gn.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.section})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,gn.jsx)("span",{className:"mt-1 inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(k(h.status)),children:"Under Process"===h.status?"Accepted":h.status})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Ordered By"}),(0,gn.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.userName})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Order Date"}),(0,gn.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(h.dateTime).toLocaleString()})]})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Items"}),(0,gn.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,gn.jsx)("div",{className:"space-y-2",children:h.items&&Array.isArray(h.items)&&h.items.map(((e,t)=>(0,gn.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("p",{className:"font-medium text-sm",children:e.itemName}),(0,gn.jsxs)("p",{className:"text-xs text-gray-600",children:["Code: ",e.itemCode]})]}),(0,gn.jsxs)("div",{className:"text-right",children:[(0,gn.jsxs)("p",{className:"text-sm font-medium",children:[e.orderQty," ",e.unit]}),(0,gn.jsx)("p",{className:"text-xs text-gray-600",children:e.category})]})]},t)))})})]}),(0,gn.jsx)("div",{className:"flex justify-end space-x-3",children:(0,gn.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Close"})})]})})]})},Zr=()=>{var e;const[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{m()}),[]);const m=async()=>{try{r(!0);const e=(await Ln.orders.getAll()).data||[];console.log("All orders fetched:",e.length),console.log("Order statuses:",e.map((e=>e.status)));const t=e.filter((e=>"Under Process"===e.status));console.log("Accepted orders (Under Process):",t.length),a(t)}catch(e){i("Failed to fetch accepted orders"),console.error("Error fetching orders:",e)}finally{r(!1)}},h=()=>{u(!1),c(null)};return n?(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,gn.jsx)("div",{className:"text-center py-8",children:(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading Pick List..."})})})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,gn.jsxs)("div",{className:"bg-blue-200 p-4 rounded-lg mb-6",children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Pick List"}),(0,gn.jsx)("p",{className:"text-gray-700 mt-1",children:"Only accepted orders ready for picking"})]}),l&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),0===t.length?(0,gn.jsxs)("div",{className:"text-center py-12",children:[(0,gn.jsx)("div",{className:"text-gray-400 mb-4",children:(0,gn.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,gn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Orders Ready for Picking"}),(0,gn.jsx)("p",{className:"text-gray-500",children:"Accepted orders will appear here for pick list generation."})]}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order No"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items Count"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delivery Date"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order Date"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map((e=>{var t;return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.orderNo}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.branch||"N/A"}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(null===(t=e.items)||void 0===t?void 0:t.length)||0," items"]}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():"Not set"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.dateTime).toLocaleDateString()}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,gn.jsx)("button",{onClick:()=>(e=>{c(e),u(!0)})(e),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Print Pick List"})})]},e._id)}))})]})})]}),d&&o&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,gn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Print Pick List"}),(0,gn.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600",children:(0,gn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,gn.jsxs)("div",{className:"mb-4",children:[(0,gn.jsx)("p",{className:"text-gray-600 mb-2",children:"Ready to print pick list for:"}),(0,gn.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",o.orderNo]}),(0,gn.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===(e=o.items)||void 0===e?void 0:e.length)||0," items \u2022 ",o.branch||"N/A"]})]}),(0,gn.jsxs)("div",{className:"flex space-x-3",children:[(0,gn.jsx)("button",{onClick:()=>{const e=window.open("","_blank"),t=o,a="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Pick List - ".concat(t.orderNo,'</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }\n          .order-info { margin-bottom: 20px; }\n          .order-info table { width: 100%; border-collapse: collapse; }\n          .order-info td { padding: 5px; border: 1px solid #ddd; }\n          .pick-list { margin-top: 30px; }\n          .pick-list table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n          .pick-list th, .pick-list td { padding: 10px; border: 1px solid #333; text-align: left; }\n          .pick-list th { background-color: #f5f5f5; font-weight: bold; }\n          .footer { margin-top: 50px; text-align: center; font-size: 12px; color: #666; }\n          @media print {\n            .no-print { display: none; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h1>PICK LIST</h1>\n          <h2>Order #').concat(t.orderNo,'</h2>\n        </div>\n        \n        <div class="order-info">\n          <table>\n            <tr>\n              <td><strong>Order No:</strong></td>\n              <td>').concat(t.orderNo,"</td>\n              <td><strong>Branch:</strong></td>\n              <td>").concat(t.branch||"N/A","</td>\n            </tr>\n            <tr>\n              <td><strong>Delivery Date:</strong></td>\n              <td>").concat(t.deliveryDate?new Date(t.deliveryDate).toLocaleDateString():"Not set","</td>\n              <td><strong>Order Date:</strong></td>\n              <td>").concat(new Date(t.dateTime).toLocaleDateString(),"</td>\n            </tr>\n            <tr>\n              <td><strong>Section:</strong></td>\n              <td>").concat(t.section,"</td>\n              <td><strong>Order Type:</strong></td>\n              <td>").concat(t.orderType||"N/A",'</td>\n            </tr>\n          </table>\n        </div>\n        \n        <div class="pick-list">\n          <h3>Items to Pick</h3>\n          <table>\n            <thead>\n              <tr>\n                <th>Item Code</th>\n                <th>Item Name</th>\n                <th>Category</th>\n                <th>Unit</th>\n                <th>Order Qty</th>\n                <th>Picked Qty</th>\n                <th>Variance</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(t.items.map(((e,t)=>"\n                <tr>\n                  <td>".concat(e.itemCode,"</td>\n                  <td>").concat(e.itemName,"</td>\n                  <td>").concat(e.category,"</td>\n                  <td>").concat(e.unit,"</td>\n                  <td>").concat(e.orderQty,'</td>\n                  <td style="border: 2px solid #000; min-height: 30px;"></td>\n                  <td></td>\n                </tr>\n              '))).join(""),'\n            </tbody>\n          </table>\n        </div>\n        \n        <div class="footer">\n          <p>Generated on: ').concat((new Date).toLocaleString(),'</p>\n          <p>Pick List for Central Kitchen</p>\n        </div>\n        \n        <div class="no-print" style="margin-top: 30px; text-align: center;">\n          <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">\n            Print Pick List\n          </button>\n          <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">\n            Close\n          </button>\n        </div>\n      </body>\n      </html>\n    ');e.document.write(a),e.document.close()},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Print Pick List"}),(0,gn.jsx)("button",{onClick:h,className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})},Xr=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1);(0,s.useEffect)((()=>{x()}),[]);const x=async()=>{try{n(!0);const e=await Ln.orders.getAll(),a=(e.data||[]).filter((e=>"Under Process"===e.status));t(a)}catch(e){l("Failed to fetch orders under process"),console.error("Error fetching orders:",e)}finally{n(!1)}},g=()=>{d(!1),o(null),m({})},f=e=>0===e?"\u2713":e>0?"\u25b2":"\u25bc";return a?(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,gn.jsx)("div",{className:"text-center py-8",children:(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading Order Processing..."})})})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,gn.jsxs)("div",{className:"bg-green-200 p-4 rounded-lg mb-6",children:[(0,gn.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Order Processing & Prep"}),(0,gn.jsx)("p",{className:"text-gray-700 mt-1",children:"Enter shipped quantities and track variances"})]}),r&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:r}),0===e.length?(0,gn.jsxs)("div",{className:"text-center py-12",children:[(0,gn.jsx)("div",{className:"text-gray-400 mb-4",children:(0,gn.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,gn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Orders Under Process"}),(0,gn.jsx)("p",{className:"text-gray-500",children:"Accepted orders will appear here for processing."})]}):(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order No"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items Count"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delivery Date"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map((e=>{var t;return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.orderNo}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.branch||"N/A"}),(0,gn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(null===(t=e.items)||void 0===t?void 0:t.length)||0," items"]}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():"Not set"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,gn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:e.status})}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,gn.jsx)("button",{onClick:()=>(e=>{o(e);const t={};e.items.forEach((e=>{t[e.itemCode]={orderQty:e.orderQty,shippedQty:"",variance:0}})),m(t),d(!0)})(e),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"Process Order"})})]},e._id)}))})]})})]}),c&&i&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,gn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Process Order #",i.orderNo]}),(0,gn.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Branch: ",i.branch||"N/A"," \u2022 Delivery: ",i.deliveryDate?new Date(i.deliveryDate).toLocaleDateString():"Not set"]})]}),(0,gn.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:(0,gn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsx)("div",{className:"overflow-x-auto",children:(0,gn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,gn.jsx)("thead",{className:"bg-gray-50",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Code"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Name"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Order Qty"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Shipped Qty"}),(0,gn.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Variance"})]})}),(0,gn.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.items.map(((e,t)=>{const a=u[e.itemCode]||{orderQty:e.orderQty,shippedQty:"",variance:0};return(0,gn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.itemCode}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.itemName}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.category}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.unit}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:a.orderQty}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm",children:(0,gn.jsx)("input",{type:"number",min:"0",step:"0.01",value:a.shippedQty,onChange:t=>((e,t)=>{const a=u[e].orderQty,n=(parseFloat(t)||0)-a;m((a=>qt(qt({},a),{},{[e]:qt(qt({},a[e]),{},{shippedQty:t,variance:n})})))})(e.itemCode,t.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})}),(0,gn.jsx)("td",{className:"px-4 py-2 text-sm",children:(0,gn.jsxs)("span",{className:"font-medium ".concat((n=a.variance,0===n?"text-green-600":n>0?"text-blue-600":"text-red-600")),children:[f(a.variance)," ",a.variance]})})]},t);var n}))})]})}),(0,gn.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,gn.jsx)("button",{onClick:g,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,gn.jsx)("button",{onClick:async()=>{if(null!==i&&void 0!==i&&i._id)try{p(!0);const e=i.items.map((e=>{const t=u[e.itemCode];return qt(qt({},e),{},{shippedQty:parseFloat(t.shippedQty)||0,variance:t.variance||0})})),t=e.every((e=>e.shippedQty>0||0===e.shippedQty)),a=qt(qt({},i),{},{items:e,status:t?"Shipped":"Under Process"});await Ln.orders.update(i._id,a),await x(),g()}catch(e){l("Failed to save processing data"),console.error("Error saving processing data:",e)}finally{p(!1)}},disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:h?"Saving...":"Save & Ship Order"})]})]})]})})]})},$r=()=>{var e,t,a,n;const[r,l]=(0,s.useState)({itemCode:"",itemName:"",itemCategory:"",subCategory:"",unit:"",assignBranch:[],assignSection:"",assignBrand:""}),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u]=(0,s.useState)({}),[m,h]=(0,s.useState)([]),[p,x]=(0,s.useState)([]),[g,f]=(0,s.useState)([]),[b,y]=(0,s.useState)([]),[v,j]=(0,s.useState)(!0),[N,w]=(0,s.useState)([]),[k,S]=(0,s.useState)(!0),[C,E]=(0,s.useState)([]),[A,P]=(0,s.useState)(null),[_,T]=(0,s.useState)({}),O=(0,s.useCallback)((async()=>{try{S(!0);const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},a=await un.get("".concat(xn,"/items"),{headers:t});w(a.data||[])}catch(e){console.error("Error fetching items:",e),w([])}finally{S(!1)}}),[]);(0,s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},[a,n,r,s,l]=await Promise.all([un.get("".concat(xn,"/item-categories"),{headers:t}),un.get("".concat(xn,"/units/branch"),{headers:t}),un.get("".concat(xn,"/branch"),{headers:t}),un.get("".concat(xn,"/sections"),{headers:t}),un.get("".concat(xn,"/brand"),{headers:t})]);o(a.data),h(n.data),x(r.data),f(s.data),E(l.data)}catch(e){console.error("Error fetching data:",e)}finally{j(!1)}})()}),[]),(0,s.useEffect)((()=>{O()}),[O]),(0,s.useEffect)((()=>{const e=A?_.assignBranch:r.assignBranch;if(console.log("Section filtering - editingItem:",A),console.log("Section filtering - currentAssignBranch:",e),console.log("Section filtering - all sections:",g),e&&0!==e.length){const t=e;console.log("Filtering sections for branch IDs:",t);const a=g.filter((e=>{if(!e.branch)return console.log("Section has no branch:",e.name),!1;const a=e.branch._id||e.branch,n=t.includes(a);return console.log("Section ".concat(e.name," branch ID: ").concat(a,", matches: ").concat(n)),n}));console.log("Filtered sections:",a),y(a);const n=A?_.assignSection:r.assignSection;n&&!a.find((e=>e._id===n))&&(console.log("Current section not available, clearing selection"),A?T((e=>qt(qt({},e),{},{assignSection:""}))):l((e=>qt(qt({},e),{},{assignSection:""}))))}else console.log("No branches selected, clearing sections"),y([]),A?T((e=>qt(qt({},e),{},{assignSection:""}))):l((e=>qt(qt({},e),{},{assignSection:""})))}),[r.assignBranch,_.assignBranch,g,A,r.assignSection,_.assignSection]),(0,s.useEffect)((()=>{const e=A?_.category:r.itemCategory;e?B(e):d([])}),[r.itemCategory,_.category,A]);const B=async e=>{try{const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)},n=await un.get("".concat(xn,"/item-categories/subcategories/").concat(e),{headers:a});d(n.data||[])}catch(t){console.error("Error fetching subcategories:",t),d([])}},R=e=>{const{name:t,value:a,type:n,checked:r}=e.target;if("assignBranch"===t){const e=a;l((t=>qt(qt({},t),{},{assignBranch:r?[...t.assignBranch,e]:t.assignBranch.filter((t=>t!==e))})))}else l((e=>qt(qt({},e),{},{[t]:"checkbox"===n?r:a})))},I=async e=>{if(window.confirm("Are you sure you want to delete this item?"))try{const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)};await un.delete("".concat(xn,"/items/").concat(e),{headers:a}),alert("Item deleted successfully"),O()}catch(t){console.error("Error deleting item:",t),alert("Error deleting item. Please try again.")}},D=e=>{var t,a,n,r,s,l,i,o,c,d,u,m,h,p,x;console.log("Editing item:",e),console.log("Item branches:",e.assignBranch),console.log("Item section:",e.assignSection),P(e),T({itemCode:e.itemCode||"",nameEn:e.nameEn||e.name||"",category:(null===(t=e.category)||void 0===t?void 0:t._id)||"",subCategory:(null===(a=e.subCategory)||void 0===a?void 0:a._id)||"",unit:(null===(n=e.unit)||void 0===n?void 0:n._id)||(null===(r=e.baseUnit)||void 0===r?void 0:r._id)||"",assignBranch:(null===(s=e.assignBranch)||void 0===s?void 0:s.map((e=>e._id||e)))||[],assignSection:(null===(l=e.assignSection)||void 0===l?void 0:l._id)||"",assignBrand:(null===(i=e.assignBrand)||void 0===i?void 0:i._id)||""}),console.log("Set edit form data:",{itemCode:e.itemCode||"",nameEn:e.nameEn||e.name||"",category:(null===(o=e.category)||void 0===o?void 0:o._id)||"",subCategory:(null===(c=e.subCategory)||void 0===c?void 0:c._id)||"",unit:(null===(d=e.unit)||void 0===d?void 0:d._id)||(null===(u=e.baseUnit)||void 0===u?void 0:u._id)||"",assignBranch:(null===(m=e.assignBranch)||void 0===m?void 0:m.map((e=>e._id||e)))||[],assignSection:(null===(h=e.assignSection)||void 0===h?void 0:h._id)||"",assignBrand:(null===(p=e.assignBrand)||void 0===p?void 0:p._id)||""}),null!==(x=e.category)&&void 0!==x&&x._id&&B(e.category._id)},L=()=>{P(null),T({}),l({itemCode:"",itemName:"",itemCategory:"",subCategory:"",unit:"",assignBranch:[],assignSection:"",assignBrand:""})},U=e=>{const{name:t,value:a,type:n,checked:r}=e.target;if("assignBranch"===t){const e=a;T((t=>qt(qt({},t),{},{assignBranch:r?[...t.assignBranch||[],e]:(t.assignBranch||[]).filter((t=>t!==e))})))}else T((e=>qt(qt({},e),{},{[t]:"checkbox"===n?r:a})))};return v?(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"loading-spinner rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading item creation..."})]})}):(0,gn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,gn.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[(0,gn.jsx)("div",{className:"mb-8",children:(0,gn.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 shadow-lg",children:[(0,gn.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),A?"Edit Item":"Create New Item"]}),(0,gn.jsx)("p",{className:"text-blue-100",children:"Manage your inventory items with ease"})]})}),(0,gn.jsxs)("div",{className:"modern-card p-6",children:[(0,gn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=A?_:r;if(t.nameEn&&t.category&&t.unit&&t.subCategory)try{const e=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)},n={nameEn:t.nameEn,category:t.category,subCategory:t.subCategory,baseUnit:t.unit,unit:t.unit,assignBranch:t.assignBranch||[],assignSection:t.assignSection||null,assignBrand:t.assignBrand||null};if(console.log("Submitting item data:",n),A){const e=await un.put("".concat(xn,"/items/").concat(A._id),n,{headers:a});console.log("Item updated successfully:",e.data),alert("Item updated successfully!")}else{const e=await un.post("".concat(xn,"/items"),n,{headers:a});console.log("Item created successfully:",e.data),alert("Item created successfully!")}l({itemCode:"",itemName:"",itemCategory:"",subCategory:"",unit:"",assignBranch:[],assignSection:"",assignBrand:""}),P(null),T({}),O()}catch(o){var a,n,s,i;console.error("Error saving item:",o);const e=(null===(a=o.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Error saving item. Please try again.";alert(e)}else alert("Please fill in all required fields: Item Name, Category, Unit, and Sub Category")},className:"space-y-6",children:[(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Item Code:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsx)("input",{type:"text",name:"itemCode",value:A&&_.itemCode||"Auto-generated by system",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600",placeholder:"Auto-generated by system",readOnly:!0,disabled:!0})})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Item Name:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsx)("input",{type:"text",name:"itemName",value:A?_.nameEn:r.itemName,onChange:A?U:R,className:"modern-input w-full",placeholder:"Enter item name",required:!0})})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Item Category:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsxs)("select",{name:"itemCategory",value:A?_.category:r.itemCategory,onChange:A?U:R,className:"modern-select w-full",required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Category"}),i.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]})})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Sub Category:"}),(0,gn.jsxs)("div",{className:"col-span-2",children:[(0,gn.jsxs)("select",{name:"subCategory",value:A?_.subCategory:r.subCategory,onChange:A?U:R,className:"modern-select w-full",disabled:A?!_.category:!r.itemCategory,children:[(0,gn.jsx)("option",{value:"",children:"Select Sub Category"}),c.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]}),(A?!_.category:!r.itemCategory)&&(0,gn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please select a category first"}),(A?_.category:r.itemCategory)&&0===c.length&&(0,gn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No sub-categories available for this category"})]})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Unit:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsxs)("select",{name:"unit",value:A?_.unit:r.unit,onChange:A?U:R,className:"modern-select w-full",required:!0,children:[(0,gn.jsx)("option",{value:"",children:"Select Unit"}),m.map((e=>(0,gn.jsxs)("option",{value:e._id,children:[e.name," (",e.symbol,")"]},e._id)))]})})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Assign Brand:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsxs)("select",{name:"assignBrand",value:A?_.assignBrand:r.assignBrand,onChange:A?U:R,className:"modern-select w-full",children:[(0,gn.jsx)("option",{value:"",children:"Select Brand"}),C.map((e=>(0,gn.jsxs)("option",{value:e._id,children:[e.nameEn," ",e.nameAr&&"(".concat(e.nameAr,")")]},e._id)))]})})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-start",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Assign Branch:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-300 rounded-md p-3",children:p.map((e=>{var t;return(0,gn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,gn.jsx)("input",{type:"checkbox",name:"assignBranch",value:e._id,checked:A?null===(t=_.assignBranch)||void 0===t?void 0:t.includes(e._id):r.assignBranch.includes(e._id),onChange:A?U:R,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,gn.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]},e._id)}))})})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Assign Section:"}),(0,gn.jsxs)("div",{className:"col-span-2",children:[(0,gn.jsxs)("select",{name:"assignSection",value:A?_.assignSection:r.assignSection,onChange:A?U:R,className:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:A?0===(null===(e=_.assignBranch)||void 0===e?void 0:e.length):0===r.assignBranch.length,children:[(0,gn.jsx)("option",{value:"",children:(A?0===(null===(t=_.assignBranch)||void 0===t?void 0:t.length):0===r.assignBranch.length)?"Select Branch First":"Select Section"}),b.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(A?0===(null===(a=_.assignBranch)||void 0===a?void 0:a.length):0===r.assignBranch.length)&&(0,gn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please select at least one branch first"}),(A?(null===(n=_.assignBranch)||void 0===n?void 0:n.length)>0:r.assignBranch.length>0)&&0===b.length&&(0,gn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"No sections available for selected branches"})]})]}),(0,gn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[A&&(0,gn.jsx)("button",{type:"button",onClick:L,className:"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors font-medium",children:"Cancel Edit"}),(0,gn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors font-medium",children:A?"Update Item":"Create Item"})]})]}),(0,gn.jsx)("div",{className:"mt-8",children:(0,gn.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,gn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,gn.jsx)("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,gn.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Existing Items"]}),k?(0,gn.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,gn.jsx)("div",{className:"loading-spinner rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,gn.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading items..."})]}):(0,gn.jsxs)("div",{className:"modern-card overflow-hidden",children:[(0,gn.jsxs)("div",{className:"block sm:hidden",children:[N.map((e=>{var t,a,n,r,s,l,i,o,c;return(0,gn.jsxs)("div",{className:"border-b border-gray-200 p-4 hover:bg-gray-50",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("h3",{className:"font-medium text-gray-900",children:e.nameEn}),(0,gn.jsx)("p",{className:"text-sm text-gray-500",children:e.itemCode})]}),(0,gn.jsxs)("div",{className:"flex space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>D(e),className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors font-medium",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>I(e._id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors font-medium",children:"Delete"})]})]}),(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"text-gray-500",children:"Category:"}),(0,gn.jsx)("span",{className:"ml-1 text-gray-900",children:(null===(t=e.category)||void 0===t?void 0:t.nameEn)||"-"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"text-gray-500",children:"Sub Category:"}),(0,gn.jsx)("span",{className:"ml-1 text-gray-900",children:(null===(a=e.subCategory)||void 0===a?void 0:a.nameEn)||(null===(n=e.subCategory)||void 0===n?void 0:n.name)||(e.subCategory===e.category?"-":e.subCategory)||"-"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"text-gray-500",children:"Section:"}),(0,gn.jsx)("span",{className:"ml-1 text-gray-900",children:(null===(r=e.assignSection)||void 0===r?void 0:r.nameEn)||(null===(s=e.assignSection)||void 0===s?void 0:s.name)||"-"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"text-gray-500",children:"Unit:"}),(0,gn.jsx)("span",{className:"ml-1 text-gray-900",children:(null===(l=e.unit)||void 0===l?void 0:l.name)||(null===(i=e.baseUnit)||void 0===i?void 0:i.name)||"-"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"text-gray-500",children:"Brand:"}),(0,gn.jsx)("span",{className:"ml-1 text-gray-900",children:(null===(o=e.assignBrand)||void 0===o?void 0:o.nameEn)||"-"})]}),(0,gn.jsxs)("div",{children:[(0,gn.jsx)("span",{className:"text-gray-500",children:"Branch:"}),(0,gn.jsx)("span",{className:"ml-1 text-gray-900",children:Array.isArray(e.assignBranch)?e.assignBranch.map((e=>e.name)).join(", ")||"-":(null===(c=e.assignBranch)||void 0===c?void 0:c.name)||"-"})]})]})]},e._id)})),0===N.length&&(0,gn.jsx)("div",{className:"text-center py-8",children:(0,gn.jsx)("p",{className:"text-gray-500",children:"No items found. Create your first item above!"})})]}),(0,gn.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,gn.jsxs)("table",{className:"modern-table min-w-full",children:[(0,gn.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:(0,gn.jsxs)("tr",{children:[(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Item Code"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name (English)"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Sub Category"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Section"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Unit"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Brand"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Branch"}),(0,gn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),(0,gn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((e=>{var t,a,n,r,s,l,o,c,d;return(0,gn.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-200 border-b border-gray-100",children:[(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.itemCode}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsx)("input",{type:"text",value:_.nameEn||"",onChange:e=>U({target:{name:"nameEn",value:e.target.value}}),className:"w-full px-2 py-1 border border-gray-300 rounded"}):e.nameEn}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsxs)("select",{value:_.category||"",onChange:e=>U({target:{name:"category",value:e.target.value}}),className:"w-full px-2 py-1 border border-gray-300 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Category"}),i.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]}):(null===(t=e.category)||void 0===t?void 0:t.nameEn)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsxs)("select",{value:_.subCategory||"",onChange:e=>U({target:{name:"subCategory",value:e.target.value}}),className:"w-full px-2 py-1 border border-gray-300 rounded",disabled:!_.category,children:[(0,gn.jsx)("option",{value:"",children:"Select Sub Category"}),(u[e._id]||[]).map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]}):(null===(a=e.subCategory)||void 0===a?void 0:a.nameEn)||(null===(n=e.subCategory)||void 0===n?void 0:n.name)||(e.subCategory===e.category?"-":e.subCategory)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsxs)("select",{value:_.assignSection||"",onChange:e=>U({target:{name:"assignSection",value:e.target.value}}),className:"w-full px-2 py-1 border border-gray-300 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Section"}),b.map((e=>(0,gn.jsx)("option",{value:e._id,children:e.nameEn||e.name},e._id)))]}):(null===(r=e.assignSection)||void 0===r?void 0:r.nameEn)||(null===(s=e.assignSection)||void 0===s?void 0:s.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsxs)("select",{value:_.unit||"",onChange:e=>U({target:{name:"unit",value:e.target.value}}),className:"w-full px-2 py-1 border border-gray-300 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Unit"}),m.map((e=>(0,gn.jsxs)("option",{value:e._id,children:[e.name," (",e.symbol,")"]},e._id)))]}):(null===(l=e.unit)||void 0===l?void 0:l.name)||(null===(o=e.baseUnit)||void 0===o?void 0:o.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsxs)("select",{value:_.assignBrand||"",onChange:e=>U({target:{name:"assignBrand",value:e.target.value}}),className:"w-full px-2 py-1 border border-gray-300 rounded",children:[(0,gn.jsx)("option",{value:"",children:"Select Brand"}),C.map((e=>(0,gn.jsxs)("option",{value:e._id,children:[e.nameEn," ",e.nameAr&&"(".concat(e.nameAr,")")]},e._id)))]}):(null===(c=e.assignBrand)||void 0===c?void 0:c.nameEn)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A===e._id?(0,gn.jsx)("div",{className:"space-y-1",children:p.map((e=>{var t;return(0,gn.jsxs)("label",{className:"flex items-center",children:[(0,gn.jsx)("input",{type:"checkbox",checked:(null===(t=_.assignBranch)||void 0===t?void 0:t.includes(e._id))||!1,onChange:t=>{const a=t.target.checked?[..._.assignBranch||[],e._id]:(_.assignBranch||[]).filter((t=>t!==e._id));U({target:{name:"assignBranch",value:a}})},className:"mr-2"}),e.name]},e._id)}))}):Array.isArray(e.assignBranch)?e.assignBranch.map((e=>e.name)).join(", ")||"-":(null===(d=e.assignBranch)||void 0===d?void 0:d.name)||"-"}),(0,gn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:A===e._id?(0,gn.jsxs)("div",{className:"flex space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>(async e=>{try{if(!_.nameEn||!_.category||!_.unit||!_.subCategory)return void alert("Please fill in all required fields: Item Name, Category, Unit, and Sub Category");const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)},n={nameEn:_.nameEn,category:_.category,subCategory:_.subCategory,baseUnit:_.unit,unit:_.unit,assignBranch:_.assignBranch||[],assignSection:_.assignSection||null,assignBrand:_.assignBrand||null};console.log("Updating item with data:",n);const r=await un.put("".concat(xn,"/items/").concat(e),n,{headers:a});console.log("Item updated successfully:",r.data),alert("Item updated successfully!"),P(null),T({}),O()}catch(s){var t,a,n,r;console.error("Error updating item:",s);const e=(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Error updating item. Please try again.";alert(e)}})(e._id),className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors font-medium",children:"Save"}),(0,gn.jsx)("button",{onClick:L,className:"px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]}):(0,gn.jsxs)("div",{className:"flex space-x-2",children:[(0,gn.jsx)("button",{onClick:()=>D(e),className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors font-medium",children:"Edit"}),(0,gn.jsx)("button",{onClick:()=>I(e._id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors font-medium",children:"Delete"})]})})]},e._id)}))})]})}),0===N.length&&(0,gn.jsx)("div",{className:"text-center py-8",children:(0,gn.jsx)("p",{className:"text-gray-500",children:"No items found. Create your first item above!"})})]})]})})]})]})})},es=e=>{let{parentId:t,onEdit:a,onDelete:n}=e;const[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),a=await un.get("".concat(xn,"/item-categories/subcategories/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});l(a.data)}catch(e){console.error("Error fetching sub-categories:",e)}finally{o(!1)}})()}),[t]),i?(0,gn.jsx)("div",{className:"text-sm text-gray-500",children:"Loading sub-categories..."}):0===r.length?(0,gn.jsx)("div",{className:"text-sm text-gray-500",children:"No sub-categories found"}):(0,gn.jsx)("div",{className:"space-y-2",children:r.map((e=>(0,gn.jsx)("div",{className:"ml-4 border-l-2 border-gray-200 pl-4 py-2",children:(0,gn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-600 text-sm",children:e.nameEn||e.name}),(0,gn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gn.jsx)("button",{onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Edit sub-category",children:(0,gn.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,gn.jsx)("button",{onClick:()=>n(e._id),className:"text-red-500 hover:text-red-700 transition-colors",title:"Delete sub-category",children:(0,gn.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},e._id)))})},ts=()=>{const[e,t]=(0,s.useState)({mainCategoryName:""}),[a,n]=(0,s.useState)({subCategoryName:""}),[r,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(new Set),[h,p]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[f,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1);(0,s.useEffect)((()=>{w()}),[]);const w=async()=>{try{o(!0),p("");const e=localStorage.getItem("token"),t=await un.get("".concat(xn,"/item-categories"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(h){console.error("Error fetching categories:",h),p("Failed to load categories. Please refresh the page.")}finally{o(!1)}},k=e=>{d(e),t({mainCategoryName:e.nameEn||e.name||""}),p(""),g("")},S=async e=>{if(window.confirm("Are you sure you want to delete this category? This will also delete all its sub-categories."))try{p("");const t=localStorage.getItem("token");await un.delete("".concat(xn,"/item-categories/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),g("Category deleted successfully!"),w(),setTimeout((()=>g("")),3e3)}catch(h){console.error("Error deleting category:",h),p("Failed to delete category. Please try again.")}},C=()=>{b(!1),v(null),n({subCategoryName:""}),p("")};return i?(0,gn.jsx)("div",{className:"p-6",children:(0,gn.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,gn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,gn.jsx)("span",{className:"ml-2",children:"Loading categories..."})]})})}):(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,gn.jsx)("div",{className:"bg-green-200 p-4 rounded-lg mb-6",children:(0,gn.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Item Categories"})}),h&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),x&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:x}),(0,gn.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),e.mainCategoryName.trim())try{p("");const a=localStorage.getItem("token"),n={nameEn:e.mainCategoryName.trim(),nameUr:""};c?(await un.put("".concat(xn,"/item-categories/").concat(c._id),n,{headers:{Authorization:"Bearer ".concat(a)}}),d(null),g("Category updated successfully!")):(await un.post("".concat(xn,"/item-categories"),n,{headers:{Authorization:"Bearer ".concat(a)}}),g("Category created successfully!")),t({mainCategoryName:""}),w(),setTimeout((()=>g("")),3e3)}catch(h){var n,r;console.error("Error creating/updating category:",h),p((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to save category. Please try again.")}else p("Please enter a category name")},className:"grid grid-cols-1 gap-6 mb-8",children:[(0,gn.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-700",children:"Category Name:"}),(0,gn.jsx)("div",{className:"col-span-2",children:(0,gn.jsx)("input",{type:"text",name:"mainCategoryName",value:e.mainCategoryName,onChange:e=>{const{name:a,value:n}=e.target;t((e=>qt(qt({},e),{},{[a]:n})))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category name",required:!0})})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-2",children:[c&&(0,gn.jsx)("button",{type:"button",onClick:()=>{d(null),t({mainCategoryName:""}),p(""),g("")},className:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,gn.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition-colors",children:c?"Update Category":"Create Category"})]})]}),(0,gn.jsx)("div",{className:"mt-8",children:(0,gn.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[(0,gn.jsx)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-300",children:(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gn.jsx)("div",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wider",children:"ITEM CATEGORY NAME"}),(0,gn.jsx)("div",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wider",children:"ACTIONS"})]})}),(0,gn.jsx)("div",{className:"divide-y divide-gray-200",children:r.map((e=>(0,gn.jsxs)("div",{children:[(0,gn.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,gn.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,gn.jsx)("div",{className:"font-medium text-gray-800",children:e.nameEn||e.name}),(0,gn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gn.jsx)("button",{onClick:()=>(async e=>{m((t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a}))})(e._id),className:"text-gray-500 hover:text-gray-700 transition-colors",title:u.has(e._id)?"Collapse":"Expand",children:u.has(e._id)?(0,gn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):(0,gn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,gn.jsx)("button",{onClick:()=>k(e),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Edit category",children:(0,gn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,gn.jsx)("button",{onClick:()=>(v(e),n({subCategoryName:""}),b(!0),void p("")),className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-green-600 transition-colors",title:"Add sub-category",children:(0,gn.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,gn.jsx)("button",{onClick:()=>S(e._id),className:"text-red-500 hover:text-red-700 transition-colors",title:"Delete category",children:(0,gn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),u.has(e._id)&&(0,gn.jsx)("div",{className:"bg-gray-50 px-6 py-2 border-t border-gray-200",children:(0,gn.jsx)(es,{parentId:e._id,onEdit:k,onDelete:S})})]},e._id)))})]})})]}),f&&(0,gn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,gn.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,gn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Sub-Category"}),(0,gn.jsx)("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,gn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,gn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y&&(0,gn.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,gn.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,gn.jsx)("span",{className:"font-medium",children:"Parent Category:"})," ",y.nameEn||y.name]})}),(0,gn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.subCategoryName.trim()&&y)try{N(!0),p("");const e=localStorage.getItem("token"),t={nameEn:a.subCategoryName.trim(),nameUr:a.subCategoryName.trim(),parentId:y._id};await un.post("".concat(xn,"/item-categories"),t,{headers:{Authorization:"Bearer ".concat(e)}}),g("Sub-category created successfully!"),w(),C(),setTimeout((()=>g("")),3e3)}catch(h){var t,n;console.error("Error creating sub-category:",h),p((null===(t=h.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to create sub-category. Please try again.")}finally{N(!1)}else p("Please enter a sub-category name")},className:"space-y-4",children:[(0,gn.jsxs)("div",{children:[(0,gn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-Category Name *"}),(0,gn.jsx)("input",{type:"text",name:"subCategoryName",value:a.subCategoryName,onChange:e=>{const{name:t,value:a}=e.target;n((e=>qt(qt({},e),{},{[t]:a})))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter sub-category name",required:!0,autoFocus:!0})]}),(0,gn.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,gn.jsx)("button",{type:"button",onClick:C,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,gn.jsx)("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50",children:j?"Creating...":"Create Sub-Category"})]})]})]})})]})};const as=function(){return(0,gn.jsx)(vn,{children:(0,gn.jsx)(Ae,{children:(0,gn.jsxs)(Ne,{children:[(0,gn.jsx)(ve,{path:"/",element:(0,gn.jsx)(Nr,{})}),(0,gn.jsx)(ve,{path:"/*",element:(0,gn.jsx)(Nn,{children:(0,gn.jsx)(Cn,{menuItems:[{label:"Dashboards",path:"/dashboard",icon:"\ud83d\udcca"},{label:"Branch Order",icon:"\ud83d\udce6",children:[{label:"Branch",children:[{label:"Create Order",path:"/branch-order/create-order"},{label:"Order Submission",path:"/branch-order/order-submission"},{label:"Order History & Tracking",path:"/branch-order/order-history"},{label:"Inventory Control",children:[{label:"Receiving Order",path:"/branch-order/receiving-order"},{label:"Stock Count",path:"/branch-order/stock-count"},{label:"Wastage",path:"/branch-order/wastage"}]}]},{label:"Central Kitchen",children:[{label:"Dashboard",path:"/central-kitchen/dashboard"},{label:"Branch Orders & History",path:"/central-kitchen/branch-orders-history"},{label:"Pick List",path:"/central-kitchen/pick-list"},{label:"Order Processing & Prep",path:"/central-kitchen/order-processing-prep"}]},{label:"Reports & Analytics",children:[{label:"Order Patterns",path:"/reports/order-patterns"},{label:"Missing Item Analysis",path:"/reports/missing-item-analysis"},{label:"Wastage Reports",path:"/reports/wastage-reports"}]},{label:"Branch Settings",children:[{label:"Create Item",path:"/branch-settings/create-item"},{label:"Branch Category",path:"/branch-settings/create-category"}]}]},{label:"Settings",icon:"\u2699\ufe0f",children:[{label:"User Management",path:"/user-management"},{label:"User",path:"/user"},{label:"Gallery",path:"/gallery"},{label:"Roles",path:"/roles"},{label:"Units",path:"/units"},{label:"Menu Category",path:"/menu"},{label:"Sub Categories",path:"/sub-categories"},{label:"Departments",path:"/departments"},{label:"Tax",path:"/tax"},{label:"Branches",path:"/branches"},{label:"Brand",path:"/brand"},{label:"Currency",path:"/currency"},{label:"Sections",path:"/sections"}]},{label:"Item Category",icon:"\ud83d\udcc2",children:[{label:"Purchase Category",path:"/purchase-category"},{label:"Menu Category",path:"/menu-category"},{label:"Branch Category",path:"/branch-category"},{label:"Sub Categories",path:"/sub-categories"}]},{label:"Create",icon:"\u2795",children:[{label:"Items",path:"/items"},{label:"Recipe Experts",path:"/recipe-experts"},{label:"Suppliers",path:"/suppliers"},{label:"Packaging",path:"/packaging"}]},{label:"Inventory",path:"/inventory",icon:"\ud83d\udce6"},{label:"Reports",path:"/reports",icon:"\ud83d\udcca"},{label:"Procurements",path:"/procurements",icon:"\ud83d\uded2"},{label:"Costing",path:"/costing",icon:"\ud83d\udcb0"},{label:"Analytics",path:"/analytics",icon:"\ud83d\udcc8"},{label:"Operations",path:"/operations",icon:"\u2699\ufe0f"},{label:"Production",path:"/production",icon:"\ud83c\udfed"}],children:(0,gn.jsxs)(Ne,{children:[(0,gn.jsx)(ve,{path:"/dashboard",element:(0,gn.jsx)(En,{})}),(0,gn.jsx)(ve,{path:"/user-management",element:(0,gn.jsx)(Ar,{})}),(0,gn.jsx)(ve,{path:"/user",element:(0,gn.jsx)(Mn,{})}),(0,gn.jsx)(ve,{path:"/gallery",element:(0,gn.jsx)(Fn,{})}),(0,gn.jsx)(ve,{path:"/roles",element:(0,gn.jsx)(fr,{})}),(0,gn.jsx)(ve,{path:"/units",element:(0,gn.jsx)(gr,{})}),(0,gn.jsx)(ve,{path:"/items",element:(0,gn.jsx)(xr,{})}),(0,gn.jsx)(ve,{path:"/departments",element:(0,gn.jsx)(pr,{})}),(0,gn.jsx)(ve,{path:"/recipe-experts",element:(0,gn.jsx)(hr,{})}),(0,gn.jsx)(ve,{path:"/suppliers",element:(0,gn.jsx)(ur,{})}),(0,gn.jsx)(ve,{path:"/packaging",element:(0,gn.jsx)(mr,{})}),(0,gn.jsx)(ve,{path:"/inventory",element:(0,gn.jsx)(dr,{})}),(0,gn.jsx)(ve,{path:"/reports",element:(0,gn.jsx)(cr,{})}),(0,gn.jsx)(ve,{path:"/procurements",element:(0,gn.jsx)(or,{})}),(0,gn.jsx)(ve,{path:"/costing",element:(0,gn.jsx)(ir,{})}),(0,gn.jsx)(ve,{path:"/analytics",element:(0,gn.jsx)(lr,{})}),(0,gn.jsx)(ve,{path:"/operations",element:(0,gn.jsx)(sr,{})}),(0,gn.jsx)(ve,{path:"/production",element:(0,gn.jsx)(rr,{})}),(0,gn.jsx)(ve,{path:"/branches",element:(0,gn.jsx)(nr,{})}),(0,gn.jsx)(ve,{path:"/brand",element:(0,gn.jsx)(br,{})}),(0,gn.jsx)(ve,{path:"/currency",element:(0,gn.jsx)(yr,{})}),(0,gn.jsx)(ve,{path:"/menu",element:(0,gn.jsx)(vr,{})}),(0,gn.jsx)(ve,{path:"/tax",element:(0,gn.jsx)(jr,{})}),(0,gn.jsx)(ve,{path:"/items/:id/edit",element:(0,gn.jsx)(Er,{})}),(0,gn.jsx)(ve,{path:"/sub-category-items",element:(0,gn.jsx)(Pr,{})}),(0,gn.jsx)(ve,{path:"/sub-categories",element:(0,gn.jsx)(_r,{})}),(0,gn.jsx)(ve,{path:"/branch-orders",element:(0,gn.jsx)(Tr,{})}),(0,gn.jsx)(ve,{path:"/sections",element:(0,gn.jsx)(Or,{})}),(0,gn.jsx)(ve,{path:"/purchase-category",element:(0,gn.jsx)(Br,{})}),(0,gn.jsx)(ve,{path:"/menu-category",element:(0,gn.jsx)(Rr,{})}),(0,gn.jsx)(ve,{path:"/branch-category",element:(0,gn.jsx)(Ir,{})}),(0,gn.jsx)(ve,{path:"/branch-order/branch",element:(0,gn.jsx)(Dr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/central-kitchen",element:(0,gn.jsx)(Lr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/reports",element:(0,gn.jsx)(Ur,{})}),(0,gn.jsx)(ve,{path:"/branch-order/settings",element:(0,gn.jsx)(zr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/create-order",element:(0,gn.jsx)(Fr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/order-submission",element:(0,gn.jsx)(Vr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/order-history",element:(0,gn.jsx)(Hr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/inventory-control",element:(0,gn.jsx)(Qr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/receiving-order",element:(0,gn.jsx)(Wr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/stock-count",element:(0,gn.jsx)(Kr,{})}),(0,gn.jsx)(ve,{path:"/branch-order/wastage",element:(0,gn.jsx)(Gr,{})}),(0,gn.jsx)(ve,{path:"/central-kitchen/dashboard",element:(0,gn.jsx)(Yr,{})}),(0,gn.jsx)(ve,{path:"/central-kitchen/branch-orders-history",element:(0,gn.jsx)(Jr,{})}),(0,gn.jsx)(ve,{path:"/central-kitchen/pick-list",element:(0,gn.jsx)(Zr,{})}),(0,gn.jsx)(ve,{path:"/central-kitchen/order-processing-prep",element:(0,gn.jsx)(Xr,{})}),(0,gn.jsx)(ve,{path:"/reports/order-patterns",element:(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsx)("h1",{children:"Order Patterns"}),(0,gn.jsx)("p",{children:"Coming Soon..."})]})}),(0,gn.jsx)(ve,{path:"/reports/missing-item-analysis",element:(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsx)("h1",{children:"Missing Item Analysis"}),(0,gn.jsx)("p",{children:"Coming Soon..."})]})}),(0,gn.jsx)(ve,{path:"/reports/wastage-reports",element:(0,gn.jsxs)("div",{className:"p-6",children:[(0,gn.jsx)("h1",{children:"Wastage Reports"}),(0,gn.jsx)("p",{children:"Coming Soon..."})]})}),(0,gn.jsx)(ve,{path:"/branch-settings/create-item",element:(0,gn.jsx)($r,{})}),(0,gn.jsx)(ve,{path:"/branch-settings/create-category",element:(0,gn.jsx)(ts,{})})]})})})})]})})})},ns=e=>{e&&e instanceof Function&&a.e(488).then(a.bind(a,488)).then((t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:s,getTTFB:l}=t;a(e),n(e),r(e),s(e),l(e)}))};i.createRoot(document.getElementById("root")).render((0,gn.jsx)(s.StrictMode,{children:(0,gn.jsx)(as,{})})),ns()})();
//# sourceMappingURL=main.c866b8e4.js.map
{"ast":null,"code":"import _objectSpread from\"C:/Haris/Project/Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import backend_url from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ItemCategory=()=>{const[categories,setCategories]=useState([]);const[showModal,setShowModal]=useState(false);const[editMode,setEditMode]=useState(false);const[currentId,setCurrentId]=useState(null);const[formData,setFormData]=useState({nameEn:'',nameUr:''});const fetchCategories=async()=>{const res=await axios.get(\"\".concat(backend_url,\"/item-categories\"));setCategories(res.data);};useEffect(()=>{fetchCategories();},[]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const resetForm=()=>{setFormData({nameEn:'',nameUr:''});setShowModal(false);setEditMode(false);setCurrentId(null);};const handleSave=async()=>{if(formData.nameEn.trim()){if(editMode){await axios.put(\"\".concat(backend_url,\"/item-categories/\").concat(currentId),formData);}else{await axios.post(\"\".concat(backend_url,\"/item-categories\"),formData);}resetForm();fetchCategories();}};const handleDelete=async id=>{const confirmDelete=window.confirm('Delete this category?');if(confirmDelete){await axios.delete(\"\".concat(backend_url,\"/item-categories/\").concat(id));fetchCategories();}};const openEditModal=cat=>{setEditMode(true);setCurrentId(cat._id);setFormData({nameEn:cat.nameEn,nameUr:cat.nameUr});setShowModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Item Categories\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#735dff] text-white px-4 py-2 rounded\",onClick:()=>setShowModal(true),children:\"Add Category\"})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md w-1/2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:editMode?'Edit Category':'Add New Category'}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nameEn\",value:formData.nameEn,onChange:handleChange,placeholder:\"Name (English)\",className:\"border p-2 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nameUr\",value:formData.nameUr,onChange:handleChange,placeholder:\"Name (Urdu)\",className:\"border p-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"text-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"bg-green-500 text-white px-4 py-2 rounded\",children:editMode?'Update':'Save'})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Name (English)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Name (Urdu)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Total Items\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:categories.map(cat=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:cat.nameEn}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:cat.nameUr}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:cat.totalItems}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 border-b text-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(cat),className:\"text-[#735dff] hover:underline\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(cat._id),className:\"text-red-500 hover:underline\",children:\"Delete\"})]})]},cat._id))})]})]});};export default ItemCategory;","map":{"version":3,"names":["React","useEffect","useState","axios","backend_url","jsx","_jsx","jsxs","_jsxs","ItemCategory","categories","setCategories","showModal","setShowModal","editMode","setEditMode","currentId","setCurrentId","formData","setFormData","nameEn","nameUr","fetchCategories","res","get","concat","data","handleChange","e","name","value","target","prev","_objectSpread","resetForm","handleSave","trim","put","post","handleDelete","id","confirmDelete","window","confirm","delete","openEditModal","cat","_id","className","children","onClick","type","onChange","placeholder","map","totalItems"],"sources":["C:/Haris/Project/Project/frontend/src/pages/ItemCategory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport backend_url from '../config/config';\r\n\r\nconst ItemCategory = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentId, setCurrentId] = useState(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    nameEn: '',\r\n    nameUr: ''\r\n  });\r\n\r\n  const fetchCategories = async () => {\r\n    const res = await axios.get(`${backend_url}/item-categories`);\r\n    setCategories(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({ nameEn: '', nameUr: '' });\r\n    setShowModal(false);\r\n    setEditMode(false);\r\n    setCurrentId(null);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (formData.nameEn.trim()) {\r\n      if (editMode) {\r\n        await axios.put(`${backend_url}/item-categories/${currentId}`, formData);\r\n      } else {\r\n        await axios.post(`${backend_url}/item-categories`, formData);\r\n      }\r\n      resetForm();\r\n      fetchCategories();\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const confirmDelete = window.confirm('Delete this category?');\r\n    if (confirmDelete) {\r\n      await axios.delete(`${backend_url}/item-categories/${id}`);\r\n      fetchCategories();\r\n    }\r\n  };\r\n\r\n  const openEditModal = (cat) => {\r\n    setEditMode(true);\r\n    setCurrentId(cat._id);\r\n    setFormData({ nameEn: cat.nameEn, nameUr: cat.nameUr });\r\n    setShowModal(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold\">Item Categories</h2>\r\n        <button\r\n          className=\"bg-[#735dff] text-white px-4 py-2 rounded\"\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          Add Category\r\n        </button>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded shadow-md w-1/2\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {editMode ? 'Edit Category' : 'Add New Category'}\r\n            </h3>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"nameEn\"\r\n                value={formData.nameEn}\r\n                onChange={handleChange}\r\n                placeholder=\"Name (English)\"\r\n                className=\"border p-2 rounded\"\r\n              />\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"nameUr\"\r\n                value={formData.nameUr}\r\n                onChange={handleChange}\r\n                placeholder=\"Name (Urdu)\"\r\n                className=\"border p-2 rounded\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button onClick={resetForm} className=\"text-gray-500\">Cancel</button>\r\n              <button onClick={handleSave} className=\"bg-green-500 text-white px-4 py-2 rounded\">\r\n                {editMode ? 'Update' : 'Save'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <table className=\"min-w-full bg-white border mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"py-2 border-b\">Name (English)</th>\r\n            <th className=\"py-2 border-b\">Name (Urdu)</th>\r\n            <th className=\"py-2 border-b\">Total Items</th>\r\n            <th className=\"py-2 border-b\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {categories.map(cat => (\r\n            <tr key={cat._id}>\r\n              <td className=\"py-2 border-b text-center\">{cat.nameEn}</td>\r\n              <td className=\"py-2 border-b text-center\">{cat.nameUr}</td>\r\n              <td className=\"py-2 border-b text-center\">{cat.totalItems}</td>\r\n              <td className=\"py-2 border-b text-center space-x-2\">\r\n                <button\r\n                  onClick={() => openEditModal(cat)}\r\n                  className=\"text-[#735dff] hover:underline\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(cat._id)}\r\n                  className=\"text-red-500 hover:underline\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemCategory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
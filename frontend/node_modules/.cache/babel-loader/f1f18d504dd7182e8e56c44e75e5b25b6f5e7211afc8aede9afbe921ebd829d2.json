{"ast":null,"code":"import _objectSpread from\"C:/Users/Dev/Desktop/Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import backend_url from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Branches=()=>{const[branches,setBranches]=useState([]);const[newBranch,setNewBranch]=useState({name:'',code:''});const[showModal,setShowModal]=useState(false);const[editMode,setEditMode]=useState(false);const[currentBranchId,setCurrentBranchId]=useState(null);const fetchBranches=async()=>{const res=await axios.get(\"\".concat(backend_url,\"/branch\"));setBranches(res.data);};useEffect(()=>{fetchBranches();},[]);const handleAddBranch=async()=>{if(newBranch.name.trim()&&newBranch.code.trim()){await axios.post(\"\".concat(backend_url,\"/branch\"),newBranch);setNewBranch({name:'',code:''});setShowModal(false);fetchBranches();}else{alert('Please enter both Name and Code.');}};const handleUpdateBranch=async()=>{if(newBranch.name.trim()&&newBranch.code.trim()&&currentBranchId){await axios.put(\"\".concat(backend_url,\"/branch/\").concat(currentBranchId),newBranch);setNewBranch({name:'',code:''});setCurrentBranchId(null);setEditMode(false);setShowModal(false);fetchBranches();}else{alert('Please enter both Name and Code.');}};const handleDelete=async id=>{const confirmDelete=window.confirm(\"Are you sure you want to delete this branch?\");if(confirmDelete){await axios.delete(\"\".concat(backend_url,\"/branch/\").concat(id));fetchBranches();}};const openEditModal=branch=>{setEditMode(true);setCurrentBranchId(branch._id);setNewBranch({name:branch.name,code:branch.code});setShowModal(true);};const closeModal=()=>{setShowModal(false);setEditMode(false);setNewBranch({name:'',code:''});setCurrentBranchId(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Branches\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#735dff] text-white px-4 py-2 rounded\",onClick:()=>setShowModal(true),children:\"Add Branch\"})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md w-1/3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:editMode?'Edit Branch':'Add New Branch'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBranch.name,onChange:e=>setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{name:e.target.value})),placeholder:\"Enter branch name\",className:\"w-full border p-2 mb-4 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBranch.code,onChange:e=>setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{code:e.target.value})),placeholder:\"Enter branch code\",className:\"w-full border p-2 mb-4 rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"text-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editMode?handleUpdateBranch:handleAddBranch,className:\"bg-green-500 text-white px-4 py-2 rounded\",children:editMode?'Update':'Save'})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Branch Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Branch Code\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:branches.map((branch,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:branch.name}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:branch.code}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 border-b text-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(branch),className:\"text-[#735dff] hover:underline\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(branch._id),className:\"text-red-500 hover:underline\",children:\"Delete\"})]})]},branch._id))})]})]});};export default Branches;","map":{"version":3,"names":["React","useState","useEffect","axios","backend_url","jsx","_jsx","jsxs","_jsxs","Branches","branches","setBranches","newBranch","setNewBranch","name","code","showModal","setShowModal","editMode","setEditMode","currentBranchId","setCurrentBranchId","fetchBranches","res","get","concat","data","handleAddBranch","trim","post","alert","handleUpdateBranch","put","handleDelete","id","confirmDelete","window","confirm","delete","openEditModal","branch","_id","closeModal","className","children","onClick","type","value","onChange","e","_objectSpread","target","placeholder","map","index"],"sources":["C:/Users/Dev/Desktop/Project/frontend/src/pages/Branches.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport backend_url from '../config/config';\r\n\r\nconst Branches = () => {\r\n  const [branches, setBranches] = useState([]);\r\n  const [newBranch, setNewBranch] = useState({ name: '', code: '' });\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentBranchId, setCurrentBranchId] = useState(null);\r\n\r\n  const fetchBranches = async () => {\r\n    const res = await axios.get(`${backend_url}/branch`);\r\n    setBranches(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBranches();\r\n  }, []);\r\n\r\n  const handleAddBranch = async () => {\r\n    if (newBranch.name.trim() && newBranch.code.trim()) {\r\n      await axios.post(`${backend_url}/branch`, newBranch);\r\n      setNewBranch({ name: '', code: '' });\r\n      setShowModal(false);\r\n      fetchBranches();\r\n    } else {\r\n      alert('Please enter both Name and Code.');\r\n    }\r\n  };\r\n\r\n  const handleUpdateBranch = async () => {\r\n    if (newBranch.name.trim() && newBranch.code.trim() && currentBranchId) {\r\n      await axios.put(`${backend_url}/branch/${currentBranchId}`, newBranch);\r\n      setNewBranch({ name: '', code: '' });\r\n      setCurrentBranchId(null);\r\n      setEditMode(false);\r\n      setShowModal(false);\r\n      fetchBranches();\r\n    } else {\r\n      alert('Please enter both Name and Code.');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this branch?\");\r\n    if (confirmDelete) {\r\n      await axios.delete(`${backend_url}/branch/${id}`);\r\n      fetchBranches();\r\n    }\r\n  };\r\n\r\n  const openEditModal = (branch) => {\r\n    setEditMode(true);\r\n    setCurrentBranchId(branch._id);\r\n    setNewBranch({ name: branch.name, code: branch.code });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setEditMode(false);\r\n    setNewBranch({ name: '', code: '' });\r\n    setCurrentBranchId(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 z-10\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold\">Branches</h2>\r\n        <button\r\n          className=\"bg-[#735dff] text-white px-4 py-2 rounded\"\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          Add Branch\r\n        </button>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded shadow-md w-1/3\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {editMode ? 'Edit Branch' : 'Add New Branch'}\r\n            </h3>\r\n            <input\r\n              type=\"text\"\r\n              value={newBranch.name}\r\n              onChange={(e) => setNewBranch({ ...newBranch, name: e.target.value })}\r\n              placeholder=\"Enter branch name\"\r\n              className=\"w-full border p-2 mb-4 rounded\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              value={newBranch.code}\r\n              onChange={(e) => setNewBranch({ ...newBranch, code: e.target.value })}\r\n              placeholder=\"Enter branch code\"\r\n              className=\"w-full border p-2 mb-4 rounded\"\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button onClick={closeModal} className=\"text-gray-500\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={editMode ? handleUpdateBranch : handleAddBranch}\r\n                className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n              >\r\n                {editMode ? 'Update' : 'Save'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <table className=\"min-w-full bg-white border mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"py-2 border-b\">#</th>\r\n            <th className=\"py-2 border-b\">Branch Name</th>\r\n            <th className=\"py-2 border-b\">Branch Code</th>\r\n            <th className=\"py-2 border-b\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {branches.map((branch, index) => (\r\n            <tr key={branch._id}>\r\n              <td className=\"py-2 border-b text-center\">{index + 1}</td>\r\n              <td className=\"py-2 border-b text-center\">{branch.name}</td>\r\n              <td className=\"py-2 border-b text-center\">{branch.code}</td>\r\n              <td className=\"py-2 border-b text-center space-x-2\">\r\n                <button\r\n                  onClick={() => openEditModal(branch)}\r\n                  className=\"text-[#735dff] hover:underline\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(branch._id)}\r\n                  className=\"text-red-500 hover:underline\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Branches;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
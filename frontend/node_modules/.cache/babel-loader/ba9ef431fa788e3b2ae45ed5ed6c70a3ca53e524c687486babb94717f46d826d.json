{"ast":null,"code":"import _objectSpread from\"C:/Users/Dev/Desktop/Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import backend_url from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Currency=()=>{const[currencies,setCurrencies]=useState([]);const[newCurrency,setNewCurrency]=useState({currencyName:'',symbol:''});const[showModal,setShowModal]=useState(false);const[editMode,setEditMode]=useState(false);const[currentCurrencyId,setCurrentCurrencyId]=useState(null);const fetchCurrencies=async()=>{const res=await axios.get(\"\".concat(backend_url,\"/currency\"));setCurrencies(res.data);};useEffect(()=>{fetchCurrencies();},[]);const handleAddCurrency=async()=>{if(newCurrency.currencyName.trim()&&newCurrency.symbol.trim()){await axios.post(\"\".concat(backend_url,\"/currency\"),newCurrency);setNewCurrency({currencyName:'',symbol:''});setShowModal(false);fetchCurrencies();}else{alert('Please enter both Currency Name and Symbol.');}};const handleUpdateCurrency=async()=>{if(newCurrency.currencyName.trim()&&newCurrency.symbol.trim()&&currentCurrencyId){await axios.put(\"\".concat(backend_url,\"/currency/\").concat(currentCurrencyId),newCurrency);setNewCurrency({currencyName:'',symbol:''});setCurrentCurrencyId(null);setEditMode(false);setShowModal(false);fetchCurrencies();}else{alert('Please enter both Currency Name and Symbol.');}};const handleDelete=async id=>{const confirmDelete=window.confirm(\"Are you sure you want to delete this currency?\");if(confirmDelete){await axios.delete(\"\".concat(backend_url,\"/currency/\").concat(id));fetchCurrencies();}};const openEditModal=currency=>{setEditMode(true);setCurrentCurrencyId(currency._id);setNewCurrency({currencyName:currency.currencyName,symbol:currency.symbol});setShowModal(true);};const closeModal=()=>{setShowModal(false);setEditMode(false);setNewCurrency({currencyName:'',symbol:''});setCurrentCurrencyId(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Currencies\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#735dff] text-white px-4 py-2 rounded\",onClick:()=>setShowModal(true),children:\"Add Currency\"})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md w-1/3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:editMode?'Edit Currency':'Add New Currency'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCurrency.currencyName,onChange:e=>setNewCurrency(_objectSpread(_objectSpread({},newCurrency),{},{currencyName:e.target.value})),placeholder:\"Enter currency name\",className:\"w-full border p-2 mb-4 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCurrency.symbol,onChange:e=>setNewCurrency(_objectSpread(_objectSpread({},newCurrency),{},{symbol:e.target.value})),placeholder:\"Enter symbol\",className:\"w-full border p-2 mb-4 rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"text-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editMode?handleUpdateCurrency:handleAddCurrency,className:\"bg-green-500 text-white px-4 py-2 rounded\",children:editMode?'Update':'Save'})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Currency Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currencies.map((currency,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:currency.currencyName}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:currency.symbol}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 border-b text-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(currency),className:\"text-[#735dff] hover:underline\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(currency._id),className:\"text-red-500 hover:underline\",children:\"Delete\"})]})]},currency._id))})]})]});};export default Currency;","map":{"version":3,"names":["React","useState","useEffect","axios","backend_url","jsx","_jsx","jsxs","_jsxs","Currency","currencies","setCurrencies","newCurrency","setNewCurrency","currencyName","symbol","showModal","setShowModal","editMode","setEditMode","currentCurrencyId","setCurrentCurrencyId","fetchCurrencies","res","get","concat","data","handleAddCurrency","trim","post","alert","handleUpdateCurrency","put","handleDelete","id","confirmDelete","window","confirm","delete","openEditModal","currency","_id","closeModal","className","children","onClick","type","value","onChange","e","_objectSpread","target","placeholder","map","index"],"sources":["C:/Users/Dev/Desktop/Project/frontend/src/pages/Currency.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport backend_url from '../config/config';\r\n\r\nconst Currency = () => {\r\n  const [currencies, setCurrencies] = useState([]);\r\n  const [newCurrency, setNewCurrency] = useState({ currencyName: '', symbol: '' });\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentCurrencyId, setCurrentCurrencyId] = useState(null);\r\n\r\n  const fetchCurrencies = async () => {\r\n    const res = await axios.get(`${backend_url}/currency`);\r\n    setCurrencies(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCurrencies();\r\n  }, []);\r\n\r\n  const handleAddCurrency = async () => {\r\n    if (newCurrency.currencyName.trim() && newCurrency.symbol.trim()) {\r\n      await axios.post(`${backend_url}/currency`, newCurrency);\r\n      setNewCurrency({ currencyName: '', symbol: '' });\r\n      setShowModal(false);\r\n      fetchCurrencies();\r\n    } else {\r\n      alert('Please enter both Currency Name and Symbol.');\r\n    }\r\n  };\r\n\r\n  const handleUpdateCurrency = async () => {\r\n    if (newCurrency.currencyName.trim() && newCurrency.symbol.trim() && currentCurrencyId) {\r\n      await axios.put(`${backend_url}/currency/${currentCurrencyId}`, newCurrency);\r\n      setNewCurrency({ currencyName: '', symbol: '' });\r\n      setCurrentCurrencyId(null);\r\n      setEditMode(false);\r\n      setShowModal(false);\r\n      fetchCurrencies();\r\n    } else {\r\n      alert('Please enter both Currency Name and Symbol.');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this currency?\");\r\n    if (confirmDelete) {\r\n      await axios.delete(`${backend_url}/currency/${id}`);\r\n      fetchCurrencies();\r\n    }\r\n  };\r\n\r\n  const openEditModal = (currency) => {\r\n    setEditMode(true);\r\n    setCurrentCurrencyId(currency._id);\r\n    setNewCurrency({ currencyName: currency.currencyName, symbol: currency.symbol });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setEditMode(false);\r\n    setNewCurrency({ currencyName: '', symbol: '' });\r\n    setCurrentCurrencyId(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 z-10\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold\">Currencies</h2>\r\n        <button\r\n          className=\"bg-[#735dff] text-white px-4 py-2 rounded\"\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          Add Currency\r\n        </button>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded shadow-md w-1/3\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {editMode ? 'Edit Currency' : 'Add New Currency'}\r\n            </h3>\r\n            <input\r\n              type=\"text\"\r\n              value={newCurrency.currencyName}\r\n              onChange={(e) => setNewCurrency({ ...newCurrency, currencyName: e.target.value })}\r\n              placeholder=\"Enter currency name\"\r\n              className=\"w-full border p-2 mb-4 rounded\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              value={newCurrency.symbol}\r\n              onChange={(e) => setNewCurrency({ ...newCurrency, symbol: e.target.value })}\r\n              placeholder=\"Enter symbol\"\r\n              className=\"w-full border p-2 mb-4 rounded\"\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button onClick={closeModal} className=\"text-gray-500\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={editMode ? handleUpdateCurrency : handleAddCurrency}\r\n                className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n              >\r\n                {editMode ? 'Update' : 'Save'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <table className=\"min-w-full bg-white border mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"py-2 border-b\">#</th>\r\n            <th className=\"py-2 border-b\">Currency Name</th>\r\n            <th className=\"py-2 border-b\">Symbol</th>\r\n            <th className=\"py-2 border-b\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {currencies.map((currency, index) => (\r\n            <tr key={currency._id}>\r\n              <td className=\"py-2 border-b text-center\">{index + 1}</td>\r\n              <td className=\"py-2 border-b text-center\">{currency.currencyName}</td>\r\n              <td className=\"py-2 border-b text-center\">{currency.symbol}</td>\r\n              <td className=\"py-2 border-b text-center space-x-2\">\r\n                <button\r\n                  onClick={() => openEditModal(currency)}\r\n                  className=\"text-[#735dff] hover:underline\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(currency._id)}\r\n                  className=\"text-red-500 hover:underline\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Currency;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _objectSpread from\"C:/Haris/Project/Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import backend_url from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MenuItems=()=>{const[items,setItems]=useState([]);const[brands,setBrands]=useState([]);const[newItem,setNewItem]=useState({name:'',brand:''});const[showModal,setShowModal]=useState(false);const[editMode,setEditMode]=useState(false);const[currentId,setCurrentId]=useState(null);useEffect(()=>{fetchItems();fetchBrands();},[]);const fetchItems=async()=>{const res=await axios.get(\"\".concat(backend_url,\"/menu\"));setItems(res.data);};const fetchBrands=async()=>{const res=await axios.get(\"\".concat(backend_url,\"/brand\"));setBrands(res.data);};const handleAdd=async()=>{if(newItem.name&&newItem.brand){await axios.post(\"\".concat(backend_url,\"/menu\"),newItem);resetModal();fetchItems();}};const handleUpdate=async()=>{if(newItem.name&&newItem.brand&&currentId){await axios.put(\"\".concat(backend_url,\"/menu/\").concat(currentId),newItem);resetModal();fetchItems();}};const handleDelete=async id=>{if(window.confirm(\"Are you sure?\")){await axios.delete(\"\".concat(backend_url,\"/menu/\").concat(id));fetchItems();}};const openEditModal=item=>{setEditMode(true);setCurrentId(item._id);setNewItem({name:item.name,brand:item.brand._id});setShowModal(true);};const resetModal=()=>{setNewItem({name:'',brand:''});setShowModal(false);setEditMode(false);setCurrentId(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Menu Category\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-purple-600 text-white px-4 py-2 rounded\",onClick:()=>setShowModal(true),children:\"Add Menu Category\"})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded w-1/3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:editMode?'Edit Menu Category':'Add Menu Category'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newItem.name,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{name:e.target.value})),placeholder:\"Item name\",className:\"w-full border p-2 mb-4 rounded\"}),/*#__PURE__*/_jsxs(\"select\",{value:newItem.brand,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{brand:e.target.value})),className:\"w-full border p-2 mb-4 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Brand\"}),brands.map(b=>/*#__PURE__*/_jsx(\"option\",{value:b._id,children:b.nameEn},b._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:resetModal,className:\"text-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editMode?handleUpdate:handleAdd,className:\"bg-green-500 text-white px-4 py-2 rounded\",children:editMode?'Update':'Save'})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Brand\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map((item,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:i+1}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:item.name}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:item.brand.nameEn}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 border-b text-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(item),className:\"text-purple-600 hover:underline\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(item._id),className:\"text-red-500 hover:underline\",children:\"Delete\"})]})]},item._id))})]})]});};export default MenuItems;","map":{"version":3,"names":["React","useState","useEffect","axios","backend_url","jsx","_jsx","jsxs","_jsxs","MenuItems","items","setItems","brands","setBrands","newItem","setNewItem","name","brand","showModal","setShowModal","editMode","setEditMode","currentId","setCurrentId","fetchItems","fetchBrands","res","get","concat","data","handleAdd","post","resetModal","handleUpdate","put","handleDelete","id","window","confirm","delete","openEditModal","item","_id","className","children","onClick","type","value","onChange","e","_objectSpread","target","placeholder","map","b","nameEn","i"],"sources":["C:/Haris/Project/Project/frontend/src/pages/MenuItems.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport backend_url from '../config/config';\r\n\r\nconst MenuItems = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [brands, setBrands] = useState([]);\r\n  const [newItem, setNewItem] = useState({ name: '', brand: '' });\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentId, setCurrentId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n    fetchBrands();\r\n  }, []);\r\n\r\n  const fetchItems = async () => {\r\n    const res = await axios.get(`${backend_url}/menu`);\r\n    setItems(res.data);\r\n  };\r\n\r\n  const fetchBrands = async () => {\r\n    const res = await axios.get(`${backend_url}/brand`);\r\n    setBrands(res.data);\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    if (newItem.name && newItem.brand) {\r\n      await axios.post(`${backend_url}/menu`, newItem);\r\n      resetModal();\r\n      fetchItems();\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    if (newItem.name && newItem.brand && currentId) {\r\n      await axios.put(`${backend_url}/menu/${currentId}`, newItem);\r\n      resetModal();\r\n      fetchItems();\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      await axios.delete(`${backend_url}/menu/${id}`);\r\n      fetchItems();\r\n    }\r\n  };\r\n\r\n  const openEditModal = (item) => {\r\n    setEditMode(true);\r\n    setCurrentId(item._id);\r\n    setNewItem({ name: item.name, brand: item.brand._id });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const resetModal = () => {\r\n    setNewItem({ name: '', brand: '' });\r\n    setShowModal(false);\r\n    setEditMode(false);\r\n    setCurrentId(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"flex justify-between mb-4\">\r\n        <h2 className=\"text-xl font-bold\">Menu Category</h2>\r\n        <button className=\"bg-purple-600 text-white px-4 py-2 rounded\" onClick={() => setShowModal(true)}>\r\n          Add Menu Category\r\n        </button>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded w-1/3\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">{editMode ? 'Edit Menu Category' : 'Add Menu Category'}</h3>\r\n            <input\r\n              type=\"text\"\r\n              value={newItem.name}\r\n              onChange={(e) => setNewItem({ ...newItem, name: e.target.value })}\r\n              placeholder=\"Item name\"\r\n              className=\"w-full border p-2 mb-4 rounded\"\r\n            />\r\n            <select\r\n              value={newItem.brand}\r\n              onChange={(e) => setNewItem({ ...newItem, brand: e.target.value })}\r\n              className=\"w-full border p-2 mb-4 rounded\"\r\n            >\r\n              <option value=\"\">Select Brand</option>\r\n              {brands.map(b => (\r\n                <option key={b._id} value={b._id}>{b.nameEn}</option>\r\n              ))}\r\n            </select>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button onClick={resetModal} className=\"text-gray-500\">Cancel</button>\r\n              <button\r\n                onClick={editMode ? handleUpdate : handleAdd}\r\n                className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n              >\r\n                {editMode ? 'Update' : 'Save'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <table className=\"min-w-full bg-white border mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"py-2 border-b\">#</th>\r\n            <th className=\"py-2 border-b\">Name</th>\r\n            <th className=\"py-2 border-b\">Brand</th>\r\n            <th className=\"py-2 border-b\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.map((item, i) => (\r\n            <tr key={item._id}>\r\n              <td className=\"py-2 border-b text-center\">{i + 1}</td>\r\n              <td className=\"py-2 border-b text-center\">{item.name}</td>\r\n              <td className=\"py-2 border-b text-center\">{item.brand.nameEn}</td>\r\n              <td className=\"py-2 border-b text-center space-x-2\">\r\n                <button onClick={() => openEditModal(item)} className=\"text-purple-600 hover:underline\">Edit</button>\r\n                <button onClick={() => handleDelete(item._id)} className=\"text-red-500 hover:underline\">Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuItems;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _objectSpread from\"C:/Haris/Project/Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import backend_url from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Tax=()=>{const[taxes,setTaxes]=useState([]);const[formData,setFormData]=useState({name:'',taxRate:''});const[editMode,setEditMode]=useState(false);const[currentTaxId,setCurrentTaxId]=useState(null);const[showModal,setShowModal]=useState(false);const fetchTaxes=async()=>{const res=await axios.get(\"\".concat(backend_url,\"/tax\"));setTaxes(res.data);};useEffect(()=>{fetchTaxes();},[]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSave=async()=>{if(!formData.name||!formData.taxRate)return;if(editMode){await axios.put(\"\".concat(backend_url,\"/tax/\").concat(currentTaxId),formData);}else{await axios.post(\"\".concat(backend_url,\"/tax\"),formData);}resetForm();fetchTaxes();};const handleEdit=tax=>{setEditMode(true);setFormData({name:tax.name,taxRate:tax.taxRate});setCurrentTaxId(tax._id);setShowModal(true);};const handleDelete=async id=>{if(window.confirm('Delete this tax?')){await axios.delete(\"\".concat(backend_url,\"/tax/\").concat(id));fetchTaxes();}};const resetForm=()=>{setFormData({name:'',taxRate:''});setEditMode(false);setCurrentTaxId(null);setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Taxes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(true),className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"Add Tax\"})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded w-1/3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:editMode?'Edit Tax':'Add Tax'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Tax Name\",className:\"w-full mb-3 p-2 border rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"taxRate\",value:formData.taxRate,onChange:handleChange,placeholder:\"Tax Rate\",className:\"w-full mb-4 p-2 border rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"text-gray-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"bg-green-500 text-white px-4 py-2 rounded\",children:editMode?'Update':'Save'})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Tax Rate\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 border-b\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:taxes.map(tax=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 border-b text-center\",children:tax.name}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 border-b text-center\",children:[tax.taxRate,\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 border-b text-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(tax),className:\"text-blue-500\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(tax._id),className:\"text-red-500\",children:\"Delete\"})]})]},tax._id))})]})]});};export default Tax;","map":{"version":3,"names":["React","useEffect","useState","axios","backend_url","jsx","_jsx","jsxs","_jsxs","Tax","taxes","setTaxes","formData","setFormData","name","taxRate","editMode","setEditMode","currentTaxId","setCurrentTaxId","showModal","setShowModal","fetchTaxes","res","get","concat","data","handleChange","e","value","target","prev","_objectSpread","handleSave","put","post","resetForm","handleEdit","tax","_id","handleDelete","id","window","confirm","delete","className","children","onClick","type","onChange","placeholder","map"],"sources":["C:/Haris/Project/Project/frontend/src/pages/Tax.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport backend_url from '../config/config';\r\n\r\n\r\nconst Tax = () => {\r\n  const [taxes, setTaxes] = useState([]);\r\n  const [formData, setFormData] = useState({ name: '', taxRate: '' });\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentTaxId, setCurrentTaxId] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const fetchTaxes = async () => {\r\n    const res = await axios.get(`${backend_url}/tax`);\r\n    setTaxes(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTaxes();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!formData.name || !formData.taxRate) return;\r\n\r\n    if (editMode) {\r\n      await axios.put(`${backend_url}/tax/${currentTaxId}`, formData);\r\n    } else {\r\n      await axios.post(`${backend_url}/tax`, formData);\r\n    }\r\n\r\n    resetForm();\r\n    fetchTaxes();\r\n  };\r\n\r\n  const handleEdit = (tax) => {\r\n    setEditMode(true);\r\n    setFormData({ name: tax.name, taxRate: tax.taxRate });\r\n    setCurrentTaxId(tax._id);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Delete this tax?')) {\r\n      await axios.delete(`${backend_url}/tax/${id}`);\r\n      fetchTaxes();\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({ name: '', taxRate: '' });\r\n    setEditMode(false);\r\n    setCurrentTaxId(null);\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold\">Taxes</h2>\r\n        <button\r\n          onClick={() => setShowModal(true)}\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n        >\r\n          Add Tax\r\n        </button>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded w-1/3\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">{editMode ? 'Edit Tax' : 'Add Tax'}</h3>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              placeholder=\"Tax Name\"\r\n              className=\"w-full mb-3 p-2 border rounded\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              name=\"taxRate\"\r\n              value={formData.taxRate}\r\n              onChange={handleChange}\r\n              placeholder=\"Tax Rate\"\r\n              className=\"w-full mb-4 p-2 border rounded\"\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button onClick={resetForm} className=\"text-gray-500\">Cancel</button>\r\n              <button\r\n                onClick={handleSave}\r\n                className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n              >\r\n                {editMode ? 'Update' : 'Save'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <table className=\"min-w-full bg-white border mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"py-2 border-b\">Name</th>\r\n            <th className=\"py-2 border-b\">Tax Rate</th>\r\n            <th className=\"py-2 border-b\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {taxes.map((tax) => (\r\n            <tr key={tax._id}>\r\n              <td className=\"py-2 border-b text-center\">{tax.name}</td>\r\n              <td className=\"py-2 border-b text-center\">{tax.taxRate}%</td>\r\n              <td className=\"py-2 border-b text-center space-x-2\">\r\n                <button onClick={() => handleEdit(tax)} className=\"text-blue-500\">Edit</button>\r\n                <button onClick={() => handleDelete(tax._id)} className=\"text-red-500\">Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tax;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}